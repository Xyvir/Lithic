

{"created":"20251209221806244","text":"{\"tiddlers\": {\n\"$:/core/ui/ViewTemplate/body/code\": {\n    \"created\": \"20251210062014570\",\n    \"text\": \"\u003C%if [{!!title}is[missing]!is[shadow]]%>\\n{{||$:/language/MissingTiddler/Hint}}\\n\u003C%else%>\\n\u003C$codeblock code={{{[{!!title}get[text]]}}}language={{{[{!!title}get[type]else[text/vnd.tiddlywiki]]}}}/>\\n\",\n    \"title\": \"$:/core/ui/ViewTemplate/body/code\",\n    \"modified\": \"20251210062023774\"\n}\n,\n\"$:/language/MissingTiddler/Hint\": {\n    \"created\": \"20251210061518151\",\n    \"text\": \"\\\\\\\\This is a placeholder due to a hanging link. Press \\\\\\\\\\\"+\\\"\\\\\\\\ below to add content.\\\\\\\\\",\n    \"title\": \"$:/language/MissingTiddler/Hint\",\n    \"modified\": \"20251210061933346\"\n}\n,\n\"$:/TiddlyTools/Pin\": {\n    \"created\": \"20230201010900331\",\n    \"text\": \"\\\\whitespace trim\\n\\\\define tid()\\t\\t$(storyTiddler)$\\n\\\\define here()\\t\\t\u003C\u003CcurrentTiddler>>\\n\\\\define config()\\t$:/config/TiddlyTools/Pin\\n\\\\define button()\\t\u003C$button class=tc-btn-invisible actions=\u003C\u003Ctoggle>> style=\u003C\u003Cpin>> tooltip=\u003C\u003Ctip>>>@@font-size:70%;&#x1F4CC;@@\u003C/$button>\\n\\\\define toggle()\\t\u003C$list filter=\\\"[\u003Cconfig>] [\u003Ctv-story-list>]\\\">\u003C$action-listops $subfilter=\\\"+[toggle\u003Ctid>]\\\"/>\u003C/$list>\\n\\\\define styles()\\t\u003Cstyle>.story-backdrop > p { margin:0; }\u003C/style>\\n\\\\define show()\\t\\t\u003C$list filter=\\\"[list\u003Cconfig>]\\\" template=\\\"$:/core/ui/StoryTiddlerTemplate\\\"/>\\n\u003C$let pin={{{ [\u003Cconfig>!contains\u003Ctid>then[filter:grayscale()]] }}} tip={{{ [\u003Cconfig>contains\u003Ctid>then[un]] [[pin ]] [\u003Ctid>] +[join[]] }}}>\\n\u003C$list filter=\\\"[\u003Ctid>!match[]!match\u003Chere>]\\\">\u003C\u003Cbutton>>\u003C/$list>\\n\u003C$list filter=\\\"[\u003Ctid>match[]]\\\">\u003C\u003Cstyles>>\u003C\u003Cshow>>\u003C/$list>\",\n    \"tags\": \"$:/tags/AboveStory $:/tags/ViewToolbar\",\n    \"title\": \"$:/TiddlyTools/Pin\",\n    \"modified\": \"20251210060903295\",\n    \"caption\": \"&#x1F4CC; pin/unpin tiddler\",\n    \"description\": \"Show tiddler above ~StoryRiver\"\n}\n,\n\"$:/plugins/sq/streams/editor-template\": {\n    \"created\": \"20200601145424630\",\n    \"modified\": \"20251209195122932\",\n    \"type\": \"text/vnd.tiddlywiki\",\n    \"text\": \"\\\\define config-visibility-title()$:/config/EditorToolbarButtons/Visibility/$(currentTiddler)$\\n\\n\u003C$overtype-editor \\n    tag=textarea \\n    minHeight=1em \\n    focus=yes \\n    class=\\\"streams-editor tc-edit-texteditor tc-edit-texteditor-body\\\"\\n    tiddler=\u003C\u003CcurrentTiddler>>\\n>\\n    \u003C$let targetTiddler={{!!title}}>\\n        \u003C$list filter=\\\"[[$:/tags/EditorToolbar]tagging[]!is[draft]]\\\">\\n            \u003C$reveal type=nomatch state=\u003C\u003Cconfig-visibility-title>> text=hide class=tc-text-editor-toolbar-item-wrapper>\\n                \u003C$transclude tiddler=\\\"$:/core/ui/EditTemplate/body/toolbar/button\\\" mode=inline/>\\n            \u003C/$reveal>\\n        \u003C/$list>\\n    \u003C/$let>\\n\u003C/$overtype-editor>\",\n    \"title\": \"$:/plugins/sq/streams/editor-template\"\n}\n,\n\"$:/plugins/lithic/overtype/wrapper\": {\n    \"created\": \"20251209194245167\",\n    \"text\": \"/*\\\\\\ntitle: $:/plugins/lithic/overtype/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nOverType Editor Widget for TiddlyWiki\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\n// --- INHERITANCE: Inherit from Edit-Text to support plugins like Comptext ---\\nvar EditTextWidget = require(\\\"$:/core/modules/widgets/edit-text.js\\\")[\\\"edit-text\\\"];\\n\\n// 1. Force the library code to run\\ntry {\\n    require(\\\"$:/plugins/lithic/overtype/overtype.js\\\"); \\n} catch(e) {\\n    console.warn(\\\"OverType library failed to load via require:\\\", e);\\n}\\n\\n// 2. Robustly find the OverType class\\nvar getOverTypeClass = function() {\\n    var OT = window.OverType;\\n    if (!OT) return null;\\n    if (typeof OT.init === \\\"function\\\") return OT;\\n    if (OT.default && typeof OT.default.init === \\\"function\\\") return OT.default;\\n    return null;\\n};\\n\\n// 3. Highlighter Bridge for TiddlyWiki's highlight.js\\nvar highlighterBridge = function(code, lang) {\\n    var highlighter = $tw.utils.getHighlighter ? $tw.utils.getHighlighter() : null;\\n    if(highlighter && lang) {\\n        try {\\n            var result = highlighter.highlight(lang, code);\\n            if (result && result.value) {\\n                return result.value;\\n            }\\n        } catch(e) {}\\n    }\\n    return $tw.utils.htmlEncode(code);\\n};\\n\\nvar OverTypeWidget = function(parseTreeNode,options) {\\n    this.initialise(parseTreeNode,options);\\n};\\n\\n// --- PROTOTYPE: Set Prototype to EditTextWidget ---\\nOverTypeWidget.prototype = new EditTextWidget();\\n\\nOverTypeWidget.prototype.render = function(parent,nextSibling) {\\n    this.parentDomNode = parent;\\n    this.computeAttributes();\\n    this.execute();\\n\\n    var container = this.document.createElement(\\\"div\\\");\\n    container.style.height = \\\"auto\\\";\\n    container.style.width = \\\"100%\\\";\\n    container.style.minHeight = \\\"100px\\\"; \\n    \\n    var textarea = this.document.createElement(\\\"textarea\\\");\\n    \\n    // --- CLASS & FOCUS HANDLING ---\\n    // 1. Get classes passed from the Template (like 'streams-editor', 'tc-edit-texteditor')\\n    var passedClass = this.getAttribute(\\\"class\\\", \\\"\\\");\\n    \\n    // 2. Combine them with OverType's target class so plugins can find the textarea\\n    textarea.className = \\\"overtype-target \\\" + passedClass;\\n    \\n    // 3. Handle Focus (Streams passes focus=\\\"yes\\\")\\n    var shouldFocus = this.getAttribute(\\\"focus\\\") === \\\"yes\\\";\\n    \\n    container.appendChild(textarea);\\n\\n    parent.insertBefore(container,nextSibling);\\n    this.domNodes.push(container);\\n\\n    var editTitle = this.getAttribute(\\\"tiddler\\\",this.getVariable(\\\"currentTiddler\\\"));\\n    var editField = this.getAttribute(\\\"field\\\",\\\"text\\\");\\n    var initialText = this.wiki.getTiddlerText(editTitle, \\\"\\\") || \\\"\\\";\\n\\n    var self = this;\\n    var OverTypeClass = getOverTypeClass();\\n\\n    if (OverTypeClass) {\\n        var instances = OverTypeClass.init(container, {\\n            value: initialText,\\n            theme: 'cave', // Default theme (dark)\\n            \\n            // --- CONFIGURATION ---\\n            autoResize: true,       // Auto-expand height\\n            toolbar: false,         // Hide Toolbar\\n            showStats: false,       // Hide Stats bar\\n            autofocus: shouldFocus, // Pass the focus state from Streams\\n            \\n            // \\\"Inherent Style\\\" settings\\n            fontFamily: \\\"inherit\\\",\\n            fontSize: \\\"inherit\\\",\\n            lineHeight: \\\"inherit\\\",\\n            padding: \\\"10px\\\",\\n            \\n            // Bridge\\n            codeHighlighter: highlighterBridge,\\n\\n            onChange: function(value) {\\n                self.saveChanges(value, editTitle, editField);\\n            }\\n        });\\n        this.editor = instances[0];\\n    } else {\\n        container.innerHTML = \\\"Error: OverType library not found.\\\";\\n    }\\n    \\n    this.editTitle = editTitle;\\n    this.editField = editField;\\n};\\n\\nOverTypeWidget.prototype.saveChanges = function(text, title, field) {\\n    this.wiki.setText(title, field, null, text);\\n};\\n\\nOverTypeWidget.prototype.refresh = function(changedTiddlers) {\\n    if(changedTiddlers[this.editTitle]) {\\n        var newText = this.wiki.getTiddlerText(this.editTitle);\\n        if(this.editor && this.editor.getValue() !== newText) {\\n             this.editor.setValue(newText);\\n        }\\n    }\\n    return false;\\n};\\n\\nexports[\\\"overtype-editor\\\"] = OverTypeWidget;\\n\\n})();\",\n    \"tags\": \"\",\n    \"title\": \"$:/plugins/lithic/overtype/wrapper\",\n    \"modified\": \"20251209195302588\"\n}\n,\n\"$:/plugins/lithic/overtype/widget.js\": {\n    \"created\": \"20251209195616944\",\n    \"text\": \"/*\\\\\\ntitle: $:/plugins/lithic/overtype/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nOverType Editor Widget for TiddlyWiki\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nvar EditTextWidget = require(\\\"$:/core/modules/widgets/edit-text.js\\\")[\\\"edit-text\\\"];\\n\\n// 1. Load OverType\\ntry {\\n    require(\\\"$:/plugins/lithic/overtype/overtype.js\\\"); \\n} catch(e) { console.warn(\\\"OverType library failed to load:\\\", e); }\\n\\n// 2. Load CompText Library\\nvar CompletionLib;\\ntry {\\n    CompletionLib = require(\\\"$:/plugins/snowgoon88/edit-comptext/completion.js\\\");\\n} catch(e) { console.log(\\\"CompText library not found (optional).\\\"); }\\n\\nvar getOverTypeClass = function() {\\n    var OT = window.OverType;\\n    if (!OT) return null;\\n    if (typeof OT.init === \\\"function\\\") return OT;\\n    if (OT.default && typeof OT.default.init === \\\"function\\\") return OT.default;\\n    return null;\\n};\\n\\nvar highlighterBridge = function(code, lang) {\\n    var highlighter = $tw.utils.getHighlighter ? $tw.utils.getHighlighter() : null;\\n    if(highlighter && lang) {\\n        try {\\n            var result = highlighter.highlight(lang, code);\\n            if (result && result.value) return result.value;\\n        } catch(e) {}\\n    }\\n    return $tw.utils.htmlEncode(code);\\n};\\n\\nvar OverTypeWidget = function(parseTreeNode,options) {\\n    this.initialise(parseTreeNode,options);\\n};\\n\\nOverTypeWidget.prototype = new EditTextWidget();\\n\\nOverTypeWidget.prototype.render = function(parent,nextSibling) {\\n    this.parentDomNode = parent;\\n    this.computeAttributes();\\n    this.execute();\\n\\n    var container = this.document.createElement(\\\"div\\\");\\n    container.style.height = \\\"auto\\\";\\n    container.style.width = \\\"100%\\\";\\n    container.style.minHeight = \\\"0px\\\"; \\n    \\n    parent.insertBefore(container,nextSibling);\\n    this.domNodes.push(container);\\n\\n    var editTitle = this.getAttribute(\\\"tiddler\\\",this.getVariable(\\\"currentTiddler\\\"));\\n    var editField = this.getAttribute(\\\"field\\\",\\\"text\\\");\\n    var initialText = this.wiki.getTiddlerText(editTitle, \\\"\\\") || \\\"\\\";\\n    \\n    var passedClass = this.getAttribute(\\\"class\\\", \\\"\\\");\\n    var shouldFocus = this.getAttribute(\\\"focus\\\") === \\\"yes\\\";\\n    \\n    // Check if minHeight was passed (Streams passes \\\"1em\\\"), otherwise default to \\\"0px\\\"\\n    var attrMinHeight = this.getAttribute(\\\"minHeight\\\") || \\\"0px\\\";\\n\\n    var self = this;\\n    var OverTypeClass = getOverTypeClass();\\n\\n    if (OverTypeClass) {\\n        var instances = OverTypeClass.init(container, {\\n            value: initialText,\\n            theme: 'cave', \\n            autoResize: true,       \\n            toolbar: false,         \\n            showStats: false,       \\n            fontFamily: \\\"inherit\\\",\\n            fontSize: \\\"inherit\\\",\\n            lineHeight: \\\"inherit\\\",\\n            padding: \\\"8px\\\", \\n            codeHighlighter: highlighterBridge,\\n            autofocus: shouldFocus,\\n            \\n            // --- THE FIX ---\\n            // Overriding the library default of \\\"100px\\\"\\n            minHeight: attrMinHeight,\\n\\n            onChange: function(value) {\\n                self.saveChanges(value, editTitle, editField);\\n            }\\n        });\\n        \\n        this.editor = instances[0];\\n\\n        if (this.editor && this.editor.textarea) {\\n            var ta = this.editor.textarea;\\n\\n            // Force wrapper override just in case CSS rules persist\\n            if (this.editor.wrapper) {\\n                this.editor.wrapper.style.setProperty(\\\"min-height\\\", attrMinHeight, \\\"important\\\");\\n            }\\n\\n            // Visual Fixes\\n            ta.classList.add(\\\"tc-edit-texteditor\\\");\\n            if (passedClass) {\\n                passedClass.split(\\\" \\\").forEach(function(c) { if(c) ta.classList.add(c); });\\n            }\\n            ta.style.setProperty(\\\"background\\\", \\\"transparent\\\", \\\"important\\\");\\n            ta.style.setProperty(\\\"color\\\", \\\"transparent\\\", \\\"important\\\");\\n            ta.style.setProperty(\\\"caret-color\\\", \\\"var(--cursor, #f95738)\\\", \\\"important\\\");\\n            \\n            // CompText Integration\\n            if (CompletionLib && CompletionLib.Completion) {\\n                var configText = this.wiki.getTiddlerText(\\\"$:/plugins/snowgoon88/edit-comptext/config\\\");\\n                var config = {};\\n                if (configText) {\\n                    try { config = JSON.parse(configText); } catch(e) {}\\n                }\\n                   // Add 25px (or whatever pixel amount you need) to the top offset\\n                   // Params: (Widget, Textarea, Config, Sibling, OffsetTop, OffsetLeft)\\n                       new CompletionLib.Completion(this, ta, config, container, 140, 50);\\n            }\\n        }\\n\\n    } else {\\n        container.innerHTML = \\\"Error: OverType library not found.\\\";\\n    }\\n    \\n    this.editTitle = editTitle;\\n    this.editField = editField;\\n};\\n\\nOverTypeWidget.prototype.saveChanges = function(text, title, field) {\\n    this.wiki.setText(title, field, null, text);\\n};\\n\\nOverTypeWidget.prototype.refresh = function(changedTiddlers) {\\n    if(changedTiddlers[this.editTitle]) {\\n        var newText = this.wiki.getTiddlerText(this.editTitle);\\n        if(this.editor && this.editor.getValue() !== newText) {\\n             this.editor.setValue(newText);\\n        }\\n    }\\n    return false;\\n};\\n\\nexports[\\\"overtype-editor\\\"] = OverTypeWidget;\\n\\n})();\",\n    \"tags\": \"\",\n    \"title\": \"$:/plugins/lithic/overtype/widget.js\",\n    \"modified\": \"20251210022016839\",\n    \"type\": \"application/javascript\",\n    \"module-type\": \"widget\"\n}\n,\n\"$:/plugins/lithic/overtype/overtype.js\": {\n    \"created\": \"20251209185253748\",\n    \"text\": \"/**\\n * OverType v2.0.6\\n * A lightweight markdown editor library with perfect WYSIWYG alignment\\n * @license MIT\\n * @author David Miranda\\n * https://github.com/panphora/overtype\\n */\\nvar OverType=(()=>{var j=Object.defineProperty;var Ne=Object.getOwnPropertyDescriptor;var _e=Object.getOwnPropertyNames;var Oe=Object.prototype.hasOwnProperty;var je=(o,e,t)=>e in o?j(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var ze=(o,e)=>{for(var t in e)j(o,t,{get:e[t],enumerable:!0})},Fe=(o,e,t,n)=>{if(e&&typeof e==\\\"object\\\"||typeof e==\\\"function\\\")for(let i of _e(e))!Oe.call(o,i)&&i!==t&&j(o,i,{get:()=>e[i],enumerable:!(n=Ne(e,i))||n.enumerable});return o};var Re=o=>Fe(j({},\\\"__esModule\\\",{value:!0}),o);var T=(o,e,t)=>(je(o,typeof e!=\\\"symbol\\\"?e+\\\"\\\":e,t),t);var tt={};ze(tt,{OverType:()=>H,default:()=>et,defaultToolbarButtons:()=>G,toolbarButtons:()=>x});var S=class{static resetLinkIndex(){this.linkIndex=0}static setCodeHighlighter(e){this.codeHighlighter=e}static escapeHtml(e){let t={\\\"&\\\":\\\"&amp;\\\",\\\"\u003C\\\":\\\"&lt;\\\",\\\">\\\":\\\"&gt;\\\",'\\\"':\\\"&quot;\\\",\\\"'\\\":\\\"&#39;\\\"};return e.replace(/[&\u003C>\\\"']/g,n=>t[n])}static preserveIndentation(e,t){let i=t.match(/^(\\\\s*)/)[1].replace(/ /g,\\\"&nbsp;\\\");return e.replace(/^\\\\s*/,i)}static parseHeader(e){return e.replace(/^(#{1,3})\\\\s(.+)$/,(t,n,i)=>{let r=n.length;return`\u003Ch${r}>\u003Cspan class=\\\"syntax-marker\\\">${n} \u003C/span>${i}\u003C/h${r}>`})}static parseHorizontalRule(e){return e.match(/^(-{3,}|\\\\*{3,}|_{3,})$/)?`\u003Cdiv>\u003Cspan class=\\\"hr-marker\\\">${e}\u003C/span>\u003C/div>`:null}static parseBlockquote(e){return e.replace(/^&gt; (.+)$/,(t,n)=>`\u003Cspan class=\\\"blockquote\\\">\u003Cspan class=\\\"syntax-marker\\\">&gt;\u003C/span> ${n}\u003C/span>`)}static parseBulletList(e){return e.replace(/^((?:&nbsp;)*)([-*+])\\\\s(.+)$/,(t,n,i,r)=>`${n}\u003Cli class=\\\"bullet-list\\\">\u003Cspan class=\\\"syntax-marker\\\">${i} \u003C/span>${r}\u003C/li>`)}static parseTaskList(e,t=!1){return e.replace(/^((?:&nbsp;)*)-\\\\s+\\\\[([ xX])\\\\]\\\\s+(.+)$/,(n,i,r,s)=>{if(t){let a=r.toLowerCase()===\\\"x\\\";return`${i}\u003Cli class=\\\"task-list\\\">\u003Cinput type=\\\"checkbox\\\" ${a?\\\"checked\\\":\\\"\\\"}> ${s}\u003C/li>`}else return`${i}\u003Cli class=\\\"task-list\\\">\u003Cspan class=\\\"syntax-marker\\\">- [${r}] \u003C/span>${s}\u003C/li>`})}static parseNumberedList(e){return e.replace(/^((?:&nbsp;)*)(\\\\d+\\\\.)\\\\s(.+)$/,(t,n,i,r)=>`${n}\u003Cli class=\\\"ordered-list\\\">\u003Cspan class=\\\"syntax-marker\\\">${i} \u003C/span>${r}\u003C/li>`)}static parseCodeBlock(e){return/^`{3}[^`]*$/.test(e)?`\u003Cdiv>\u003Cspan class=\\\"code-fence\\\">${e}\u003C/span>\u003C/div>`:null}static parseBold(e){return e=e.replace(/\\\\*\\\\*(.+?)\\\\*\\\\*/g,'\u003Cstrong>\u003Cspan class=\\\"syntax-marker\\\">**\u003C/span>$1\u003Cspan class=\\\"syntax-marker\\\">**\u003C/span>\u003C/strong>'),e=e.replace(/__(.+?)__/g,'\u003Cstrong>\u003Cspan class=\\\"syntax-marker\\\">__\u003C/span>$1\u003Cspan class=\\\"syntax-marker\\\">__\u003C/span>\u003C/strong>'),e}static parseItalic(e){return e=e.replace(new RegExp(\\\"(?\u003C![\\\\\\\\*>])\\\\\\\\*(?!\\\\\\\\*)(.+?)(?\u003C!\\\\\\\\*)\\\\\\\\*(?!\\\\\\\\*)\\\",\\\"g\\\"),'\u003Cem>\u003Cspan class=\\\"syntax-marker\\\">*\u003C/span>$1\u003Cspan class=\\\"syntax-marker\\\">*\u003C/span>\u003C/em>'),e=e.replace(new RegExp(\\\"(?\u003C=^|\\\\\\\\s)_(?!_)(.+?)(?\u003C!_)_(?!_)(?=\\\\\\\\s|$)\\\",\\\"g\\\"),'\u003Cem>\u003Cspan class=\\\"syntax-marker\\\">_\u003C/span>$1\u003Cspan class=\\\"syntax-marker\\\">_\u003C/span>\u003C/em>'),e}static parseStrikethrough(e){return e=e.replace(new RegExp(\\\"(?\u003C!~)~~(?!~)(.+?)(?\u003C!~)~~(?!~)\\\",\\\"g\\\"),'\u003Cdel>\u003Cspan class=\\\"syntax-marker\\\">~~\u003C/span>$1\u003Cspan class=\\\"syntax-marker\\\">~~\u003C/span>\u003C/del>'),e=e.replace(new RegExp(\\\"(?\u003C!~)~(?!~)(.+?)(?\u003C!~)~(?!~)\\\",\\\"g\\\"),'\u003Cdel>\u003Cspan class=\\\"syntax-marker\\\">~\u003C/span>$1\u003Cspan class=\\\"syntax-marker\\\">~\u003C/span>\u003C/del>'),e}static parseInlineCode(e){return e.replace(new RegExp(\\\"(?\u003C!`)(`+)(?!`)((?:(?!\\\\\\\\1).)+?)(\\\\\\\\1)(?!`)\\\",\\\"g\\\"),'\u003Ccode>\u003Cspan class=\\\"syntax-marker\\\">$1\u003C/span>$2\u003Cspan class=\\\"syntax-marker\\\">$3\u003C/span>\u003C/code>')}static sanitizeUrl(e){let t=e.trim(),n=t.toLowerCase(),r=[\\\"http://\\\",\\\"https://\\\",\\\"mailto:\\\",\\\"ftp://\\\",\\\"ftps://\\\"].some(a=>n.startsWith(a)),s=t.startsWith(\\\"/\\\")||t.startsWith(\\\"#\\\")||t.startsWith(\\\"?\\\")||t.startsWith(\\\".\\\")||!t.includes(\\\":\\\")&&!t.includes(\\\"//\\\");return r||s?e:\\\"#\\\"}static parseLinks(e){return e.replace(/\\\\[(.+?)\\\\]\\\\((.+?)\\\\)/g,(t,n,i)=>{let r=`--link-${this.linkIndex++}`;return`\u003Ca href=\\\"${this.sanitizeUrl(i)}\\\" style=\\\"anchor-name: ${r}\\\">\u003Cspan class=\\\"syntax-marker\\\">[\u003C/span>${n}\u003Cspan class=\\\"syntax-marker url-part\\\">](${i})\u003C/span>\u003C/a>`})}static identifyAndProtectSanctuaries(e){let t=new Map,n=0,i=e,r=[],s=/\\\\[([^\\\\]]+)\\\\]\\\\(([^)]+)\\\\)/g,a;for(;(a=s.exec(e))!==null;){let h=a.index+a[0].indexOf(\\\"](\\\")+2,u=h+a[2].length;r.push({start:h,end:u})}let p=new RegExp(\\\"(?\u003C!`)(`+)(?!`)((?:(?!\\\\\\\\1).)+?)(\\\\\\\\1)(?!`)\\\",\\\"g\\\"),d,l=[];for(;(d=p.exec(e))!==null;){let c=d.index,h=d.index+d[0].length;r.some(f=>c>=f.start&&h\u003C=f.end)||l.push({match:d[0],index:d.index,openTicks:d[1],content:d[2],closeTicks:d[3]})}return l.sort((c,h)=>h.index-c.index),l.forEach(c=>{let h=`\\\\uE000${n++}\\\\uE001`;t.set(h,{type:\\\"code\\\",original:c.match,openTicks:c.openTicks,content:c.content,closeTicks:c.closeTicks}),i=i.substring(0,c.index)+h+i.substring(c.index+c.match.length)}),i=i.replace(/\\\\[([^\\\\]]+)\\\\]\\\\(([^)]+)\\\\)/g,(c,h,u)=>{let f=`\\\\uE000${n++}\\\\uE001`;return t.set(f,{type:\\\"link\\\",original:c,linkText:h,url:u}),f}),{protectedText:i,sanctuaries:t}}static restoreAndTransformSanctuaries(e,t){return Array.from(t.keys()).sort((i,r)=>{let s=e.indexOf(i),a=e.indexOf(r);return s-a}).forEach(i=>{let r=t.get(i),s;if(r.type===\\\"code\\\")s=`\u003Ccode>\u003Cspan class=\\\"syntax-marker\\\">${r.openTicks}\u003C/span>${r.content}\u003Cspan class=\\\"syntax-marker\\\">${r.closeTicks}\u003C/span>\u003C/code>`;else if(r.type===\\\"link\\\"){let a=r.linkText;t.forEach((l,c)=>{if(a.includes(c)&&l.type===\\\"code\\\"){let h=`\u003Ccode>\u003Cspan class=\\\"syntax-marker\\\">${l.openTicks}\u003C/span>${l.content}\u003Cspan class=\\\"syntax-marker\\\">${l.closeTicks}\u003C/span>\u003C/code>`;a=a.replace(c,h)}}),a=this.parseStrikethrough(a),a=this.parseBold(a),a=this.parseItalic(a);let p=`--link-${this.linkIndex++}`;s=`\u003Ca href=\\\"${this.sanitizeUrl(r.url)}\\\" style=\\\"anchor-name: ${p}\\\">\u003Cspan class=\\\"syntax-marker\\\">[\u003C/span>${a}\u003Cspan class=\\\"syntax-marker url-part\\\">](${r.url})\u003C/span>\u003C/a>`}e=e.replace(i,s)}),e}static parseInlineElements(e){let{protectedText:t,sanctuaries:n}=this.identifyAndProtectSanctuaries(e),i=t;return i=this.parseStrikethrough(i),i=this.parseBold(i),i=this.parseItalic(i),i=this.restoreAndTransformSanctuaries(i,n),i}static parseLine(e,t=!1){let n=this.escapeHtml(e);n=this.preserveIndentation(n,e);let i=this.parseHorizontalRule(n);if(i)return i;let r=this.parseCodeBlock(n);return r||(n=this.parseHeader(n),n=this.parseBlockquote(n),n=this.parseTaskList(n,t),n=this.parseBulletList(n),n=this.parseNumberedList(n),n=this.parseInlineElements(n),n.trim()===\\\"\\\"?\\\"\u003Cdiv>&nbsp;\u003C/div>\\\":`\u003Cdiv>${n}\u003C/div>`)}static parse(e,t=-1,n=!1,i,r=!1){this.resetLinkIndex();let s=e.split(`\\n`),a=!1,d=s.map((l,c)=>{if(n&&c===t)return`\u003Cdiv class=\\\"raw-line\\\">${this.escapeHtml(l)||\\\"&nbsp;\\\"}\u003C/div>`;if(/^```[^`]*$/.test(l))return a=!a,this.parseLine(l,r);if(a){let u=this.escapeHtml(l);return`\u003Cdiv>${this.preserveIndentation(u,l)||\\\"&nbsp;\\\"}\u003C/div>`}return this.parseLine(l,r)}).join(\\\"\\\");return this.postProcessHTML(d,i)}static postProcessHTML(e,t){if(typeof document>\\\"u\\\"||!document)return this.postProcessHTMLManual(e,t);let n=document.createElement(\\\"div\\\");n.innerHTML=e;let i=null,r=null,s=null,a=!1,p=Array.from(n.children);for(let d=0;d\u003Cp.length;d++){let l=p[d];if(!l.parentNode)continue;let c=l.querySelector(\\\".code-fence\\\");if(c){let u=c.textContent;if(u.startsWith(\\\"```\\\"))if(a){let f=t||this.codeHighlighter;if(s&&f&&s._codeContent)try{let m=f(s._codeContent,s._language||\\\"\\\");m&&typeof m.then==\\\"function\\\"?console.warn(\\\"Async highlighters are not supported in parse() because it returns an HTML string. The caller creates new DOM elements from that string, breaking references to the elements we would update. Use synchronous highlighters only.\\\"):m&&typeof m==\\\"string\\\"&&m.trim()&&(s._codeElement.innerHTML=m)}catch(m){console.warn(\\\"Code highlighting failed:\\\",m)}a=!1,s=null;continue}else{a=!0,s=document.createElement(\\\"pre\\\");let f=document.createElement(\\\"code\\\");s.appendChild(f),s.className=\\\"code-block\\\";let m=u.slice(3).trim();m&&(f.className=`language-${m}`),n.insertBefore(s,l.nextSibling),s._codeElement=f,s._language=m,s._codeContent=\\\"\\\";continue}}if(a&&s&&l.tagName===\\\"DIV\\\"&&!l.querySelector(\\\".code-fence\\\")){let u=s._codeElement||s.querySelector(\\\"code\\\");s._codeContent.length>0&&(s._codeContent+=`\\n`);let f=l.textContent.replace(/\\\\u00A0/g,\\\" \\\");s._codeContent+=f,u.textContent.length>0&&(u.textContent+=`\\n`),u.textContent+=f,l.remove();continue}let h=null;if(l.tagName===\\\"DIV\\\"&&(h=l.querySelector(\\\"li\\\")),h){let u=h.classList.contains(\\\"bullet-list\\\"),f=h.classList.contains(\\\"ordered-list\\\");if(!u&&!f){i=null,r=null;continue}let m=u?\\\"ul\\\":\\\"ol\\\";(!i||r!==m)&&(i=document.createElement(m),n.insertBefore(i,l),r=m);let g=[];for(let v of l.childNodes)if(v.nodeType===3&&v.textContent.match(/^\\\\u00A0+$/))g.push(v.cloneNode(!0));else if(v===h)break;g.forEach(v=>{h.insertBefore(v,h.firstChild)}),i.appendChild(h),l.remove()}else i=null,r=null}return n.innerHTML}static postProcessHTMLManual(e,t){let n=e;n=n.replace(/((?:\u003Cdiv>(?:&nbsp;)*\u003Cli class=\\\"bullet-list\\\">.*?\u003C\\\\/li>\u003C\\\\/div>\\\\s*)+)/gs,r=>{let s=r.match(/\u003Cdiv>(?:&nbsp;)*\u003Cli class=\\\"bullet-list\\\">.*?\u003C\\\\/li>\u003C\\\\/div>/gs)||[];return s.length>0?\\\"\u003Cul>\\\"+s.map(p=>{let d=p.match(/\u003Cdiv>((?:&nbsp;)*)\u003Cli/),l=p.match(/\u003Cli class=\\\"bullet-list\\\">.*?\u003C\\\\/li>/);if(d&&l){let c=d[1];return l[0].replace(/\u003Cli class=\\\"bullet-list\\\">/,`\u003Cli class=\\\"bullet-list\\\">${c}`)}return l?l[0]:\\\"\\\"}).filter(Boolean).join(\\\"\\\")+\\\"\u003C/ul>\\\":r}),n=n.replace(/((?:\u003Cdiv>(?:&nbsp;)*\u003Cli class=\\\"ordered-list\\\">.*?\u003C\\\\/li>\u003C\\\\/div>\\\\s*)+)/gs,r=>{let s=r.match(/\u003Cdiv>(?:&nbsp;)*\u003Cli class=\\\"ordered-list\\\">.*?\u003C\\\\/li>\u003C\\\\/div>/gs)||[];return s.length>0?\\\"\u003Col>\\\"+s.map(p=>{let d=p.match(/\u003Cdiv>((?:&nbsp;)*)\u003Cli/),l=p.match(/\u003Cli class=\\\"ordered-list\\\">.*?\u003C\\\\/li>/);if(d&&l){let c=d[1];return l[0].replace(/\u003Cli class=\\\"ordered-list\\\">/,`\u003Cli class=\\\"ordered-list\\\">${c}`)}return l?l[0]:\\\"\\\"}).filter(Boolean).join(\\\"\\\")+\\\"\u003C/ol>\\\":r});let i=/\u003Cdiv>\u003Cspan class=\\\"code-fence\\\">(```[^\u003C]*)\u003C\\\\/span>\u003C\\\\/div>(.*?)\u003Cdiv>\u003Cspan class=\\\"code-fence\\\">(```)\u003C\\\\/span>\u003C\\\\/div>/gs;return n=n.replace(i,(r,s,a,p)=>{let l=(a.match(/\u003Cdiv>(.*?)\u003C\\\\/div>/gs)||[]).map(g=>g.replace(/\u003Cdiv>(.*?)\u003C\\\\/div>/s,\\\"$1\\\").replace(/&nbsp;/g,\\\" \\\")).join(`\\n`),c=s.slice(3).trim(),h=c?` class=\\\"language-${c}\\\"`:\\\"\\\",u=l,f=t||this.codeHighlighter;if(f)try{let g=l.replace(/&quot;/g,'\\\"').replace(/&#39;/g,\\\"'\\\").replace(/&lt;/g,\\\"\u003C\\\").replace(/&gt;/g,\\\">\\\").replace(/&amp;/g,\\\"&\\\"),v=f(g,c);v&&typeof v.then==\\\"function\\\"?console.warn(\\\"Async highlighters are not supported in Node.js (non-DOM) context. Use synchronous highlighters for server-side rendering.\\\"):v&&typeof v==\\\"string\\\"&&v.trim()&&(u=v)}catch(g){console.warn(\\\"Code highlighting failed:\\\",g)}let m=`\u003Cdiv>\u003Cspan class=\\\"code-fence\\\">${s}\u003C/span>\u003C/div>`;return m+=`\u003Cpre class=\\\"code-block\\\">\u003Ccode${h}>${u}\u003C/code>\u003C/pre>`,m+=`\u003Cdiv>\u003Cspan class=\\\"code-fence\\\">${p}\u003C/span>\u003C/div>`,m}),n}static getListContext(e,t){let n=e.split(`\\n`),i=0,r=0,s=0;for(let h=0;h\u003Cn.length;h++){let u=n[h].length;if(i+u>=t){r=h,s=i;break}i+=u+1}let a=n[r],p=s+a.length,d=a.match(this.LIST_PATTERNS.checkbox);if(d)return{inList:!0,listType:\\\"checkbox\\\",indent:d[1],marker:\\\"-\\\",checked:d[2]===\\\"x\\\",content:d[3],lineStart:s,lineEnd:p,markerEndPos:s+d[1].length+d[2].length+5};let l=a.match(this.LIST_PATTERNS.bullet);if(l)return{inList:!0,listType:\\\"bullet\\\",indent:l[1],marker:l[2],content:l[3],lineStart:s,lineEnd:p,markerEndPos:s+l[1].length+l[2].length+1};let c=a.match(this.LIST_PATTERNS.numbered);return c?{inList:!0,listType:\\\"numbered\\\",indent:c[1],marker:parseInt(c[2]),content:c[3],lineStart:s,lineEnd:p,markerEndPos:s+c[1].length+c[2].length+2}:{inList:!1,listType:null,indent:\\\"\\\",marker:null,content:a,lineStart:s,lineEnd:p,markerEndPos:s}}static createNewListItem(e){switch(e.listType){case\\\"bullet\\\":return`${e.indent}${e.marker} `;case\\\"numbered\\\":return`${e.indent}${e.marker+1}. `;case\\\"checkbox\\\":return`${e.indent}- [ ] `;default:return\\\"\\\"}}static renumberLists(e){let t=e.split(`\\n`),n=new Map,i=!1;return t.map(s=>{let a=s.match(this.LIST_PATTERNS.numbered);if(a){let p=a[1],d=p.length,l=a[3];i||n.clear();let c=(n.get(d)||0)+1;n.set(d,c);for(let[h]of n)h>d&&n.delete(h);return i=!0,`${p}${c}. ${l}`}else return(s.trim()===\\\"\\\"||!s.match(/^\\\\s/))&&(i=!1,n.clear()),s}).join(`\\n`)}};T(S,\\\"linkIndex\\\",0),T(S,\\\"codeHighlighter\\\",null),T(S,\\\"LIST_PATTERNS\\\",{bullet:/^(\\\\s*)([-*+])\\\\s+(.*)$/,numbered:/^(\\\\s*)(\\\\d+)\\\\.\\\\s+(.*)$/,checkbox:/^(\\\\s*)-\\\\s+\\\\[([ x])\\\\]\\\\s+(.*)$/});var Ve=Object.defineProperty,oe=Object.getOwnPropertySymbols,Ue=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,ie=(o,e,t)=>e in o?Ve(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,re=(o,e)=>{for(var t in e||(e={}))Ue.call(e,t)&&ie(o,t,e[t]);if(oe)for(var t of oe(e))De.call(e,t)&&ie(o,t,e[t]);return o},E={bold:{prefix:\\\"**\\\",suffix:\\\"**\\\",trimFirst:!0},italic:{prefix:\\\"_\\\",suffix:\\\"_\\\",trimFirst:!0},code:{prefix:\\\"`\\\",suffix:\\\"`\\\",blockPrefix:\\\"```\\\",blockSuffix:\\\"```\\\"},link:{prefix:\\\"[\\\",suffix:\\\"](url)\\\",replaceNext:\\\"url\\\",scanFor:\\\"https?://\\\"},bulletList:{prefix:\\\"- \\\",multiline:!0,unorderedList:!0},numberedList:{prefix:\\\"1. \\\",multiline:!0,orderedList:!0},quote:{prefix:\\\"> \\\",multiline:!0,surroundWithNewlines:!0},taskList:{prefix:\\\"- [ ] \\\",multiline:!0,surroundWithNewlines:!0},header1:{prefix:\\\"# \\\"},header2:{prefix:\\\"## \\\"},header3:{prefix:\\\"### \\\"},header4:{prefix:\\\"#### \\\"},header5:{prefix:\\\"##### \\\"},header6:{prefix:\\\"###### \\\"}};function qe(){return{prefix:\\\"\\\",suffix:\\\"\\\",blockPrefix:\\\"\\\",blockSuffix:\\\"\\\",multiline:!1,replaceNext:\\\"\\\",prefixSpace:!1,scanFor:\\\"\\\",surroundWithNewlines:!1,orderedList:!1,unorderedList:!1,trimFirst:!1}}function $(o){return re(re({},qe()),o)}var F=!1;function We(){return F}function y(o,e,t){F&&(console.group(`\\\\u{1F50D} ${o}`),console.log(e),t&&console.log(\\\"Data:\\\",t),console.groupEnd())}function z(o,e){if(!F)return;let t=o.value.slice(o.selectionStart,o.selectionEnd);console.group(`\\\\u{1F4CD} Selection: ${e}`),console.log(\\\"Position:\\\",`${o.selectionStart}-${o.selectionEnd}`),console.log(\\\"Selected text:\\\",JSON.stringify(t)),console.log(\\\"Length:\\\",t.length);let n=o.value.slice(Math.max(0,o.selectionStart-10),o.selectionStart),i=o.value.slice(o.selectionEnd,Math.min(o.value.length,o.selectionEnd+10));console.log(\\\"Context:\\\",JSON.stringify(n)+\\\"[SELECTION]\\\"+JSON.stringify(i)),console.groupEnd()}function ce(o){F&&(console.group(\\\"\\\\u{1F4DD} Result\\\"),console.log(\\\"Text to insert:\\\",JSON.stringify(o.text)),console.log(\\\"New selection:\\\",`${o.selectionStart}-${o.selectionEnd}`),console.groupEnd())}var A=null;function I(o,{text:e,selectionStart:t,selectionEnd:n}){let i=We();i&&(console.group(\\\"\\\\u{1F527} insertText\\\"),console.log(\\\"Current selection:\\\",`${o.selectionStart}-${o.selectionEnd}`),console.log(\\\"Text to insert:\\\",JSON.stringify(e)),console.log(\\\"New selection to set:\\\",t,\\\"-\\\",n)),o.focus();let r=o.selectionStart,s=o.selectionEnd,a=o.value.slice(0,r),p=o.value.slice(s);i&&(console.log(\\\"Before text (last 20):\\\",JSON.stringify(a.slice(-20))),console.log(\\\"After text (first 20):\\\",JSON.stringify(p.slice(0,20))),console.log(\\\"Selected text being replaced:\\\",JSON.stringify(o.value.slice(r,s))));let d=o.value,l=r!==s;if(A===null||A===!0){o.contentEditable=\\\"true\\\";try{A=document.execCommand(\\\"insertText\\\",!1,e),i&&console.log(\\\"execCommand returned:\\\",A,\\\"for text with\\\",e.split(`\\n`).length,\\\"lines\\\")}catch(c){A=!1,i&&console.log(\\\"execCommand threw error:\\\",c)}o.contentEditable=\\\"false\\\"}if(i&&(console.log(\\\"canInsertText before:\\\",A),console.log(\\\"execCommand result:\\\",A)),A){let c=a+e+p,h=o.value;i&&(console.log(\\\"Expected length:\\\",c.length),console.log(\\\"Actual length:\\\",h.length)),h!==c&&i&&(console.log(\\\"execCommand changed the value but not as expected\\\"),console.log(\\\"Expected:\\\",JSON.stringify(c.slice(0,100))),console.log(\\\"Actual:\\\",JSON.stringify(h.slice(0,100))))}if(!A)if(i&&console.log(\\\"Using manual insertion\\\"),o.value===d){i&&console.log(\\\"Value unchanged, doing manual replacement\\\");try{document.execCommand(\\\"ms-beginUndoUnit\\\")}catch(c){}o.value=a+e+p;try{document.execCommand(\\\"ms-endUndoUnit\\\")}catch(c){}o.dispatchEvent(new CustomEvent(\\\"input\\\",{bubbles:!0,cancelable:!0}))}else i&&console.log(\\\"Value was changed by execCommand, skipping manual insertion\\\");i&&console.log(\\\"Setting selection range:\\\",t,n),t!=null&&n!=null?o.setSelectionRange(t,n):o.setSelectionRange(r,o.selectionEnd),i&&(console.log(\\\"Final value length:\\\",o.value.length),console.groupEnd())}function se(o){return o.trim().split(`\\n`).length>1}function Ke(o,e){let t=e;for(;o[t]&&o[t-1]!=null&&!o[t-1].match(/\\\\s/);)t--;return t}function Ze(o,e,t){let n=e,i=t?/\\\\n/:/\\\\s/;for(;o[n]&&!o[n].match(i);)n++;return n}function pe(o){let e=o.value.split(`\\n`),t=0;for(let n=0;n\u003Ce.length;n++){let i=e[n].length+1;o.selectionStart>=t&&o.selectionStart\u003Ct+i&&(o.selectionStart=t),o.selectionEnd>=t&&o.selectionEnd\u003Ct+i&&(n===e.length-1?o.selectionEnd=Math.min(t+e[n].length,o.value.length):o.selectionEnd=t+i-1),t+=i}}function Je(o,e,t,n=!1){if(o.selectionStart===o.selectionEnd)o.selectionStart=Ke(o.value,o.selectionStart),o.selectionEnd=Ze(o.value,o.selectionEnd,n);else{let i=o.selectionStart-e.length,r=o.selectionEnd+t.length,s=o.value.slice(i,o.selectionStart)===e,a=o.value.slice(o.selectionEnd,r)===t;s&&a&&(o.selectionStart=i,o.selectionEnd=r)}return o.value.slice(o.selectionStart,o.selectionEnd)}function Q(o){let e=o.value.slice(0,o.selectionStart),t=o.value.slice(o.selectionEnd),n=e.match(/\\\\n*$/),i=t.match(/^\\\\n*/),r=n?n[0].length:0,s=i?i[0].length:0,a=\\\"\\\",p=\\\"\\\";return e.match(/\\\\S/)&&r\u003C2&&(a=`\\n`.repeat(2-r)),t.match(/\\\\S/)&&s\u003C2&&(p=`\\n`.repeat(2-s)),{newlinesToAppend:a,newlinesToPrepend:p}}function R(o,e,t={}){let n=o.selectionStart,i=o.selectionEnd,r=n===i,s=o.value,a=n;for(;a>0&&s[a-1]!==`\\n`;)a--;if(r){let d=n;for(;d\u003Cs.length&&s[d]!==`\\n`;)d++;o.selectionStart=a,o.selectionEnd=d}else pe(o);let p=e(o);if(t.adjustSelection){let l=o.value.slice(o.selectionStart,o.selectionEnd).startsWith(t.prefix),c=t.adjustSelection(l,n,i,a);p.selectionStart=c.start,p.selectionEnd=c.end}else if(t.prefix){let l=o.value.slice(o.selectionStart,o.selectionEnd).startsWith(t.prefix);r?l?(p.selectionStart=Math.max(n-t.prefix.length,a),p.selectionEnd=p.selectionStart):(p.selectionStart=n+t.prefix.length,p.selectionEnd=p.selectionStart):l?(p.selectionStart=Math.max(n-t.prefix.length,a),p.selectionEnd=Math.max(i-t.prefix.length,a)):(p.selectionStart=n+t.prefix.length,p.selectionEnd=i+t.prefix.length)}return p}function V(o,e){let t,n,{prefix:i,suffix:r,blockPrefix:s,blockSuffix:a,replaceNext:p,prefixSpace:d,scanFor:l,surroundWithNewlines:c,trimFirst:h}=e,u=o.selectionStart,f=o.selectionEnd,m=o.value.slice(o.selectionStart,o.selectionEnd),g=se(m)&&s&&s.length>0?`${s}\\n`:i,v=se(m)&&a&&a.length>0?`\\n${a}`:r;if(d){let L=o.value[o.selectionStart-1];o.selectionStart!==0&&L!=null&&!L.match(/\\\\s/)&&(g=` ${g}`)}m=Je(o,g,v,e.multiline);let b=o.selectionStart,k=o.selectionEnd,M=p&&p.length>0&&v.indexOf(p)>-1&&m.length>0;if(c){let L=Q(o);t=L.newlinesToAppend,n=L.newlinesToPrepend,g=t+i,v+=n}if(m.startsWith(g)&&m.endsWith(v)){let L=m.slice(g.length,m.length-v.length);if(u===f){let C=u-g.length;C=Math.max(C,b),C=Math.min(C,b+L.length),b=k=C}else k=b+L.length;return{text:L,selectionStart:b,selectionEnd:k}}else if(M)if(l&&l.length>0&&m.match(l)){v=v.replace(p,m);let L=g+v;return b=k=b+g.length,{text:L,selectionStart:b,selectionEnd:k}}else{let L=g+m+v;return b=b+g.length+m.length+v.indexOf(p),k=b+p.length,{text:L,selectionStart:b,selectionEnd:k}}else{let L=g+m+v;b=u+g.length,k=f+g.length;let C=m.match(/^\\\\s*|\\\\s*$/g);if(h&&C){let te=C[0]||\\\"\\\",ne=C[1]||\\\"\\\";L=te+g+m.trim()+v+ne,b+=te.length,k-=ne.length}return{text:L,selectionStart:b,selectionEnd:k}}}function de(o,e){let{prefix:t,suffix:n,surroundWithNewlines:i}=e,r=o.value.slice(o.selectionStart,o.selectionEnd),s=o.selectionStart,a=o.selectionEnd,p=r.split(`\\n`);if(p.every(l=>l.startsWith(t)&&(!n||l.endsWith(n))))r=p.map(l=>{let c=l.slice(t.length);return n&&(c=c.slice(0,c.length-n.length)),c}).join(`\\n`),a=s+r.length;else if(r=p.map(l=>t+l+(n||\\\"\\\")).join(`\\n`),i){let{newlinesToAppend:l,newlinesToPrepend:c}=Q(o);s+=l.length,a=s+r.length,r=l+r+c}return{text:r,selectionStart:s,selectionEnd:a}}function ae(o){let e=o.split(`\\n`),t=/^\\\\d+\\\\.\\\\s+/,n=e.every(r=>t.test(r)),i=e;return n&&(i=e.map(r=>r.replace(t,\\\"\\\"))),{text:i.join(`\\n`),processed:n}}function le(o){let e=o.split(`\\n`),t=\\\"- \\\",n=e.every(r=>r.startsWith(t)),i=e;return n&&(i=e.map(r=>r.slice(t.length))),{text:i.join(`\\n`),processed:n}}function _(o,e){return e?\\\"- \\\":`${o+1}. `}function Ge(o,e){let t,n,i;return o.orderedList?(t=ae(e),n=le(t.text),i=n.text):(t=le(e),n=ae(t.text),i=n.text),[t,n,i]}function Qe(o,e){let t=o.selectionStart===o.selectionEnd,n=o.selectionStart,i=o.selectionEnd;pe(o);let r=o.value.slice(o.selectionStart,o.selectionEnd),[s,a,p]=Ge(e,r),d=p.split(`\\n`).map((m,g)=>`${_(g,e.unorderedList)}${m}`),l=d.reduce((m,g,v)=>m+_(v,e.unorderedList).length,0),c=d.reduce((m,g,v)=>m+_(v,!e.unorderedList).length,0);if(s.processed)return t?(n=Math.max(n-_(0,e.unorderedList).length,0),i=n):(n=o.selectionStart,i=o.selectionEnd-l),{text:p,selectionStart:n,selectionEnd:i};let{newlinesToAppend:h,newlinesToPrepend:u}=Q(o),f=h+d.join(`\\n`)+u;return t?(n=Math.max(n+_(0,e.unorderedList).length+h.length,0),i=n):a.processed?(n=Math.max(o.selectionStart+h.length,0),i=o.selectionEnd+h.length+l-c):(n=Math.max(o.selectionStart+h.length,0),i=o.selectionEnd+h.length+l),{text:f,selectionStart:n,selectionEnd:i}}function he(o,e){let t=R(o,n=>Qe(n,e),{adjustSelection:(n,i,r,s)=>{let a=o.value.slice(s,o.selectionEnd),p=/^\\\\d+\\\\.\\\\s+/,d=/^- /,l=p.test(a),c=d.test(a),h=e.orderedList&&l||e.unorderedList&&c;if(i===r)if(h){let u=a.match(e.orderedList?p:d),f=u?u[0].length:0;return{start:Math.max(i-f,s),end:Math.max(i-f,s)}}else if(l||c){let u=a.match(l?p:d),f=u?u[0].length:0,g=(e.unorderedList?2:3)-f;return{start:i+g,end:i+g}}else{let u=e.unorderedList?2:3;return{start:i+u,end:i+u}}else if(h){let u=a.match(e.orderedList?p:d),f=u?u[0].length:0;return{start:Math.max(i-f,s),end:Math.max(r-f,s)}}else if(l||c){let u=a.match(l?p:d),f=u?u[0].length:0,g=(e.unorderedList?2:3)-f;return{start:i+g,end:r+g}}else{let u=e.unorderedList?2:3;return{start:i+u,end:r+u}}}});I(o,t)}function Xe(o){if(!o)return[];let e=[],{selectionStart:t,selectionEnd:n,value:i}=o,r=i.split(`\\n`),s=0,a=\\\"\\\";for(let c of r){if(t>=s&&t\u003C=s+c.length){a=c;break}s+=c.length+1}a.startsWith(\\\"- \\\")&&(a.startsWith(\\\"- [ ] \\\")||a.startsWith(\\\"- [x] \\\")?e.push(\\\"task-list\\\"):e.push(\\\"bullet-list\\\")),/^\\\\d+\\\\.\\\\s/.test(a)&&e.push(\\\"numbered-list\\\"),a.startsWith(\\\"> \\\")&&e.push(\\\"quote\\\"),a.startsWith(\\\"# \\\")&&e.push(\\\"header\\\"),a.startsWith(\\\"## \\\")&&e.push(\\\"header-2\\\"),a.startsWith(\\\"### \\\")&&e.push(\\\"header-3\\\");let p=Math.max(0,t-10),d=Math.min(i.length,n+10),l=i.slice(p,d);if(l.includes(\\\"**\\\")){let c=i.slice(Math.max(0,t-100),t),h=i.slice(n,Math.min(i.length,n+100)),u=c.lastIndexOf(\\\"**\\\"),f=h.indexOf(\\\"**\\\");u!==-1&&f!==-1&&e.push(\\\"bold\\\")}if(l.includes(\\\"_\\\")){let c=i.slice(Math.max(0,t-100),t),h=i.slice(n,Math.min(i.length,n+100)),u=c.lastIndexOf(\\\"_\\\"),f=h.indexOf(\\\"_\\\");u!==-1&&f!==-1&&e.push(\\\"italic\\\")}if(l.includes(\\\"`\\\")){let c=i.slice(Math.max(0,t-100),t),h=i.slice(n,Math.min(i.length,n+100));c.includes(\\\"`\\\")&&h.includes(\\\"`\\\")&&e.push(\\\"code\\\")}if(l.includes(\\\"[\\\")&&l.includes(\\\"]\\\")){let c=i.slice(Math.max(0,t-100),t),h=i.slice(n,Math.min(i.length,n+100)),u=c.lastIndexOf(\\\"[\\\"),f=h.indexOf(\\\"]\\\");u!==-1&&f!==-1&&i.slice(n+f+1,n+f+10).startsWith(\\\"(\\\")&&e.push(\\\"link\\\")}return e}function U(o){if(!o||o.disabled||o.readOnly)return;y(\\\"toggleBold\\\",\\\"Starting\\\"),z(o,\\\"Before\\\");let e=$(E.bold),t=V(o,e);ce(t),I(o,t),z(o,\\\"After\\\")}function D(o){if(!o||o.disabled||o.readOnly)return;let e=$(E.italic),t=V(o,e);I(o,t)}function ue(o){if(!o||o.disabled||o.readOnly)return;let e=$(E.code),t=V(o,e);I(o,t)}function q(o,e={}){if(!o||o.disabled||o.readOnly)return;let t=o.value.slice(o.selectionStart,o.selectionEnd),n=$(E.link);if(t&&t.match(/^https?:\\\\/\\\\//)&&!e.url?(n.suffix=`](${t})`,n.replaceNext=\\\"\\\"):e.url&&(n.suffix=`](${e.url})`,n.replaceNext=\\\"\\\"),e.text&&!t){let s=o.selectionStart;o.value=o.value.slice(0,s)+e.text+o.value.slice(s),o.selectionStart=s,o.selectionEnd=s+e.text.length}let r=V(o,n);I(o,r)}function W(o){if(!o||o.disabled||o.readOnly)return;let e=$(E.bulletList);he(o,e)}function K(o){if(!o||o.disabled||o.readOnly)return;let e=$(E.numberedList);he(o,e)}function me(o){if(!o||o.disabled||o.readOnly)return;y(\\\"toggleQuote\\\",\\\"Starting\\\"),z(o,\\\"Initial\\\");let e=$(E.quote),t=R(o,n=>de(n,e),{prefix:e.prefix});ce(t),I(o,t),z(o,\\\"Final\\\")}function X(o){if(!o||o.disabled||o.readOnly)return;let e=$(E.taskList),t=R(o,n=>de(n,e),{prefix:e.prefix});I(o,t)}function Y(o,e=1,t=!1){if(!o||o.disabled||o.readOnly)return;(e\u003C1||e>6)&&(e=1),y(\\\"insertHeader\\\",\\\"============ START ============\\\"),y(\\\"insertHeader\\\",`Level: ${e}, Toggle: ${t}`),y(\\\"insertHeader\\\",`Initial cursor: ${o.selectionStart}-${o.selectionEnd}`);let n=`header${e===1?\\\"1\\\":e}`,i=$(E[n]||E.header1);y(\\\"insertHeader\\\",`Style prefix: \\\"${i.prefix}\\\"`);let r=o.value,s=o.selectionStart,a=o.selectionEnd,p=s;for(;p>0&&r[p-1]!==`\\n`;)p--;let d=a;for(;d\u003Cr.length&&r[d]!==`\\n`;)d++;let l=r.slice(p,d);y(\\\"insertHeader\\\",`Current line (before): \\\"${l}\\\"`);let c=l.match(/^(#{1,6})\\\\s*/),h=c?c[1].length:0,u=c?c[0].length:0;y(\\\"insertHeader\\\",\\\"Existing header check:\\\"),y(\\\"insertHeader\\\",`  - Match: ${c?`\\\"${c[0]}\\\"`:\\\"none\\\"}`),y(\\\"insertHeader\\\",`  - Existing level: ${h}`),y(\\\"insertHeader\\\",`  - Existing prefix length: ${u}`),y(\\\"insertHeader\\\",`  - Target level: ${e}`);let f=t&&h===e;y(\\\"insertHeader\\\",`Should toggle OFF: ${f} (toggle=${t}, existingLevel=${h}, level=${e})`);let m=R(o,g=>{let v=g.value.slice(g.selectionStart,g.selectionEnd);y(\\\"insertHeader\\\",`Line in operation: \\\"${v}\\\"`);let b=v.replace(/^#{1,6}\\\\s*/,\\\"\\\");y(\\\"insertHeader\\\",`Cleaned line: \\\"${b}\\\"`);let k;return f?(y(\\\"insertHeader\\\",\\\"ACTION: Toggling OFF - removing header\\\"),k=b):h>0?(y(\\\"insertHeader\\\",`ACTION: Replacing H${h} with H${e}`),k=i.prefix+b):(y(\\\"insertHeader\\\",\\\"ACTION: Adding new header\\\"),k=i.prefix+b),y(\\\"insertHeader\\\",`New line: \\\"${k}\\\"`),{text:k,selectionStart:g.selectionStart,selectionEnd:g.selectionEnd}},{prefix:i.prefix,adjustSelection:(g,v,b,k)=>{if(y(\\\"insertHeader\\\",\\\"Adjusting selection:\\\"),y(\\\"insertHeader\\\",`  - isRemoving param: ${g}`),y(\\\"insertHeader\\\",`  - shouldToggleOff: ${f}`),y(\\\"insertHeader\\\",`  - selStart: ${v}, selEnd: ${b}`),y(\\\"insertHeader\\\",`  - lineStartPos: ${k}`),f){let M=Math.max(v-u,k);return y(\\\"insertHeader\\\",`  - Removing header, adjusting by -${u}`),{start:M,end:v===b?M:Math.max(b-u,k)}}else if(u>0){let M=i.prefix.length-u;return y(\\\"insertHeader\\\",`  - Replacing header, adjusting by ${M}`),{start:v+M,end:b+M}}else return y(\\\"insertHeader\\\",`  - Adding header, adjusting by +${i.prefix.length}`),{start:v+i.prefix.length,end:b+i.prefix.length}}});y(\\\"insertHeader\\\",`Final result: text=\\\"${m.text}\\\", cursor=${m.selectionStart}-${m.selectionEnd}`),y(\\\"insertHeader\\\",\\\"============ END ============\\\"),I(o,m)}function fe(o){Y(o,1,!0)}function ge(o){Y(o,2,!0)}function ve(o){Y(o,3,!0)}function ye(o){return Xe(o)}var O=class{constructor(e){this.editor=e,this.textarea=e.textarea}handleKeydown(e){if(!(navigator.platform.toLowerCase().includes(\\\"mac\\\")?e.metaKey:e.ctrlKey))return!1;let i=null;switch(e.key.toLowerCase()){case\\\"b\\\":e.shiftKey||(i=\\\"toggleBold\\\");break;case\\\"i\\\":e.shiftKey||(i=\\\"toggleItalic\\\");break;case\\\"k\\\":e.shiftKey||(i=\\\"insertLink\\\");break;case\\\"7\\\":e.shiftKey&&(i=\\\"toggleNumberedList\\\");break;case\\\"8\\\":e.shiftKey&&(i=\\\"toggleBulletList\\\");break}return i?(e.preventDefault(),this.editor.toolbar?this.editor.toolbar.handleAction(i):this.handleAction(i),!0):!1}async handleAction(e){let t=this.textarea;if(t){t.focus();try{switch(e){case\\\"toggleBold\\\":U(t);break;case\\\"toggleItalic\\\":D(t);break;case\\\"insertLink\\\":q(t);break;case\\\"toggleBulletList\\\":W(t);break;case\\\"toggleNumberedList\\\":K(t);break}t.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}catch(n){console.error(\\\"Error in markdown action:\\\",n)}}}destroy(){}};var P={name:\\\"solar\\\",colors:{bgPrimary:\\\"#faf0ca\\\",bgSecondary:\\\"#ffffff\\\",text:\\\"#0d3b66\\\",textPrimary:\\\"#0d3b66\\\",textSecondary:\\\"#5a7a9b\\\",h1:\\\"#f95738\\\",h2:\\\"#ee964b\\\",h3:\\\"#3d8a51\\\",strong:\\\"#ee964b\\\",em:\\\"#f95738\\\",del:\\\"#ee964b\\\",link:\\\"#0d3b66\\\",code:\\\"#0d3b66\\\",codeBg:\\\"rgba(244, 211, 94, 0.4)\\\",blockquote:\\\"#5a7a9b\\\",hr:\\\"#5a7a9b\\\",syntaxMarker:\\\"rgba(13, 59, 102, 0.52)\\\",syntax:\\\"#999999\\\",cursor:\\\"#f95738\\\",selection:\\\"rgba(244, 211, 94, 0.4)\\\",listMarker:\\\"#ee964b\\\",rawLine:\\\"#5a7a9b\\\",border:\\\"#e0e0e0\\\",hoverBg:\\\"#f0f0f0\\\",primary:\\\"#0d3b66\\\",toolbarBg:\\\"#ffffff\\\",toolbarIcon:\\\"#0d3b66\\\",toolbarHover:\\\"#f5f5f5\\\",toolbarActive:\\\"#faf0ca\\\"}},be={name:\\\"cave\\\",colors:{bgPrimary:\\\"#141E26\\\",bgSecondary:\\\"#1D2D3E\\\",text:\\\"#c5dde8\\\",textPrimary:\\\"#c5dde8\\\",textSecondary:\\\"#9fcfec\\\",h1:\\\"#d4a5ff\\\",h2:\\\"#f6ae2d\\\",h3:\\\"#9fcfec\\\",strong:\\\"#f6ae2d\\\",em:\\\"#9fcfec\\\",del:\\\"#f6ae2d\\\",link:\\\"#9fcfec\\\",code:\\\"#c5dde8\\\",codeBg:\\\"#1a232b\\\",blockquote:\\\"#9fcfec\\\",hr:\\\"#c5dde8\\\",syntaxMarker:\\\"rgba(159, 207, 236, 0.73)\\\",syntax:\\\"#7a8c98\\\",cursor:\\\"#f26419\\\",selection:\\\"rgba(51, 101, 138, 0.4)\\\",listMarker:\\\"#f6ae2d\\\",rawLine:\\\"#9fcfec\\\",border:\\\"#2a3f52\\\",hoverBg:\\\"#243546\\\",primary:\\\"#9fcfec\\\",toolbarBg:\\\"#1D2D3E\\\",toolbarIcon:\\\"#c5dde8\\\",toolbarHover:\\\"#243546\\\",toolbarActive:\\\"#2a3f52\\\"}},we={solar:P,cave:be,light:P,dark:be};function B(o){return typeof o==\\\"string\\\"?{...we[o]||we.solar,name:o}:o}function N(o){let e=[];for(let[t,n]of Object.entries(o)){let i=t.replace(/([A-Z])/g,\\\"-$1\\\").toLowerCase();e.push(`--${i}: ${n};`)}return e.join(`\\n`)}function ke(o,e={}){return{...o,colors:{...o.colors,...e}}}function xe(o={}){let{fontSize:e=\\\"14px\\\",lineHeight:t=1.6,fontFamily:n='\\\"SF Mono\\\", SFMono-Regular, Menlo, Monaco, \\\"Cascadia Code\\\", Consolas, \\\"Roboto Mono\\\", \\\"Noto Sans Mono\\\", \\\"Droid Sans Mono\\\", \\\"Ubuntu Mono\\\", \\\"DejaVu Sans Mono\\\", \\\"Liberation Mono\\\", \\\"Courier New\\\", Courier, monospace',padding:i=\\\"20px\\\",theme:r=null,mobile:s={}}=o,a=Object.keys(s).length>0?`\\n    @media (max-width: 640px) {\\n      .overtype-wrapper .overtype-input,\\n      .overtype-wrapper .overtype-preview {\\n        ${Object.entries(s).map(([d,l])=>`${d.replace(/([A-Z])/g,\\\"-$1\\\").toLowerCase()}: ${l} !important;`).join(`\\n        `)}\\n      }\\n    }\\n  `:\\\"\\\",p=r&&r.colors?N(r.colors):\\\"\\\";return`\\n    /* OverType Editor Styles */\\n    \\n    /* Middle-ground CSS Reset - Prevent parent styles from leaking in */\\n    .overtype-container * {\\n      /* Box model - these commonly leak */\\n      margin: 0 !important;\\n      padding: 0 !important;\\n      border: 0 !important;\\n      \\n      /* Layout - these can break our layout */\\n      /* Don't reset position - it breaks dropdowns */\\n      float: none !important;\\n      clear: none !important;\\n      \\n      /* Typography - only reset decorative aspects */\\n      text-decoration: none !important;\\n      text-transform: none !important;\\n      letter-spacing: normal !important;\\n      \\n      /* Visual effects that can interfere */\\n      box-shadow: none !important;\\n      text-shadow: none !important;\\n      \\n      /* Ensure box-sizing is consistent */\\n      box-sizing: border-box !important;\\n      \\n      /* Keep inheritance for these */\\n      /* font-family, color, line-height, font-size - inherit */\\n    }\\n    \\n    /* Container base styles after reset */\\n    .overtype-container {\\n      display: flex !important;\\n      flex-direction: column !important;\\n      width: 100% !important;\\n      height: 100% !important;\\n      position: relative !important; /* Override reset - needed for absolute children */\\n      overflow: visible !important; /* Allow dropdown to overflow container */\\n      font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, sans-serif !important;\\n      text-align: left !important;\\n      ${p?`\\n      /* Theme Variables */\\n      ${p}`:\\\"\\\"}\\n    }\\n    \\n    /* Force left alignment for all elements in the editor */\\n    .overtype-container .overtype-wrapper * {\\n      text-align: left !important;\\n    }\\n    \\n    /* Auto-resize mode styles */\\n    .overtype-container.overtype-auto-resize {\\n      height: auto !important;\\n    }\\n\\n    .overtype-container.overtype-auto-resize .overtype-wrapper {\\n      flex: 0 0 auto !important; /* Don't grow/shrink, use explicit height */\\n      height: auto !important;\\n      min-height: 60px !important;\\n      overflow: visible !important;\\n    }\\n    \\n    .overtype-wrapper {\\n      position: relative !important; /* Override reset - needed for absolute children */\\n      width: 100% !important;\\n      flex: 1 1 0 !important; /* Grow to fill remaining space, with flex-basis: 0 */\\n      min-height: 60px !important; /* Minimum usable height */\\n      overflow: hidden !important;\\n      background: var(--bg-secondary, #ffffff) !important;\\n      z-index: 1; /* Below toolbar and dropdown */\\n    }\\n\\n    /* Critical alignment styles - must be identical for both layers */\\n    .overtype-wrapper .overtype-input,\\n    .overtype-wrapper .overtype-preview {\\n      /* Positioning - must be identical */\\n      position: absolute !important; /* Override reset - required for overlay */\\n      top: 0 !important;\\n      left: 0 !important;\\n      width: 100% !important;\\n      height: 100% !important;\\n      \\n      /* Font properties - any difference breaks alignment */\\n      font-family: ${n} !important;\\n      font-variant-ligatures: none !important; /* keep metrics stable for code */\\n      font-size: var(--instance-font-size, ${e}) !important;\\n      line-height: var(--instance-line-height, ${t}) !important;\\n      font-weight: normal !important;\\n      font-style: normal !important;\\n      font-variant: normal !important;\\n      font-stretch: normal !important;\\n      font-kerning: none !important;\\n      font-feature-settings: normal !important;\\n      \\n      /* Box model - must match exactly */\\n      padding: var(--instance-padding, ${i}) !important;\\n      margin: 0 !important;\\n      border: none !important;\\n      outline: none !important;\\n      box-sizing: border-box !important;\\n      \\n      /* Text layout - critical for character positioning */\\n      white-space: pre-wrap !important;\\n      word-wrap: break-word !important;\\n      word-break: normal !important;\\n      overflow-wrap: break-word !important;\\n      tab-size: 2 !important;\\n      -moz-tab-size: 2 !important;\\n      text-align: left !important;\\n      text-indent: 0 !important;\\n      letter-spacing: normal !important;\\n      word-spacing: normal !important;\\n      \\n      /* Text rendering */\\n      text-transform: none !important;\\n      text-rendering: auto !important;\\n      -webkit-font-smoothing: auto !important;\\n      -webkit-text-size-adjust: 100% !important;\\n      \\n      /* Direction and writing */\\n      direction: ltr !important;\\n      writing-mode: horizontal-tb !important;\\n      unicode-bidi: normal !important;\\n      text-orientation: mixed !important;\\n      \\n      /* Visual effects that could shift perception */\\n      text-shadow: none !important;\\n      filter: none !important;\\n      transform: none !important;\\n      zoom: 1 !important;\\n      \\n      /* Vertical alignment */\\n      vertical-align: baseline !important;\\n      \\n      /* Size constraints */\\n      min-width: 0 !important;\\n      min-height: 0 !important;\\n      max-width: none !important;\\n      max-height: none !important;\\n      \\n      /* Overflow */\\n      overflow-y: auto !important;\\n      overflow-x: auto !important;\\n      /* overscroll-behavior removed to allow scroll-through to parent */\\n      scrollbar-width: auto !important;\\n      scrollbar-gutter: auto !important;\\n      \\n      /* Animation/transition - disabled to prevent movement */\\n      animation: none !important;\\n      transition: none !important;\\n    }\\n\\n    /* Input layer styles */\\n    .overtype-wrapper .overtype-input {\\n      /* Layer positioning */\\n      z-index: 1 !important;\\n      \\n      /* Text visibility */\\n      color: transparent !important;\\n      caret-color: var(--cursor, #f95738) !important;\\n      background-color: transparent !important;\\n      \\n      /* Textarea-specific */\\n      resize: none !important;\\n      appearance: none !important;\\n      -webkit-appearance: none !important;\\n      -moz-appearance: none !important;\\n      \\n      /* Prevent mobile zoom on focus */\\n      touch-action: manipulation !important;\\n      \\n      /* Disable autofill and spellcheck */\\n      autocomplete: off !important;\\n      autocorrect: off !important;\\n      autocapitalize: off !important;\\n      spellcheck: false !important;\\n    }\\n\\n    .overtype-wrapper .overtype-input::selection {\\n      background-color: var(--selection, rgba(244, 211, 94, 0.4));\\n    }\\n\\n    /* Preview layer styles */\\n    .overtype-wrapper .overtype-preview {\\n      /* Layer positioning */\\n      z-index: 0 !important;\\n      pointer-events: none !important;\\n      color: var(--text, #0d3b66) !important;\\n      background-color: transparent !important;\\n      \\n      /* Prevent text selection */\\n      user-select: none !important;\\n      -webkit-user-select: none !important;\\n      -moz-user-select: none !important;\\n      -ms-user-select: none !important;\\n    }\\n\\n    /* Defensive styles for preview child divs */\\n    .overtype-wrapper .overtype-preview div {\\n      /* Reset any inherited styles */\\n      margin: 0 !important;\\n      padding: 0 !important;\\n      border: none !important;\\n      text-align: left !important;\\n      text-indent: 0 !important;\\n      display: block !important;\\n      position: static !important;\\n      transform: none !important;\\n      min-height: 0 !important;\\n      max-height: none !important;\\n      line-height: inherit !important;\\n      font-size: inherit !important;\\n      font-family: inherit !important;\\n    }\\n\\n    /* Markdown element styling - NO SIZE CHANGES */\\n    .overtype-wrapper .overtype-preview .header {\\n      font-weight: bold !important;\\n    }\\n\\n    /* Header colors */\\n    .overtype-wrapper .overtype-preview .h1 { \\n      color: var(--h1, #f95738) !important; \\n    }\\n    .overtype-wrapper .overtype-preview .h2 { \\n      color: var(--h2, #ee964b) !important; \\n    }\\n    .overtype-wrapper .overtype-preview .h3 { \\n      color: var(--h3, #3d8a51) !important; \\n    }\\n\\n    /* Semantic headers - flatten in edit mode */\\n    .overtype-wrapper .overtype-preview h1,\\n    .overtype-wrapper .overtype-preview h2,\\n    .overtype-wrapper .overtype-preview h3 {\\n      font-size: inherit !important;\\n      font-weight: bold !important;\\n      margin: 0 !important;\\n      padding: 0 !important;\\n      display: inline !important;\\n      line-height: inherit !important;\\n    }\\n\\n    /* Header colors for semantic headers */\\n    .overtype-wrapper .overtype-preview h1 { \\n      color: var(--h1, #f95738) !important; \\n    }\\n    .overtype-wrapper .overtype-preview h2 { \\n      color: var(--h2, #ee964b) !important; \\n    }\\n    .overtype-wrapper .overtype-preview h3 { \\n      color: var(--h3, #3d8a51) !important; \\n    }\\n\\n    /* Lists - remove styling in edit mode */\\n    .overtype-wrapper .overtype-preview ul,\\n    .overtype-wrapper .overtype-preview ol {\\n      list-style: none !important;\\n      margin: 0 !important;\\n      padding: 0 !important;\\n      display: block !important; /* Lists need to be block for line breaks */\\n    }\\n\\n    .overtype-wrapper .overtype-preview li {\\n      display: block !important; /* Each item on its own line */\\n      margin: 0 !important;\\n      padding: 0 !important;\\n      /* Don't set list-style here - let ul/ol control it */\\n    }\\n\\n    /* Bold text */\\n    .overtype-wrapper .overtype-preview strong {\\n      color: var(--strong, #ee964b) !important;\\n      font-weight: bold !important;\\n    }\\n\\n    /* Italic text */\\n    .overtype-wrapper .overtype-preview em {\\n      color: var(--em, #f95738) !important;\\n      text-decoration-color: var(--em, #f95738) !important;\\n      text-decoration-thickness: 1px !important;\\n      font-style: italic !important;\\n    }\\n\\n    /* Strikethrough text */\\n    .overtype-wrapper .overtype-preview del {\\n      color: var(--del, #ee964b) !important;\\n      text-decoration: line-through !important;\\n      text-decoration-color: var(--del, #ee964b) !important;\\n      text-decoration-thickness: 1px !important;\\n    }\\n\\n    /* Inline code */\\n    .overtype-wrapper .overtype-preview code {\\n      background: var(--code-bg, rgba(244, 211, 94, 0.4)) !important;\\n      color: var(--code, #0d3b66) !important;\\n      padding: 0 !important;\\n      border-radius: 2px !important;\\n      font-family: inherit !important;\\n      font-size: inherit !important;\\n      line-height: inherit !important;\\n      font-weight: normal !important;\\n    }\\n\\n    /* Code blocks - consolidated pre blocks */\\n    .overtype-wrapper .overtype-preview pre {\\n      padding: 0 !important;\\n      margin: 0 !important;\\n      border-radius: 4px !important;\\n      overflow-x: auto !important;\\n    }\\n    \\n    /* Code block styling in normal mode - yellow background */\\n    .overtype-wrapper .overtype-preview pre.code-block {\\n      background: var(--code-bg, rgba(244, 211, 94, 0.4)) !important;\\n      white-space: break-spaces !important; /* Prevent horizontal scrollbar that breaks alignment */\\n    }\\n\\n    /* Code inside pre blocks - remove background */\\n    .overtype-wrapper .overtype-preview pre code {\\n      background: transparent !important;\\n      color: var(--code, #0d3b66) !important;\\n      font-family: ${n} !important; /* Match textarea font exactly for alignment */\\n    }\\n\\n    /* Blockquotes */\\n    .overtype-wrapper .overtype-preview .blockquote {\\n      color: var(--blockquote, #5a7a9b) !important;\\n      padding: 0 !important;\\n      margin: 0 !important;\\n      border: none !important;\\n    }\\n\\n    /* Links */\\n    .overtype-wrapper .overtype-preview a {\\n      color: var(--link, #0d3b66) !important;\\n      text-decoration: underline !important;\\n      font-weight: normal !important;\\n    }\\n\\n    .overtype-wrapper .overtype-preview a:hover {\\n      text-decoration: underline !important;\\n      color: var(--link, #0d3b66) !important;\\n    }\\n\\n    /* Lists - no list styling */\\n    .overtype-wrapper .overtype-preview ul,\\n    .overtype-wrapper .overtype-preview ol {\\n      list-style: none !important;\\n      margin: 0 !important;\\n      padding: 0 !important;\\n    }\\n\\n\\n    /* Horizontal rules */\\n    .overtype-wrapper .overtype-preview hr {\\n      border: none !important;\\n      color: var(--hr, #5a7a9b) !important;\\n      margin: 0 !important;\\n      padding: 0 !important;\\n    }\\n\\n    .overtype-wrapper .overtype-preview .hr-marker {\\n      color: var(--hr, #5a7a9b) !important;\\n      opacity: 0.6 !important;\\n    }\\n\\n    /* Code fence markers - with background when not in code block */\\n    .overtype-wrapper .overtype-preview .code-fence {\\n      color: var(--code, #0d3b66) !important;\\n      background: var(--code-bg, rgba(244, 211, 94, 0.4)) !important;\\n    }\\n    \\n    /* Code block lines - background for entire code block */\\n    .overtype-wrapper .overtype-preview .code-block-line {\\n      background: var(--code-bg, rgba(244, 211, 94, 0.4)) !important;\\n    }\\n    \\n    /* Remove background from code fence when inside code block line */\\n    .overtype-wrapper .overtype-preview .code-block-line .code-fence {\\n      background: transparent !important;\\n    }\\n\\n    /* Raw markdown line */\\n    .overtype-wrapper .overtype-preview .raw-line {\\n      color: var(--raw-line, #5a7a9b) !important;\\n      font-style: normal !important;\\n      font-weight: normal !important;\\n    }\\n\\n    /* Syntax markers */\\n    .overtype-wrapper .overtype-preview .syntax-marker {\\n      color: var(--syntax-marker, rgba(13, 59, 102, 0.52)) !important;\\n      opacity: 0.7 !important;\\n    }\\n\\n    /* List markers */\\n    .overtype-wrapper .overtype-preview .list-marker {\\n      color: var(--list-marker, #ee964b) !important;\\n    }\\n\\n    /* Stats bar */\\n    \\n    /* Stats bar - positioned by flexbox */\\n    .overtype-stats {\\n      height: 40px !important;\\n      padding: 0 20px !important;\\n      background: #f8f9fa !important;\\n      border-top: 1px solid #e0e0e0 !important;\\n      display: flex !important;\\n      justify-content: space-between !important;\\n      align-items: center !important;\\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;\\n      font-size: 0.85rem !important;\\n      color: #666 !important;\\n      flex-shrink: 0 !important; /* Don't shrink */\\n      z-index: 10001 !important; /* Above link tooltip */\\n      position: relative !important; /* Enable z-index */\\n    }\\n    \\n    /* Dark theme stats bar */\\n    .overtype-container[data-theme=\\\"cave\\\"] .overtype-stats {\\n      background: var(--bg-secondary, #1D2D3E) !important;\\n      border-top: 1px solid rgba(197, 221, 232, 0.1) !important;\\n      color: var(--text, #c5dde8) !important;\\n    }\\n    \\n    .overtype-stats .overtype-stat {\\n      display: flex !important;\\n      align-items: center !important;\\n      gap: 5px !important;\\n      white-space: nowrap !important;\\n    }\\n    \\n    .overtype-stats .live-dot {\\n      width: 8px !important;\\n      height: 8px !important;\\n      background: #4caf50 !important;\\n      border-radius: 50% !important;\\n      animation: overtype-pulse 2s infinite !important;\\n    }\\n    \\n    @keyframes overtype-pulse {\\n      0%, 100% { opacity: 1; transform: scale(1); }\\n      50% { opacity: 0.6; transform: scale(1.2); }\\n    }\\n    \\n\\n    /* Toolbar Styles */\\n    .overtype-toolbar {\\n      display: flex !important;\\n      align-items: center !important;\\n      gap: 4px !important;\\n      padding: 8px !important; /* Override reset */\\n      background: var(--toolbar-bg, var(--bg-primary, #f8f9fa)) !important; /* Override reset */\\n      border-bottom: 1px solid var(--toolbar-border, transparent) !important; /* Override reset */\\n      overflow-x: auto !important; /* Allow horizontal scrolling */\\n      overflow-y: hidden !important; /* Hide vertical overflow */\\n      -webkit-overflow-scrolling: touch !important;\\n      flex-shrink: 0 !important;\\n      height: auto !important;\\n      position: relative !important; /* Override reset */\\n      z-index: 100 !important; /* Ensure toolbar is above wrapper */\\n      scrollbar-width: thin; /* Thin scrollbar on Firefox */\\n    }\\n    \\n    /* Thin scrollbar styling */\\n    .overtype-toolbar::-webkit-scrollbar {\\n      height: 4px;\\n    }\\n    \\n    .overtype-toolbar::-webkit-scrollbar-track {\\n      background: transparent;\\n    }\\n    \\n    .overtype-toolbar::-webkit-scrollbar-thumb {\\n      background: rgba(0, 0, 0, 0.2);\\n      border-radius: 2px;\\n    }\\n\\n    .overtype-toolbar-button {\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      width: 32px;\\n      height: 32px;\\n      padding: 0;\\n      border: none;\\n      border-radius: 6px;\\n      background: transparent;\\n      color: var(--toolbar-icon, var(--text-secondary, #666));\\n      cursor: pointer;\\n      transition: all 0.2s ease;\\n      flex-shrink: 0;\\n    }\\n\\n    .overtype-toolbar-button svg {\\n      width: 20px;\\n      height: 20px;\\n      fill: currentColor;\\n    }\\n\\n    .overtype-toolbar-button:hover {\\n      background: var(--toolbar-hover, var(--bg-secondary, #e9ecef));\\n      color: var(--toolbar-icon, var(--text-primary, #333));\\n    }\\n\\n    .overtype-toolbar-button:active {\\n      transform: scale(0.95);\\n    }\\n\\n    .overtype-toolbar-button.active {\\n      background: var(--toolbar-active, var(--primary, #007bff));\\n      color: var(--toolbar-icon, var(--text-primary, #333));\\n    }\\n\\n    .overtype-toolbar-button:disabled {\\n      opacity: 0.5;\\n      cursor: not-allowed;\\n    }\\n\\n    .overtype-toolbar-separator {\\n      width: 1px;\\n      height: 24px;\\n      background: var(--border, #e0e0e0);\\n      margin: 0 4px;\\n      flex-shrink: 0;\\n    }\\n\\n    /* Adjust wrapper when toolbar is present */\\n    /* Mobile toolbar adjustments */\\n    @media (max-width: 640px) {\\n      .overtype-toolbar {\\n        padding: 6px;\\n        gap: 2px;\\n      }\\n\\n      .overtype-toolbar-button {\\n        width: 36px;\\n        height: 36px;\\n      }\\n\\n      .overtype-toolbar-separator {\\n        margin: 0 2px;\\n      }\\n    }\\n    \\n    /* Plain mode - hide preview and show textarea text */\\n    .overtype-container[data-mode=\\\"plain\\\"] .overtype-preview {\\n      display: none !important;\\n    }\\n    \\n    .overtype-container[data-mode=\\\"plain\\\"] .overtype-input {\\n      color: var(--text, #0d3b66) !important;\\n      /* Use system font stack for better plain text readability */\\n      font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\n                   \\\"Helvetica Neue\\\", Arial, sans-serif !important;\\n    }\\n    \\n    /* Ensure textarea remains transparent in overlay mode */\\n    .overtype-container:not([data-mode=\\\"plain\\\"]) .overtype-input {\\n      color: transparent !important;\\n    }\\n\\n    /* Dropdown menu styles */\\n    .overtype-toolbar-button {\\n      position: relative !important; /* Override reset - needed for dropdown */\\n    }\\n\\n    .overtype-toolbar-button.dropdown-active {\\n      background: var(--toolbar-active, var(--hover-bg, #f0f0f0));\\n    }\\n\\n    .overtype-dropdown-menu {\\n      position: fixed !important; /* Fixed positioning relative to viewport */\\n      background: var(--bg-secondary, white) !important; /* Override reset */\\n      border: 1px solid var(--border, #e0e0e0) !important; /* Override reset */\\n      border-radius: 6px;\\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important; /* Override reset */\\n      z-index: 10000; /* Very high z-index to ensure visibility */\\n      min-width: 150px;\\n      padding: 4px 0 !important; /* Override reset */\\n      /* Position will be set via JavaScript based on button position */\\n    }\\n\\n    .overtype-dropdown-item {\\n      display: flex;\\n      align-items: center;\\n      width: 100%;\\n      padding: 8px 12px;\\n      border: none;\\n      background: none;\\n      text-align: left;\\n      cursor: pointer;\\n      font-size: 14px;\\n      color: var(--text, #333);\\n      font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, sans-serif;\\n    }\\n\\n    .overtype-dropdown-item:hover {\\n      background: var(--hover-bg, #f0f0f0);\\n    }\\n\\n    .overtype-dropdown-item.active {\\n      font-weight: 600;\\n    }\\n\\n    .overtype-dropdown-check {\\n      width: 16px;\\n      margin-right: 8px;\\n      color: var(--h1, #007bff);\\n    }\\n\\n    .overtype-dropdown-icon {\\n      width: 20px;\\n      margin-right: 8px;\\n      text-align: center;\\n    }\\n\\n    /* Preview mode styles */\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-input {\\n      display: none !important;\\n    }\\n\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-preview {\\n      pointer-events: auto !important;\\n      user-select: text !important;\\n      cursor: text !important;\\n    }\\n\\n    /* Hide syntax markers in preview mode */\\n    .overtype-container[data-mode=\\\"preview\\\"] .syntax-marker {\\n      display: none !important;\\n    }\\n    \\n    /* Hide URL part of links in preview mode - extra specificity */\\n    .overtype-container[data-mode=\\\"preview\\\"] .syntax-marker.url-part,\\n    .overtype-container[data-mode=\\\"preview\\\"] .url-part {\\n      display: none !important;\\n    }\\n    \\n    /* Hide all syntax markers inside links too */\\n    .overtype-container[data-mode=\\\"preview\\\"] a .syntax-marker {\\n      display: none !important;\\n    }\\n\\n    /* Headers - restore proper sizing in preview mode */\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview h1, \\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview h2, \\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview h3 {\\n      font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, sans-serif !important;\\n      font-weight: 600 !important;\\n      margin: 0 !important;\\n      display: block !important;\\n      color: inherit !important; /* Use parent text color */\\n      line-height: 1 !important; /* Tight line height for headings */\\n    }\\n    \\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview h1 { \\n      font-size: 2em !important; \\n    }\\n    \\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview h2 { \\n      font-size: 1.5em !important; \\n    }\\n    \\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview h3 { \\n      font-size: 1.17em !important; \\n    }\\n\\n    /* Lists - restore list styling in preview mode */\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview ul {\\n      display: block !important;\\n      list-style: disc !important;\\n      padding-left: 2em !important;\\n      margin: 1em 0 !important;\\n    }\\n\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview ol {\\n      display: block !important;\\n      list-style: decimal !important;\\n      padding-left: 2em !important;\\n      margin: 1em 0 !important;\\n    }\\n    \\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview li {\\n      display: list-item !important;\\n      margin: 0 !important;\\n      padding: 0 !important;\\n    }\\n\\n    /* Task list checkboxes - only in preview mode */\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview li.task-list {\\n      list-style: none !important;\\n      position: relative !important;\\n    }\\n\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview li.task-list input[type=\\\"checkbox\\\"] {\\n      margin-right: 0.5em !important;\\n      cursor: default !important;\\n      vertical-align: middle !important;\\n    }\\n\\n    /* Task list in normal mode - keep syntax visible */\\n    .overtype-container:not([data-mode=\\\"preview\\\"]) .overtype-wrapper .overtype-preview li.task-list {\\n      list-style: none !important;\\n    }\\n\\n    .overtype-container:not([data-mode=\\\"preview\\\"]) .overtype-wrapper .overtype-preview li.task-list .syntax-marker {\\n      color: var(--syntax, #999999) !important;\\n      font-weight: normal !important;\\n    }\\n\\n    /* Links - make clickable in preview mode */\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview a {\\n      pointer-events: auto !important;\\n      cursor: pointer !important;\\n      color: var(--link, #0066cc) !important;\\n      text-decoration: underline !important;\\n    }\\n\\n    /* Code blocks - proper pre/code styling in preview mode */\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview pre.code-block {\\n      background: #2d2d2d !important;\\n      color: #f8f8f2 !important;\\n      padding: 1.2em !important;\\n      border-radius: 3px !important;\\n      overflow-x: auto !important;\\n      margin: 0 !important;\\n      display: block !important;\\n    }\\n    \\n    /* Cave theme code block background in preview mode */\\n    .overtype-container[data-theme=\\\"cave\\\"][data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview pre.code-block {\\n      background: #11171F !important;\\n    }\\n\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview pre.code-block code {\\n      background: transparent !important;\\n      color: inherit !important;\\n      padding: 0 !important;\\n      font-family: ${n} !important;\\n      font-size: 0.9em !important;\\n      line-height: 1.4 !important;\\n    }\\n\\n    /* Hide old code block lines and fences in preview mode */\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview .code-block-line {\\n      display: none !important;\\n    }\\n\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview .code-fence {\\n      display: none !important;\\n    }\\n\\n    /* Blockquotes - enhanced styling in preview mode */\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview .blockquote {\\n      display: block !important;\\n      border-left: 4px solid var(--blockquote, #ddd) !important;\\n      padding-left: 1em !important;\\n      margin: 1em 0 !important;\\n      font-style: italic !important;\\n    }\\n\\n    /* Typography improvements in preview mode */\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview {\\n      font-family: Georgia, 'Times New Roman', serif !important;\\n      font-size: 16px !important;\\n      line-height: 1.8 !important;\\n      color: var(--text, #333) !important; /* Consistent text color */\\n    }\\n\\n    /* Inline code in preview mode - keep monospace */\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview code {\\n      font-family: ${n} !important;\\n      font-size: 0.9em !important;\\n      background: rgba(135, 131, 120, 0.15) !important;\\n      padding: 0.2em 0.4em !important;\\n      border-radius: 3px !important;\\n    }\\n\\n    /* Strong and em elements in preview mode */\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview strong {\\n      font-weight: 700 !important;\\n      color: inherit !important; /* Use parent text color */\\n    }\\n\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview em {\\n      font-style: italic !important;\\n      color: inherit !important; /* Use parent text color */\\n    }\\n\\n    /* HR in preview mode */\\n    .overtype-container[data-mode=\\\"preview\\\"] .overtype-wrapper .overtype-preview .hr-marker {\\n      display: block !important;\\n      border-top: 2px solid var(--hr, #ddd) !important;\\n      text-indent: -9999px !important;\\n      height: 2px !important;\\n    }\\n\\n    /* Link Tooltip - Base styles (all browsers) */\\n    .overtype-link-tooltip {\\n      /* Visual styles that work for both positioning methods */\\n      background: #333 !important;\\n      color: white !important;\\n      padding: 6px 10px !important;\\n      border-radius: 16px !important;\\n      font-size: 12px !important;\\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;\\n      display: none !important;\\n      z-index: 10000 !important;\\n      cursor: pointer !important;\\n      box-shadow: 0 2px 8px rgba(0,0,0,0.3) !important;\\n      max-width: 300px !important;\\n      white-space: nowrap !important;\\n      overflow: hidden !important;\\n      text-overflow: ellipsis !important;\\n\\n      /* Base positioning for Floating UI fallback */\\n      position: absolute;\\n    }\\n\\n    .overtype-link-tooltip.visible {\\n      display: flex !important;\\n    }\\n\\n    /* CSS Anchor Positioning (modern browsers only) */\\n    @supports (position-anchor: --x) and (position-area: center) {\\n      .overtype-link-tooltip {\\n        /* Only anchor positioning specific properties */\\n        position-anchor: var(--target-anchor, --link-0);\\n        position-area: block-end center;\\n        margin-top: 8px !important;\\n        position-try: most-width block-end inline-end, flip-inline, block-start center;\\n        position-visibility: anchors-visible;\\n      }\\n    }\\n\\n    ${a}\\n  `}var Z=class{constructor(e,t={}){this.editor=e,this.container=null,this.buttons={},this.toolbarButtons=t.toolbarButtons||[]}create(){this.container=document.createElement(\\\"div\\\"),this.container.className=\\\"overtype-toolbar\\\",this.container.setAttribute(\\\"role\\\",\\\"toolbar\\\"),this.container.setAttribute(\\\"aria-label\\\",\\\"Formatting toolbar\\\"),this.toolbarButtons.forEach(e=>{if(e.name===\\\"separator\\\"){let t=this.createSeparator();this.container.appendChild(t)}else{let t=this.createButton(e);this.buttons[e.name]=t,this.container.appendChild(t)}}),this.editor.container.insertBefore(this.container,this.editor.wrapper)}createSeparator(){let e=document.createElement(\\\"div\\\");return e.className=\\\"overtype-toolbar-separator\\\",e.setAttribute(\\\"role\\\",\\\"separator\\\"),e}createButton(e){let t=document.createElement(\\\"button\\\");return t.className=\\\"overtype-toolbar-button\\\",t.type=\\\"button\\\",t.setAttribute(\\\"data-button\\\",e.name),t.title=e.title||\\\"\\\",t.setAttribute(\\\"aria-label\\\",e.title||e.name),t.innerHTML=this.sanitizeSVG(e.icon||\\\"\\\"),e.name===\\\"viewMode\\\"?(t.classList.add(\\\"has-dropdown\\\"),t.dataset.dropdown=\\\"true\\\",t.addEventListener(\\\"click\\\",n=>{n.preventDefault(),this.toggleViewModeDropdown(t)}),t):(t._clickHandler=async n=>{n.preventDefault(),this.editor.textarea.focus();try{e.action&&await e.action({editor:this.editor,getValue:()=>this.editor.getValue(),setValue:i=>this.editor.setValue(i),event:n})}catch(i){console.error(`Button \\\"${e.name}\\\" error:`,i),this.editor.wrapper.dispatchEvent(new CustomEvent(\\\"button-error\\\",{detail:{buttonName:e.name,error:i}})),t.classList.add(\\\"button-error\\\"),t.style.animation=\\\"buttonError 0.3s\\\",setTimeout(()=>{t.classList.remove(\\\"button-error\\\"),t.style.animation=\\\"\\\"},300)}},t.addEventListener(\\\"click\\\",t._clickHandler),t)}async handleAction(e){this.editor.textarea.focus();try{e.action&&await e.action({editor:this.editor,getValue:()=>this.editor.getValue(),setValue:t=>this.editor.setValue(t),event:null})}catch(t){console.error(`Action \\\"${e.name}\\\" error:`,t),this.editor.wrapper.dispatchEvent(new CustomEvent(\\\"button-error\\\",{detail:{buttonName:e.name,error:t}}))}}sanitizeSVG(e){return typeof e!=\\\"string\\\"?\\\"\\\":e.replace(/\u003Cscript\\\\b[^\u003C]*(?:(?!\u003C\\\\/script>)\u003C[^\u003C]*)*\u003C\\\\/script>/gi,\\\"\\\").replace(/\\\\son\\\\w+\\\\s*=\\\\s*[\\\"'][^\\\"']*[\\\"']/gi,\\\"\\\").replace(/\\\\son\\\\w+\\\\s*=\\\\s*[^\\\\s>]*/gi,\\\"\\\")}toggleViewModeDropdown(e){let t=document.querySelector(\\\".overtype-dropdown-menu\\\");if(t){t.remove(),e.classList.remove(\\\"dropdown-active\\\");return}e.classList.add(\\\"dropdown-active\\\");let n=this.createViewModeDropdown(e),i=e.getBoundingClientRect();n.style.position=\\\"absolute\\\",n.style.top=`${i.bottom+5}px`,n.style.left=`${i.left}px`,document.body.appendChild(n),this.handleDocumentClick=r=>{!n.contains(r.target)&&!e.contains(r.target)&&(n.remove(),e.classList.remove(\\\"dropdown-active\\\"),document.removeEventListener(\\\"click\\\",this.handleDocumentClick))},setTimeout(()=>{document.addEventListener(\\\"click\\\",this.handleDocumentClick)},0)}createViewModeDropdown(e){let t=document.createElement(\\\"div\\\");t.className=\\\"overtype-dropdown-menu\\\";let n=[{id:\\\"normal\\\",label:\\\"Normal Edit\\\",icon:\\\"\\\\u2713\\\"},{id:\\\"plain\\\",label:\\\"Plain Textarea\\\",icon:\\\"\\\\u2713\\\"},{id:\\\"preview\\\",label:\\\"Preview Mode\\\",icon:\\\"\\\\u2713\\\"}],i=this.editor.container.dataset.mode||\\\"normal\\\";return n.forEach(r=>{let s=document.createElement(\\\"button\\\");if(s.className=\\\"overtype-dropdown-item\\\",s.type=\\\"button\\\",s.textContent=r.label,r.id===i){s.classList.add(\\\"active\\\"),s.setAttribute(\\\"aria-current\\\",\\\"true\\\");let a=document.createElement(\\\"span\\\");a.className=\\\"overtype-dropdown-icon\\\",a.textContent=r.icon,s.prepend(a)}s.addEventListener(\\\"click\\\",a=>{switch(a.preventDefault(),r.id){case\\\"plain\\\":this.editor.showPlainTextarea();break;case\\\"preview\\\":this.editor.showPreviewMode();break;case\\\"normal\\\":default:this.editor.showNormalEditMode();break}t.remove(),e.classList.remove(\\\"dropdown-active\\\"),document.removeEventListener(\\\"click\\\",this.handleDocumentClick)}),t.appendChild(s)}),t}updateButtonStates(){var e;try{let t=((e=ye)==null?void 0:e(this.editor.textarea,this.editor.textarea.selectionStart))||[];Object.entries(this.buttons).forEach(([n,i])=>{if(n===\\\"viewMode\\\")return;let r=!1;switch(n){case\\\"bold\\\":r=t.includes(\\\"bold\\\");break;case\\\"italic\\\":r=t.includes(\\\"italic\\\");break;case\\\"code\\\":r=!1;break;case\\\"bulletList\\\":r=t.includes(\\\"bullet-list\\\");break;case\\\"orderedList\\\":r=t.includes(\\\"numbered-list\\\");break;case\\\"taskList\\\":r=t.includes(\\\"task-list\\\");break;case\\\"quote\\\":r=t.includes(\\\"quote\\\");break;case\\\"h1\\\":r=t.includes(\\\"header\\\");break;case\\\"h2\\\":r=t.includes(\\\"header-2\\\");break;case\\\"h3\\\":r=t.includes(\\\"header-3\\\");break}i.classList.toggle(\\\"active\\\",r),i.setAttribute(\\\"aria-pressed\\\",r.toString())})}catch(t){}}destroy(){this.container&&(this.handleDocumentClick&&document.removeEventListener(\\\"click\\\",this.handleDocumentClick),Object.values(this.buttons).forEach(e=>{e._clickHandler&&(e.removeEventListener(\\\"click\\\",e._clickHandler),delete e._clickHandler)}),this.container.remove(),this.container=null,this.buttons={})}};var J=class{constructor(e){this.editor=e,this.tooltip=null,this.currentLink=null,this.hideTimeout=null,this.visibilityChangeHandler=null,this.useFloatingUI=!1,this.floatingUI=null,this.init()}async init(){if(!(CSS.supports(\\\"position-anchor: --x\\\")&&CSS.supports(\\\"position-area: center\\\")))try{let t=new Function(\\\"url\\\",\\\"return import(url)\\\"),{computePosition:n,offset:i,shift:r,flip:s}=await t(\\\"https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm\\\");this.floatingUI={computePosition:n,offset:i,shift:r,flip:s},this.useFloatingUI=!0}catch(t){console.warn(\\\"Failed to load Floating UI fallback:\\\",t),this.floatingUI=null,this.useFloatingUI=!1}this.createTooltip(),this.editor.textarea.addEventListener(\\\"selectionchange\\\",()=>this.checkCursorPosition()),this.editor.textarea.addEventListener(\\\"keyup\\\",t=>{(t.key.includes(\\\"Arrow\\\")||t.key===\\\"Home\\\"||t.key===\\\"End\\\")&&this.checkCursorPosition()}),this.editor.textarea.addEventListener(\\\"input\\\",()=>this.hide()),this.editor.textarea.addEventListener(\\\"scroll\\\",()=>{this.useFloatingUI&&this.currentLink?this.showWithFloatingUI(this.currentLink):this.hide()}),this.editor.textarea.addEventListener(\\\"blur\\\",()=>this.hide()),this.visibilityChangeHandler=()=>{document.hidden&&this.hide()},document.addEventListener(\\\"visibilitychange\\\",this.visibilityChangeHandler),this.tooltip.addEventListener(\\\"mouseenter\\\",()=>this.cancelHide())}createTooltip(){this.tooltip=document.createElement(\\\"div\\\"),this.tooltip.className=\\\"overtype-link-tooltip\\\",this.tooltip.innerHTML=`\\n      \u003Cspan style=\\\"display: flex; align-items: center; gap: 6px;\\\">\\n        \u003Csvg width=\\\"12\\\" height=\\\"12\\\" viewBox=\\\"0 0 20 20\\\" fill=\\\"currentColor\\\" style=\\\"flex-shrink: 0;\\\">\\n          \u003Cpath d=\\\"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z\\\">\u003C/path>\\n          \u003Cpath d=\\\"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z\\\">\u003C/path>\\n        \u003C/svg>\\n        \u003Cspan class=\\\"overtype-link-tooltip-url\\\">\u003C/span>\\n      \u003C/span>\\n    `,this.tooltip.addEventListener(\\\"click\\\",e=>{e.preventDefault(),e.stopPropagation(),this.currentLink&&(window.open(this.currentLink.url,\\\"_blank\\\"),this.hide())}),this.editor.container.appendChild(this.tooltip)}checkCursorPosition(){let e=this.editor.textarea.selectionStart,t=this.editor.textarea.value,n=this.findLinkAtPosition(t,e);n?(!this.currentLink||this.currentLink.url!==n.url||this.currentLink.index!==n.index)&&this.show(n):this.scheduleHide()}findLinkAtPosition(e,t){let n=/\\\\[([^\\\\]]+)\\\\]\\\\(([^)]+)\\\\)/g,i,r=0;for(;(i=n.exec(e))!==null;){let s=i.index,a=i.index+i[0].length;if(t>=s&&t\u003C=a)return{text:i[1],url:i[2],index:r,start:s,end:a};r++}return null}show(e){this.currentLink=e,this.cancelHide();let t=this.tooltip.querySelector(\\\".overtype-link-tooltip-url\\\");t.textContent=e.url,this.useFloatingUI?this.showWithFloatingUI(e):this.showWithAnchorPositioning(e),this.tooltip.classList.add(\\\"visible\\\")}showWithAnchorPositioning(e){this.tooltip.style.setProperty(\\\"--target-anchor\\\",`--link-${e.index}`)}async showWithFloatingUI(e){let t=this.findAnchorElement(e.index);if(!t)return;let n=t.getBoundingClientRect();if(!(n.width===0||n.height===0))try{let{x:i,y:r}=await this.floatingUI.computePosition(t,this.tooltip,{placement:\\\"bottom\\\",middleware:[this.floatingUI.offset(8),this.floatingUI.shift({padding:8}),this.floatingUI.flip()]});Object.assign(this.tooltip.style,{left:`${i}px`,top:`${r}px`,position:\\\"absolute\\\"})}catch(i){console.warn(\\\"Floating UI positioning failed:\\\",i);return}}findAnchorElement(e){return this.editor.preview.querySelector(`a[style*=\\\"--link-${e}\\\"]`)}hide(){this.tooltip.classList.remove(\\\"visible\\\"),this.currentLink=null}scheduleHide(){this.cancelHide(),this.hideTimeout=setTimeout(()=>this.hide(),300)}cancelHide(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}destroy(){this.cancelHide(),this.visibilityChangeHandler&&(document.removeEventListener(\\\"visibilitychange\\\",this.visibilityChangeHandler),this.visibilityChangeHandler=null),this.tooltip&&this.tooltip.parentNode&&this.tooltip.parentNode.removeChild(this.tooltip),this.tooltip=null,this.currentLink=null,this.floatingUI=null,this.useFloatingUI=!1}};var Le=`\u003Csvg viewBox=\\\"0 0 18 18\\\">\\n  \u003Cpath stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z\\\">\u003C/path>\\n  \u003Cpath stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z\\\">\u003C/path>\\n\u003C/svg>`,Se=`\u003Csvg viewBox=\\\"0 0 18 18\\\">\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"7\\\" x2=\\\"13\\\" y1=\\\"4\\\" y2=\\\"4\\\">\u003C/line>\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"5\\\" x2=\\\"11\\\" y1=\\\"14\\\" y2=\\\"14\\\">\u003C/line>\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"8\\\" x2=\\\"10\\\" y1=\\\"14\\\" y2=\\\"4\\\">\u003C/line>\\n\u003C/svg>`,Ee=`\u003Csvg viewBox=\\\"0 0 18 18\\\">\\n  \u003Cpath fill=\\\"currentColor\\\" d=\\\"M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z\\\">\u003C/path>\\n\u003C/svg>`,Ce=`\u003Csvg viewBox=\\\"0 0 18 18\\\">\\n  \u003Cpath fill=\\\"currentColor\\\" d=\\\"M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z\\\">\u003C/path>\\n\u003C/svg>`,Te=`\u003Csvg viewBox=\\\"0 0 18 18\\\">\\n  \u003Cpath fill=\\\"currentColor\\\" d=\\\"M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z\\\">\u003C/path>\\n\u003C/svg>`,Ae=`\u003Csvg viewBox=\\\"0 0 18 18\\\">\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"7\\\" x2=\\\"11\\\" y1=\\\"7\\\" y2=\\\"11\\\">\u003C/line>\\n  \u003Cpath stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z\\\">\u003C/path>\\n  \u003Cpath stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z\\\">\u003C/path>\\n\u003C/svg>`,$e=`\u003Csvg viewBox=\\\"0 0 18 18\\\">\\n  \u003Cpolyline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" points=\\\"5 7 3 9 5 11\\\">\u003C/polyline>\\n  \u003Cpolyline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" points=\\\"13 7 15 9 13 11\\\">\u003C/polyline>\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"10\\\" x2=\\\"8\\\" y1=\\\"5\\\" y2=\\\"13\\\">\u003C/line>\\n\u003C/svg>`,He=`\u003Csvg viewBox=\\\"0 0 18 18\\\">\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"6\\\" x2=\\\"15\\\" y1=\\\"4\\\" y2=\\\"4\\\">\u003C/line>\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"6\\\" x2=\\\"15\\\" y1=\\\"9\\\" y2=\\\"9\\\">\u003C/line>\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"6\\\" x2=\\\"15\\\" y1=\\\"14\\\" y2=\\\"14\\\">\u003C/line>\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"3\\\" x2=\\\"3\\\" y1=\\\"4\\\" y2=\\\"4\\\">\u003C/line>\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"3\\\" x2=\\\"3\\\" y1=\\\"9\\\" y2=\\\"9\\\">\u003C/line>\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"3\\\" x2=\\\"3\\\" y1=\\\"14\\\" y2=\\\"14\\\">\u003C/line>\\n\u003C/svg>`,Me=`\u003Csvg viewBox=\\\"0 0 18 18\\\">\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"7\\\" x2=\\\"15\\\" y1=\\\"4\\\" y2=\\\"4\\\">\u003C/line>\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"7\\\" x2=\\\"15\\\" y1=\\\"9\\\" y2=\\\"9\\\">\u003C/line>\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"7\\\" x2=\\\"15\\\" y1=\\\"14\\\" y2=\\\"14\\\">\u003C/line>\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1\\\" x1=\\\"2.5\\\" x2=\\\"4.5\\\" y1=\\\"5.5\\\" y2=\\\"5.5\\\">\u003C/line>\\n  \u003Cpath fill=\\\"currentColor\\\" d=\\\"M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z\\\">\u003C/path>\\n  \u003Cpath stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1\\\" d=\\\"M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156\\\">\u003C/path>\\n  \u003Cpath stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1\\\" d=\\\"M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109\\\">\u003C/path>\\n\u003C/svg>`,Ie=`\u003Csvg viewBox=\\\"2 2 20 20\\\">\\n  \u003Cpath stroke=\\\"currentColor\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14\\\">\u003C/path>\\n  \u003Cpath stroke=\\\"currentColor\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14\\\">\u003C/path>\\n\u003C/svg>`,Pe=`\u003Csvg viewBox=\\\"0 0 18 18\\\">\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"8\\\" x2=\\\"16\\\" y1=\\\"4\\\" y2=\\\"4\\\">\u003C/line>\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"8\\\" x2=\\\"16\\\" y1=\\\"9\\\" y2=\\\"9\\\">\u003C/line>\\n  \u003Cline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" x1=\\\"8\\\" x2=\\\"16\\\" y1=\\\"14\\\" y2=\\\"14\\\">\u003C/line>\\n  \u003Crect stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-width=\\\"1.5\\\" x=\\\"2\\\" y=\\\"3\\\" width=\\\"3\\\" height=\\\"3\\\" rx=\\\"0.5\\\">\u003C/rect>\\n  \u003Crect stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-width=\\\"1.5\\\" x=\\\"2\\\" y=\\\"13\\\" width=\\\"3\\\" height=\\\"3\\\" rx=\\\"0.5\\\">\u003C/rect>\\n  \u003Cpolyline stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1.5\\\" points=\\\"2.65 9.5 3.5 10.5 5 8.5\\\">\u003C/polyline>\\n\u003C/svg>`,Be=`\u003Csvg viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n  \u003Cpath d=\\\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\\\" fill=\\\"none\\\">\u003C/path>\\n  \u003Ccircle cx=\\\"12\\\" cy=\\\"12\\\" r=\\\"3\\\" fill=\\\"none\\\">\u003C/circle>\\n\u003C/svg>`;var x={bold:{name:\\\"bold\\\",icon:Le,title:\\\"Bold (Ctrl+B)\\\",action:({editor:o,event:e})=>{U(o.textarea),o.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}},italic:{name:\\\"italic\\\",icon:Se,title:\\\"Italic (Ctrl+I)\\\",action:({editor:o,event:e})=>{D(o.textarea),o.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}},code:{name:\\\"code\\\",icon:$e,title:\\\"Inline Code\\\",action:({editor:o,event:e})=>{ue(o.textarea),o.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}},separator:{name:\\\"separator\\\"},link:{name:\\\"link\\\",icon:Ae,title:\\\"Insert Link\\\",action:({editor:o,event:e})=>{q(o.textarea),o.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}},h1:{name:\\\"h1\\\",icon:Ee,title:\\\"Heading 1\\\",action:({editor:o,event:e})=>{fe(o.textarea),o.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}},h2:{name:\\\"h2\\\",icon:Ce,title:\\\"Heading 2\\\",action:({editor:o,event:e})=>{ge(o.textarea),o.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}},h3:{name:\\\"h3\\\",icon:Te,title:\\\"Heading 3\\\",action:({editor:o,event:e})=>{ve(o.textarea),o.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}},bulletList:{name:\\\"bulletList\\\",icon:He,title:\\\"Bullet List\\\",action:({editor:o,event:e})=>{W(o.textarea),o.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}},orderedList:{name:\\\"orderedList\\\",icon:Me,title:\\\"Numbered List\\\",action:({editor:o,event:e})=>{K(o.textarea),o.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}},taskList:{name:\\\"taskList\\\",icon:Pe,title:\\\"Task List\\\",action:({editor:o,event:e})=>{X&&(X(o.textarea),o.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0})))}},quote:{name:\\\"quote\\\",icon:Ie,title:\\\"Quote\\\",action:({editor:o,event:e})=>{me(o.textarea),o.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}},viewMode:{name:\\\"viewMode\\\",icon:Be,title:\\\"View mode\\\"}},G=[x.bold,x.italic,x.code,x.separator,x.link,x.separator,x.h1,x.h2,x.h3,x.separator,x.bulletList,x.orderedList,x.taskList,x.separator,x.quote,x.separator,x.viewMode];var w=class w{constructor(e,t={}){let n;if(typeof e==\\\"string\\\"){if(n=document.querySelectorAll(e),n.length===0)throw new Error(`No elements found for selector: ${e}`);n=Array.from(n)}else if(e instanceof Element)n=[e];else if(e instanceof NodeList)n=Array.from(e);else if(Array.isArray(e))n=e;else throw new Error(\\\"Invalid target: must be selector string, Element, NodeList, or Array\\\");return n.map(r=>{if(r.overTypeInstance)return r.overTypeInstance.reinit(t),r.overTypeInstance;let s=Object.create(w.prototype);return s._init(r,t),r.overTypeInstance=s,w.instances.set(r,s),s})}_init(e,t={}){this.element=e,this.instanceTheme=t.theme||null,this.options=this._mergeOptions(t),this.instanceId=++w.instanceCount,this.initialized=!1,w.injectStyles(),w.initGlobalListeners();let n=e.querySelector(\\\".overtype-container\\\"),i=e.querySelector(\\\".overtype-wrapper\\\");n||i?this._recoverFromDOM(n,i):this._buildFromScratch(),this.shortcuts=new O(this),this.linkTooltip=new J(this),requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.textarea.scrollTop=this.preview.scrollTop,this.textarea.scrollLeft=this.preview.scrollLeft})}),this.initialized=!0,this.options.onChange&&this.options.onChange(this.getValue(),this)}_mergeOptions(e){let t={fontSize:\\\"14px\\\",lineHeight:1.6,fontFamily:'\\\"SF Mono\\\", SFMono-Regular, Menlo, Monaco, \\\"Cascadia Code\\\", Consolas, \\\"Roboto Mono\\\", \\\"Noto Sans Mono\\\", \\\"Droid Sans Mono\\\", \\\"Ubuntu Mono\\\", \\\"DejaVu Sans Mono\\\", \\\"Liberation Mono\\\", \\\"Courier New\\\", Courier, monospace',padding:\\\"16px\\\",mobile:{fontSize:\\\"16px\\\",padding:\\\"12px\\\",lineHeight:1.5},textareaProps:{},autofocus:!1,autoResize:!1,minHeight:\\\"100px\\\",maxHeight:null,placeholder:\\\"Start typing...\\\",value:\\\"\\\",onChange:null,onKeydown:null,showActiveLineRaw:!1,showStats:!1,toolbar:!1,toolbarButtons:null,statsFormatter:null,smartLists:!0,codeHighlighter:null},{theme:n,colors:i,...r}=e;return{...t,...r}}_recoverFromDOM(e,t){if(e&&e.classList.contains(\\\"overtype-container\\\"))this.container=e,this.wrapper=e.querySelector(\\\".overtype-wrapper\\\");else if(t){this.wrapper=t,this.container=document.createElement(\\\"div\\\"),this.container.className=\\\"overtype-container\\\";let n=this.instanceTheme||w.currentTheme||P,i=typeof n==\\\"string\\\"?n:n.name;if(i&&this.container.setAttribute(\\\"data-theme\\\",i),this.instanceTheme){let r=typeof this.instanceTheme==\\\"string\\\"?B(this.instanceTheme):this.instanceTheme;if(r&&r.colors){let s=N(r.colors);this.container.style.cssText+=s}}t.parentNode.insertBefore(this.container,t),this.container.appendChild(t)}if(!this.wrapper){e&&e.remove(),t&&t.remove(),this._buildFromScratch();return}if(this.textarea=this.wrapper.querySelector(\\\".overtype-input\\\"),this.preview=this.wrapper.querySelector(\\\".overtype-preview\\\"),!this.textarea||!this.preview){this.container.remove(),this._buildFromScratch();return}this.wrapper._instance=this,this.options.fontSize&&this.wrapper.style.setProperty(\\\"--instance-font-size\\\",this.options.fontSize),this.options.lineHeight&&this.wrapper.style.setProperty(\\\"--instance-line-height\\\",String(this.options.lineHeight)),this.options.padding&&this.wrapper.style.setProperty(\\\"--instance-padding\\\",this.options.padding),this._configureTextarea(),this._applyOptions()}_buildFromScratch(){let e=this._extractContent();this.element.innerHTML=\\\"\\\",this._createDOM(),(e||this.options.value)&&this.setValue(e||this.options.value),this._applyOptions()}_extractContent(){let e=this.element.querySelector(\\\".overtype-input\\\");return e?e.value:this.element.textContent||\\\"\\\"}_createDOM(){this.container=document.createElement(\\\"div\\\"),this.container.className=\\\"overtype-container\\\";let e=this.instanceTheme||w.currentTheme||P,t=typeof e==\\\"string\\\"?e:e.name;if(t&&this.container.setAttribute(\\\"data-theme\\\",t),this.instanceTheme){let n=typeof this.instanceTheme==\\\"string\\\"?B(this.instanceTheme):this.instanceTheme;if(n&&n.colors){let i=N(n.colors);this.container.style.cssText+=i}}this.wrapper=document.createElement(\\\"div\\\"),this.wrapper.className=\\\"overtype-wrapper\\\",this.options.fontSize&&this.wrapper.style.setProperty(\\\"--instance-font-size\\\",this.options.fontSize),this.options.lineHeight&&this.wrapper.style.setProperty(\\\"--instance-line-height\\\",String(this.options.lineHeight)),this.options.padding&&this.wrapper.style.setProperty(\\\"--instance-padding\\\",this.options.padding),this.wrapper._instance=this,this.textarea=document.createElement(\\\"textarea\\\"),this.textarea.className=\\\"overtype-input\\\",this.textarea.placeholder=this.options.placeholder,this._configureTextarea(),this.options.textareaProps&&Object.entries(this.options.textareaProps).forEach(([n,i])=>{n===\\\"className\\\"||n===\\\"class\\\"?this.textarea.className+=\\\" \\\"+i:n===\\\"style\\\"&&typeof i==\\\"object\\\"?Object.assign(this.textarea.style,i):this.textarea.setAttribute(n,i)}),this.preview=document.createElement(\\\"div\\\"),this.preview.className=\\\"overtype-preview\\\",this.preview.setAttribute(\\\"aria-hidden\\\",\\\"true\\\"),this.wrapper.appendChild(this.textarea),this.wrapper.appendChild(this.preview),this.container.appendChild(this.wrapper),this.options.showStats&&(this.statsBar=document.createElement(\\\"div\\\"),this.statsBar.className=\\\"overtype-stats\\\",this.container.appendChild(this.statsBar),this._updateStats()),this.element.appendChild(this.container),this.options.autoResize?this._setupAutoResize():this.container.classList.remove(\\\"overtype-auto-resize\\\")}_configureTextarea(){this.textarea.setAttribute(\\\"autocomplete\\\",\\\"off\\\"),this.textarea.setAttribute(\\\"autocorrect\\\",\\\"off\\\"),this.textarea.setAttribute(\\\"autocapitalize\\\",\\\"off\\\"),this.textarea.setAttribute(\\\"spellcheck\\\",\\\"false\\\"),this.textarea.setAttribute(\\\"data-gramm\\\",\\\"false\\\"),this.textarea.setAttribute(\\\"data-gramm_editor\\\",\\\"false\\\"),this.textarea.setAttribute(\\\"data-enable-grammarly\\\",\\\"false\\\")}_createToolbar(){let e=this.options.toolbarButtons||G;this.toolbar=new Z(this,{toolbarButtons:e}),this.toolbar.create(),this._toolbarSelectionListener=()=>{this.toolbar&&this.toolbar.updateButtonStates()},this._toolbarInputListener=()=>{this.toolbar&&this.toolbar.updateButtonStates()},this.textarea.addEventListener(\\\"selectionchange\\\",this._toolbarSelectionListener),this.textarea.addEventListener(\\\"input\\\",this._toolbarInputListener)}_cleanupToolbarListeners(){this._toolbarSelectionListener&&(this.textarea.removeEventListener(\\\"selectionchange\\\",this._toolbarSelectionListener),this._toolbarSelectionListener=null),this._toolbarInputListener&&(this.textarea.removeEventListener(\\\"input\\\",this._toolbarInputListener),this._toolbarInputListener=null)}_applyOptions(){this.options.autofocus&&this.textarea.focus(),this.options.autoResize?this.container.classList.contains(\\\"overtype-auto-resize\\\")||this._setupAutoResize():this.container.classList.remove(\\\"overtype-auto-resize\\\"),this.options.toolbar&&!this.toolbar?this._createToolbar():!this.options.toolbar&&this.toolbar&&(this._cleanupToolbarListeners(),this.toolbar.destroy(),this.toolbar=null),this.updatePreview()}updatePreview(){let e=this.textarea.value,t=this.textarea.selectionStart,n=this._getCurrentLine(e,t),i=this.container.dataset.mode===\\\"preview\\\",r=S.parse(e,n,this.options.showActiveLineRaw,this.options.codeHighlighter,i);this.preview.innerHTML=r||'\u003Cspan style=\\\"color: #808080;\\\">Start typing...\u003C/span>',this._applyCodeBlockBackgrounds(),this.options.showStats&&this.statsBar&&this._updateStats(),this.options.onChange&&this.initialized&&this.options.onChange(e,this)}_applyCodeBlockBackgrounds(){let e=this.preview.querySelectorAll(\\\".code-fence\\\");for(let t=0;t\u003Ce.length-1;t+=2){let n=e[t],i=e[t+1],r=n.parentElement,s=i.parentElement;!r||!s||(n.style.display=\\\"block\\\",i.style.display=\\\"block\\\",r.classList.add(\\\"code-block-line\\\"),s.classList.add(\\\"code-block-line\\\"))}}_getCurrentLine(e,t){return e.substring(0,t).split(`\\n`).length-1}handleInput(e){this.updatePreview()}handleKeydown(e){if(e.key===\\\"Tab\\\"){let n=this.textarea.selectionStart,i=this.textarea.selectionEnd,r=this.textarea.value;if(e.shiftKey&&n===i)return;if(e.preventDefault(),n!==i&&e.shiftKey){let s=r.substring(0,n),a=r.substring(n,i),p=r.substring(i),l=a.split(`\\n`).map(c=>c.replace(/^  /,\\\"\\\")).join(`\\n`);document.execCommand?(this.textarea.setSelectionRange(n,i),document.execCommand(\\\"insertText\\\",!1,l)):(this.textarea.value=s+l+p,this.textarea.selectionStart=n,this.textarea.selectionEnd=n+l.length)}else if(n!==i){let s=r.substring(0,n),a=r.substring(n,i),p=r.substring(i),l=a.split(`\\n`).map(c=>\\\"  \\\"+c).join(`\\n`);document.execCommand?(this.textarea.setSelectionRange(n,i),document.execCommand(\\\"insertText\\\",!1,l)):(this.textarea.value=s+l+p,this.textarea.selectionStart=n,this.textarea.selectionEnd=n+l.length)}else document.execCommand?document.execCommand(\\\"insertText\\\",!1,\\\"  \\\"):(this.textarea.value=r.substring(0,n)+\\\"  \\\"+r.substring(i),this.textarea.selectionStart=this.textarea.selectionEnd=n+2);this.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}));return}if(e.key===\\\"Enter\\\"&&!e.shiftKey&&!e.metaKey&&!e.ctrlKey&&this.options.smartLists&&this.handleSmartListContinuation()){e.preventDefault();return}!this.shortcuts.handleKeydown(e)&&this.options.onKeydown&&this.options.onKeydown(e,this)}handleSmartListContinuation(){let e=this.textarea,t=e.selectionStart,n=S.getListContext(e.value,t);return!n||!n.inList?!1:n.content.trim()===\\\"\\\"&&t>=n.markerEndPos?(this.deleteListMarker(n),!0):(t>n.markerEndPos&&t\u003Cn.lineEnd?this.splitListItem(n,t):this.insertNewListItem(n),n.listType===\\\"numbered\\\"&&this.scheduleNumberedListUpdate(),!0)}deleteListMarker(e){this.textarea.setSelectionRange(e.lineStart,e.markerEndPos),document.execCommand(\\\"delete\\\"),this.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}insertNewListItem(e){let t=S.createNewListItem(e);document.execCommand(\\\"insertText\\\",!1,`\\n`+t),this.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}splitListItem(e,t){let n=e.content.substring(t-e.markerEndPos);this.textarea.setSelectionRange(t,e.lineEnd),document.execCommand(\\\"delete\\\");let i=S.createNewListItem(e);document.execCommand(\\\"insertText\\\",!1,`\\n`+i+n);let r=this.textarea.selectionStart-n.length;this.textarea.setSelectionRange(r,r),this.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}scheduleNumberedListUpdate(){this.numberUpdateTimeout&&clearTimeout(this.numberUpdateTimeout),this.numberUpdateTimeout=setTimeout(()=>{this.updateNumberedLists()},10)}updateNumberedLists(){let e=this.textarea.value,t=this.textarea.selectionStart,n=S.renumberLists(e);if(n!==e){let i=0,r=e.split(`\\n`),s=n.split(`\\n`),a=0;for(let d=0;d\u003Cr.length&&a\u003Ct;d++){if(r[d]!==s[d]){let l=s[d].length-r[d].length;a+r[d].length\u003Ct&&(i+=l)}a+=r[d].length+1}this.textarea.value=n;let p=t+i;this.textarea.setSelectionRange(p,p),this.textarea.dispatchEvent(new Event(\\\"input\\\",{bubbles:!0}))}}handleScroll(e){this.preview.scrollTop=this.textarea.scrollTop,this.preview.scrollLeft=this.textarea.scrollLeft}getValue(){return this.textarea.value}setValue(e){this.textarea.value=e,this.updatePreview(),this.options.autoResize&&this._updateAutoHeight()}getRenderedHTML(e={}){let t=this.getValue(),n=S.parse(t,-1,!1,this.options.codeHighlighter);return e.cleanHTML&&(n=n.replace(/\u003Cspan class=\\\"syntax-marker[^\\\"]*\\\">.*?\u003C\\\\/span>/g,\\\"\\\"),n=n.replace(/\\\\sclass=\\\"(bullet-list|ordered-list|code-fence|hr-marker|blockquote|url-part)\\\"/g,\\\"\\\"),n=n.replace(/\\\\sclass=\\\"\\\"/g,\\\"\\\")),n}getPreviewHTML(){return this.preview.innerHTML}getCleanHTML(){return this.getRenderedHTML({cleanHTML:!0})}focus(){this.textarea.focus()}blur(){this.textarea.blur()}isInitialized(){return this.initialized}reinit(e={}){this.options=this._mergeOptions({...this.options,...e}),this._applyOptions(),this.updatePreview()}setTheme(e){this.instanceTheme=e;let t=typeof e==\\\"string\\\"?B(e):e,n=typeof t==\\\"string\\\"?t:t.name;if(n&&this.container.setAttribute(\\\"data-theme\\\",n),t&&t.colors){let i=N(t.colors);this.container.style.cssText+=i}return this.updatePreview(),this}setCodeHighlighter(e){this.options.codeHighlighter=e,this.updatePreview()}_updateStats(){if(!this.statsBar)return;let e=this.textarea.value,t=e.split(`\\n`),n=e.length,i=e.split(/\\\\s+/).filter(l=>l.length>0).length,r=this.textarea.selectionStart,a=e.substring(0,r).split(`\\n`),p=a.length,d=a[a.length-1].length+1;this.options.statsFormatter?this.statsBar.innerHTML=this.options.statsFormatter({chars:n,words:i,lines:t.length,line:p,column:d}):this.statsBar.innerHTML=`\\n          \u003Cdiv class=\\\"overtype-stat\\\">\\n            \u003Cspan class=\\\"live-dot\\\">\u003C/span>\\n            \u003Cspan>${n} chars, ${i} words, ${t.length} lines\u003C/span>\\n          \u003C/div>\\n          \u003Cdiv class=\\\"overtype-stat\\\">Line ${p}, Col ${d}\u003C/div>\\n        `}_setupAutoResize(){this.container.classList.add(\\\"overtype-auto-resize\\\"),this.previousHeight=null,this._updateAutoHeight(),this.textarea.addEventListener(\\\"input\\\",()=>this._updateAutoHeight()),window.addEventListener(\\\"resize\\\",()=>this._updateAutoHeight())}_updateAutoHeight(){if(!this.options.autoResize)return;let e=this.textarea,t=this.preview,n=this.wrapper,i=window.getComputedStyle(e),r=parseFloat(i.paddingTop),s=parseFloat(i.paddingBottom),a=e.scrollTop;e.style.setProperty(\\\"height\\\",\\\"auto\\\",\\\"important\\\");let p=e.scrollHeight;if(this.options.minHeight){let c=parseInt(this.options.minHeight);p=Math.max(p,c)}let d=\\\"hidden\\\";if(this.options.maxHeight){let c=parseInt(this.options.maxHeight);p>c&&(p=c,d=\\\"auto\\\")}let l=p+\\\"px\\\";e.style.setProperty(\\\"height\\\",l,\\\"important\\\"),e.style.setProperty(\\\"overflow-y\\\",d,\\\"important\\\"),t.style.setProperty(\\\"height\\\",l,\\\"important\\\"),t.style.setProperty(\\\"overflow-y\\\",d,\\\"important\\\"),n.style.setProperty(\\\"height\\\",l,\\\"important\\\"),e.scrollTop=a,t.scrollTop=a,this.previousHeight!==p&&(this.previousHeight=p)}showStats(e){this.options.showStats=e,e&&!this.statsBar?(this.statsBar=document.createElement(\\\"div\\\"),this.statsBar.className=\\\"overtype-stats\\\",this.container.appendChild(this.statsBar),this._updateStats()):!e&&this.statsBar&&(this.statsBar.remove(),this.statsBar=null)}showNormalEditMode(){return this.container.dataset.mode=\\\"normal\\\",this.updatePreview(),requestAnimationFrame(()=>{this.textarea.scrollTop=this.preview.scrollTop,this.textarea.scrollLeft=this.preview.scrollLeft}),this}showPlainTextarea(){if(this.container.dataset.mode=\\\"plain\\\",this.toolbar){let e=this.container.querySelector('[data-action=\\\"toggle-plain\\\"]');e&&(e.classList.remove(\\\"active\\\"),e.title=\\\"Show markdown preview\\\")}return this}showPreviewMode(){return this.container.dataset.mode=\\\"preview\\\",this.updatePreview(),this}destroy(){if(this.element.overTypeInstance=null,w.instances.delete(this.element),this.shortcuts&&this.shortcuts.destroy(),this.wrapper){let e=this.getValue();this.wrapper.remove(),this.element.textContent=e}this.initialized=!1}static init(e,t={}){return new w(e,t)}static getInstance(e){return e.overTypeInstance||w.instances.get(e)||null}static destroyAll(){document.querySelectorAll(\\\"[data-overtype-instance]\\\").forEach(t=>{let n=w.getInstance(t);n&&n.destroy()})}static injectStyles(e=!1){if(w.stylesInjected&&!e)return;let t=document.querySelector(\\\"style.overtype-styles\\\");t&&t.remove();let n=w.currentTheme||P,i=xe({theme:n}),r=document.createElement(\\\"style\\\");r.className=\\\"overtype-styles\\\",r.textContent=i,document.head.appendChild(r),w.stylesInjected=!0}static setTheme(e,t=null){let n=typeof e==\\\"string\\\"?B(e):e;t&&(n=ke(n,t)),w.currentTheme=n,w.injectStyles(!0),document.querySelectorAll(\\\".overtype-container\\\").forEach(r=>{let s=typeof n==\\\"string\\\"?n:n.name;s&&r.setAttribute(\\\"data-theme\\\",s)}),document.querySelectorAll(\\\".overtype-wrapper\\\").forEach(r=>{if(!r.closest(\\\".overtype-container\\\")){let a=typeof n==\\\"string\\\"?n:n.name;a&&r.setAttribute(\\\"data-theme\\\",a)}let s=r._instance;s&&s.updatePreview()});let i=typeof n==\\\"string\\\"?n:n.name;document.querySelectorAll(\\\"overtype-editor\\\").forEach(r=>{i&&typeof r.setAttribute==\\\"function\\\"&&r.setAttribute(\\\"theme\\\",i),typeof r.refreshTheme==\\\"function\\\"&&r.refreshTheme()})}static setCodeHighlighter(e){S.setCodeHighlighter(e),document.querySelectorAll(\\\".overtype-wrapper\\\").forEach(t=>{let n=t._instance;n&&n.updatePreview&&n.updatePreview()}),document.querySelectorAll(\\\"overtype-editor\\\").forEach(t=>{if(typeof t.getEditor==\\\"function\\\"){let n=t.getEditor();n&&n.updatePreview&&n.updatePreview()}})}static initGlobalListeners(){w.globalListenersInitialized||(document.addEventListener(\\\"input\\\",e=>{if(e.target&&e.target.classList&&e.target.classList.contains(\\\"overtype-input\\\")){let t=e.target.closest(\\\".overtype-wrapper\\\"),n=t==null?void 0:t._instance;n&&n.handleInput(e)}}),document.addEventListener(\\\"keydown\\\",e=>{if(e.target&&e.target.classList&&e.target.classList.contains(\\\"overtype-input\\\")){let t=e.target.closest(\\\".overtype-wrapper\\\"),n=t==null?void 0:t._instance;n&&n.handleKeydown(e)}}),document.addEventListener(\\\"scroll\\\",e=>{if(e.target&&e.target.classList&&e.target.classList.contains(\\\"overtype-input\\\")){let t=e.target.closest(\\\".overtype-wrapper\\\"),n=t==null?void 0:t._instance;n&&n.handleScroll(e)}},!0),document.addEventListener(\\\"selectionchange\\\",e=>{let t=document.activeElement;if(t&&t.classList.contains(\\\"overtype-input\\\")){let n=t.closest(\\\".overtype-wrapper\\\"),i=n==null?void 0:n._instance;i&&(i.options.showStats&&i.statsBar&&i._updateStats(),clearTimeout(i._selectionTimeout),i._selectionTimeout=setTimeout(()=>{i.updatePreview()},50))}}),w.globalListenersInitialized=!0)}};T(w,\\\"instances\\\",new WeakMap),T(w,\\\"stylesInjected\\\",!1),T(w,\\\"globalListenersInitialized\\\",!1),T(w,\\\"instanceCount\\\",0);var H=w;H.MarkdownParser=S;H.ShortcutsManager=O;H.themes={solar:P,cave:B(\\\"cave\\\")};H.getTheme=B;H.currentTheme=P;var et=H;return Re(tt);})();\\n/**\\n * OverType - A lightweight markdown editor library with perfect WYSIWYG alignment\\n * @version 1.0.0\\n * @license MIT\\n */\\n\\nif (typeof window !== \\\"undefined\\\" && typeof window.document !== \\\"undefined\\\") {\\n  window.OverType = OverType.default ? OverType.default : OverType;\\n  window.toolbarButtons = OverType.toolbarButtons;\\n  window.defaultToolbarButtons = OverType.defaultToolbarButtons;\\n}\\n    \\nexports.OverType = OverType;\",\n    \"tags\": \"\",\n    \"title\": \"$:/plugins/lithic/overtype/overtype.js\",\n    \"modified\": \"20251209185611306\",\n    \"type\": \"application/javascript\",\n    \"module-type\": \"library\"\n}\n,\n\"$:/plugins/phiv/streams-fusion/fuse-button\": {\n    \"created\": \"20210307211728499\",\n    \"text\": \"\\\\import $:/plugins/phiv/streams-fusion/macros $:/plugins/sq/streams/contextmenu/contextmenu-template $:/plugins/sq/streams/delete-hook/actions\\n\\\\define menu-item(title subtitle actions)\\n\\t\\t\u003C$button class=\\\"tc-menu-list-item tc-btn-invisible\\\"actions=\u003C\u003C__actions__>>>\\n\\t\\t\\t\u003Cspan class=sq-contextmenu-itemwrapper>\\n\\t\\t\\t\\t\u003Cspan style=\\\"font-weight: bold;\\\"class=sq-contextmenu-itemtext>$title$\u003C/span>\\n\\t\\t\\t\u003C/span>\\n\\t\\t\\n\\\\end\\n\\\\define fuse-export()\u003C$macrocall tiddler=\\\"$(storyTiddler)$\\\"separator=\\\"$(separator)$\\\"$name=stream-export/>\\n\u003C$list filter=\\\"[\u003CstoryTiddler>has[stream-list]]\\\">\\n\u003C$vars fuse-menu-state=\u003C\u003Cqualify [[$:/state/fuse-popup]]>>target=\u003C\u003CstoryTiddler>>>\\n    \u003C$button class=\\\"tc-btn-invisible szen-streams-btn\\\"popup=\u003C\u003Cfuse-menu-state>>>\\n        {{$:/plugins/phiv/streams-fusion/fuse-button!!icon}}\\n    \u003C/$button>\\n        \u003C$reveal type=popup state=\u003C\u003Cfuse-menu-state>>position=aboveright tag=div>\\n        \\t\u003Cdiv class=\\\"tc-drop-down sq-contextmenu\\\">\\n\\t\\t\\t\\t\u003C$wikify text={{$:/config/sq/streams-fusion/fused-tiddler-title!!text}}name=export-name>\\n\\t\\t\\t\\t\\t\u003C$macrocall title={{$:/plugins/phiv/streams-fusion/language##contextmenu-new}}actions=\u003C\u003Cfuse-handler new>>$name=menu-item/>\\n\\t\\t\\t\\t\\t\u003C$macrocall title={{$:/plugins/phiv/streams-fusion/language##contextmenu-overwrite}}actions=\u003C\u003Cfuse-handler overwrite>>$name=menu-item/>\\n\\t\\t\\t\\t\\t\u003C$macrocall title={{$:/plugins/phiv/streams-fusion/language##contextmenu-clipboard}}actions=\u003C\u003Cfuse-handler clipboard>>$name=menu-item/>\\n\\t\\t\\t\\t\\t\u003C\u003Cmenu-divider>>\\n\\t\\t\\t\\t\\t\u003Cspan class=tc-popup-keep style=min-width:fit-content>\\n\\t\\t\\t\\t\\t\\t&nbsp;&nbsp;\u003C$link to=\\\"$:/plugins/sq/streams/Settings/config\\\">Quick settings :\u003C/$link>\\n\\t\\t\\t\\t\\t\\t\\t\u003Ctable>\u003Ctr>\u003Cth>list format\u003C/th>\u003Cth>output\u003C/th>\u003C/tr>\u003Ctr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003Ctd>{{$:/config/sq/streams-fusion/listformat||$:/plugins/phiv/streams-fusion/ui/templates/settings/menu-radio-3}}\u003C/td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003Ctd>{{$:/config/sq/streams-fusion/outputformat||$:/plugins/phiv/streams-fusion/ui/templates/settings/menu-radio-2}}\u003C/td>\\n\\t\\t\\t\\t\\t\\t\\t\u003C/tr>\u003C/table>\\n\\t\\t\\t\\t\\t\u003C/span>\\n\\t\\t\\t\\t\u003C/$wikify>\\n        \\t\u003C/div>\\n        \u003C/$reveal>\\n\u003C/$vars>\\n\",\n    \"type\": \"text/vnd.tiddlywiki\",\n    \"tags\": \"$:/tags/streams/root-buttons\",\n    \"revision\": \"2\",\n    \"modified\": \"20251210060531350\",\n    \"icon\": \"\u003Csvg width=\\\"22pt\\\" height=\\\"22pt\\\" class=\\\"tc-image-auto-height tc-image-button\\\" viewBox=\\\"0 0 513 513\\\">\u003Cpath d=\\\"M379.985 351.727c-27.46 19.754-23.927 23.616-24.439-10.439l-.298-59.399-81.393.596v79.448c0 58.403-47.554 105.931-106.008 105.931h-35.336c-10.486 25.865-32.182 44.138-61.838 44.138C31.644 512.001 0 480.381 0 441.38c0-39.009 31.643-70.621 70.673-70.621 29.656 0 51.352 18.264 61.838 44.138h35.336c29.232 0 53.005-23.764 53.005-52.966v-79.448h-88.34c-10.486 25.865-32.182 44.138-61.838 44.138C31.644 326.621 0 295.001 0 256c0-39.009 31.643-70.621 70.673-70.621 29.656 0 51.352 18.264 61.838 44.138h88.34V150.07c0-29.21-23.772-52.966-53.005-52.966h-35.336c-10.486 25.865-32.182 44.138-61.838 44.138C31.644 141.242 0 109.622 0 70.621 0 31.612 31.643 0 70.672 0c29.656 0 51.352 18.264 61.838 44.138h35.336c58.455 0 106.008 47.519 106.008 105.931l.596 77.469 81.393-.596-1.191-64.278c-.433-23.352-.936-22.442 23.546-6.866l125.339 88.841c13.639 9.845 11.852 9.892-1.787 19.735\\\"/>\u003C/svg>\",\n    \"bag\": \"default\",\n    \"title\": \"$:/plugins/phiv/streams-fusion/fuse-button\"\n}\n,\n\"$:/config/AutoSave\": {\n    \"created\": \"20251201215542188\",\n    \"title\": \"$:/config/AutoSave\",\n    \"text\": \"no\",\n    \"modified\": \"20251209160832270\"\n}\n,\n\"$:/config/BrowserStorage/Enabled\": {\n    \"created\": \"20251209204623522\",\n    \"text\": \"yes\",\n    \"title\": \"$:/config/BrowserStorage/Enabled\",\n    \"modified\": \"20251209204624906\"\n}\n,\n\"$:/config/BrowserStorage/SaveFilter\": {\n    \"title\": \"$:/config/BrowserStorage/SaveFilter\",\n    \"text\": \"[all[]] -[prefix[$:/state/]]\",\n    \"created\": \"20251129190814522\",\n    \"modified\": \"20251129191021622\"\n}\n,\n\"$:/config/DefaultMissingType\": {\n    \"title\": \"$:/config/DefaultMissingType\",\n    \"text\": \"text/markdown\\n\"\n}\n,\n\"$:/config/Manager/Filter\": {\n    \"created\": \"20251203153834151\",\n    \"title\": \"$:/config/Manager/Filter\",\n    \"text\": \"draw\",\n    \"modified\": \"20251203153834829\"\n}\n,\n\"$:/config/markdown/breaks\": {\n    \"title\": \"$:/config/markdown/breaks\",\n    \"text\": \"true\",\n    \"created\": \"20251127223028803\",\n    \"modified\": \"20251127223039397\",\n    \"tags\": \"\"\n}\n,\n\"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/encryption\": {\n    \"title\": \"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/encryption\",\n    \"text\": \"hide\",\n    \"created\": \"20251127071029399\",\n    \"modified\": \"20251127071030082\"\n}\n,\n\"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/fold-all\": {\n    \"title\": \"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/fold-all\",\n    \"text\": \"hide\",\n    \"created\": \"20251127070421984\",\n    \"modified\": \"20251127071002303\"\n}\n,\n\"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/home\": {\n    \"title\": \"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/home\",\n    \"text\": \"show\",\n    \"created\": \"20251127072410767\",\n    \"modified\": \"20251127072410767\"\n}\n,\n\"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/more-page-actions\": {\n    \"created\": \"20210921162238153\",\n    \"text\": \"hide\",\n    \"title\": \"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/more-page-actions\",\n    \"modified\": \"20251209141159115\"\n}\n,\n\"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-journal\": {\n    \"title\": \"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-journal\",\n    \"text\": \"show\",\n    \"created\": \"20251127071009768\",\n    \"modified\": \"20251129164759110\"\n}\n,\n\"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-tiddler\": {\n    \"title\": \"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-tiddler\",\n    \"text\": \"hide\",\n    \"created\": \"20251127071007356\",\n    \"modified\": \"20251129183526841\"\n}\n,\n\"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/print\": {\n    \"title\": \"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/print\",\n    \"text\": \"show\",\n    \"created\": \"20251128192624407\",\n    \"modified\": \"20251128192624407\"\n}\n,\n\"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/refresh\": {\n    \"title\": \"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/refresh\",\n    \"text\": \"hide\",\n    \"created\": \"20210503195905441\",\n    \"modified\": \"20210921162237595\"\n}\n,\n\"$:/config/PageControlButtons/Visibility/$:/plugins/tiddlywiki/markdown/new-markdown-button\": {\n    \"title\": \"$:/config/PageControlButtons/Visibility/$:/plugins/tiddlywiki/markdown/new-markdown-button\",\n    \"text\": \"hide\",\n    \"created\": \"20251127143139444\",\n    \"modified\": \"20251127143139444\"\n}\n,\n\"$:/config/RelinkOnRename\": {\n    \"title\": \"$:/config/RelinkOnRename\",\n    \"text\": \"yes\",\n    \"created\": \"20211005172744745\",\n    \"modified\": \"20211005172744745\"\n}\n,\n\"$:/config/SaveWikiButton/Filename\": {\n    \"title\": \"$:/config/SaveWikiButton/Filename\",\n    \"text\": \"lith_\u003C\u003Cnow \\\"0MM-0DD-YY_0hh0mm_0ss\\\">>s.html\",\n    \"created\": \"20251129211056117\",\n    \"modified\": \"20251129214159513\",\n    \"tags\": \"\"\n}\n,\n\"$:/config/sq/streams-fusion/listformat\": {\n    \"created\": \"20210726104706258\",\n    \"title\": \"$:/config/sq/streams-fusion/listformat\",\n    \"text\": \"p\",\n    \"value-yes\": \"p\",\n    \"value-no\": \"*\",\n    \"value-neutral\": \"#\",\n    \"short-caption-yes\": \"{{$:/plugins/phiv/streams-fusion/language##settings-listformat-short-caption-yes}}\",\n    \"short-caption-no\": \"{{$:/plugins/phiv/streams-fusion/language##settings-listformat-short-caption-no}}\",\n    \"short-caption-neutral\": \"{{$:/plugins/phiv/streams-fusion/language##settings-listformat-short-caption-neutral}}\",\n    \"settings-template\": \"$:/plugins/sq/streams/ui/templates/settings/select\",\n    \"settings-group\": \"z-streams-fusion\",\n    \"option-values\": \"* # p\",\n    \"option-names\": \"bullets numbers paragraphs\",\n    \"modified\": \"20251209163345778\",\n    \"description\": \"{{$:/plugins/phiv/streams-fusion/language##settings-listformat-description}}\",\n    \"caption\": \"{{$:/plugins/phiv/streams-fusion/language##settings-listformat-caption}}\"\n}\n,\n\"$:/config/sq/streams-fusion/outputformat\": {\n    \"created\": \"20210728010110712\",\n    \"title\": \"$:/config/sq/streams-fusion/outputformat\",\n    \"text\": \"\",\n    \"value-no\": \"wikitext\",\n    \"value-neutral\": \"html\",\n    \"short-caption-no\": \"{{$:/plugins/phiv/streams-fusion/language##settings-outputformat-short-caption-no}}\",\n    \"settings-template\": \"$:/plugins/sq/streams/ui/templates/settings/select\",\n    \"settings-group\": \"z-streams-fusion\",\n    \"option-values\": \"html wikitext\",\n    \"option-names\": \"html wikitext\",\n    \"modified\": \"20251209163411147\",\n    \"description\": \"{{$:/plugins/phiv/streams-fusion/language##settings-outputformat-description}}\",\n    \"caption\": \"{{$:/plugins/phiv/streams-fusion/language##settings-outputformat-caption}}\",\n    \"short-caption-yes\": \"{{$:/plugins/phiv/streams-fusion/language##settings-outputformat-short-caption-yes}}\"\n}\n,\n\"$:/config/sq/streams/new-node-tiddler-template\": {\n    \"title\": \"$:/config/sq/streams/new-node-tiddler-template\",\n    \"text\": \"$:/templates/streams-markdown\",\n    \"caption\": \"Tiddler to use as new node template\",\n    \"created\": \"20251127143058041\",\n    \"description\": \"T iddler to use as a template for new nodes\",\n    \"modified\": \"20251127143058041\",\n    \"settings-template\": \"$:/plugins/sq/streams/ui/templates/settings/input\"\n}\n,\n\"$:/config/sq/streams/new-node-title\": {\n    \"title\": \"$:/config/sq/streams/new-node-title\",\n    \"text\": \"\u003C\u003Cstream-root-title>>/\u003C\u003Cnow \\\"[UTC]0ssXXX\\\">>\",\n    \"caption\": \"Template wikified for node title\",\n    \"created\": \"20251129161657659\",\n    \"description\": \"Wikitext that is wikified to generate the title for new nodes\",\n    \"modified\": \"20251129162421532\",\n    \"settings-template\": \"$:/plugins/sq/streams/ui/templates/settings/input\",\n    \"tags\": \"\"\n}\n,\n\"$:/config/sq/streams/node-max-width\": {\n    \"title\": \"$:/config/sq/streams/node-max-width\",\n    \"text\": \"\",\n    \"caption\": \"Maximum node width\",\n    \"created\": \"20211005174105234\",\n    \"description\": \"Maximum displayed width of a Stream node\",\n    \"modified\": \"20211005174105234\",\n    \"settings-template\": \"$:/plugins/sq/streams/ui/templates/settings/input\"\n}\n,\n\"$:/config/sq/streams/swipe-contextmenu-position\": {\n    \"title\": \"$:/config/sq/streams/swipe-contextmenu-position\",\n    \"text\": \"left\",\n    \"caption\": \"Position of context menu shown on swiping.\",\n    \"condition\": \"[[$:/config/sq/streams/swipe-enabled]get[text]match[yes]]\",\n    \"created\": \"20210503202943810\",\n    \"description\": \"Position of context menu shown on swiping.\",\n    \"modified\": \"20210503202943810\",\n    \"option-names\": \"[[Right]] [[Left]]\",\n    \"option-values\": \"right left\",\n    \"settings-group\": \"swipe\",\n    \"settings-template\": \"$:/plugins/sq/streams/ui/templates/settings/select\"\n}\n,\n\"$:/config/TextEditor/EnableToolbar\": {\n    \"title\": \"$:/config/TextEditor/EnableToolbar\",\n    \"text\": \"no\",\n    \"created\": \"20251127070910384\",\n    \"modified\": \"20251127070910384\"\n}\n,\n\"$:/config/ViewTemplateTitleFilters/system\": {\n    \"created\": \"20251204152743839\",\n    \"text\": \"[prefix[$:/]split[/]count[]match[2]then[$:/lithic/ui/ViewTemplate/title/SystemTitle]]\",\n    \"tags\": \"$:/tags/ViewTemplateTitleFilter\",\n    \"title\": \"$:/config/ViewTemplateTitleFilters/system\",\n    \"modified\": \"20251204154934648\"\n}\n,\n\"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/close-others\": {\n    \"title\": \"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/close-others\",\n    \"text\": \"show\",\n    \"created\": \"20251129164908014\",\n    \"modified\": \"20251129164908014\"\n}\n,\n\"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/edit\": {\n    \"title\": \"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/edit\",\n    \"text\": \"hide\",\n    \"created\": \"20251127144333575\",\n    \"modified\": \"20251127144333575\"\n}\n,\n\"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold\": {\n    \"title\": \"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold\",\n    \"text\": \"show\",\n    \"created\": \"20251127143845032\",\n    \"modified\": \"20251129164904577\"\n}\n,\n\"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar\": {\n    \"title\": \"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar\",\n    \"text\": \"hide\",\n    \"created\": \"20251127071044756\",\n    \"modified\": \"20251127144351700\"\n}\n,\n\"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-others\": {\n    \"title\": \"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-others\",\n    \"text\": \"hide\",\n    \"created\": \"20251127143849629\",\n    \"modified\": \"20251127144358863\"\n}\n,\n\"$:/config/WikiParserRules/Inline/wikilink\": {\n    \"created\": \"20251203151521984\",\n    \"text\": \"enable\",\n    \"title\": \"$:/config/WikiParserRules/Inline/wikilink\",\n    \"modified\": \"20251203151521984\"\n}\n,\n\"$:/core/images/save-button\": {\n    \"title\": \"$:/core/images/save-button\",\n    \"text\": \"\u003Csvg width=\\\"22pt\\\" height=\\\"22pt\\\" class=\\\"tc-image-download-button tc-image-button\\\" viewBox=\\\"0 0 128 128\\\">\u003Cg fill-rule=\\\"evenodd\\\">\u003Cpath d=\\\"M64 128c35.346 0 64-28.654 64-64 0-35.346-28.654-64-64-64C28.654 0 0 28.654 0 64c0 35.346 28.654 64 64 64zm0-16c26.51 0 48-21.49 48-48S90.51 16 64 16 16 37.49 16 64s21.49 48 48 48z\\\" class=\\\"tc-image-download-button-ring\\\"/>\u003Cpath d=\\\"M34.35 66.43l26.892 27.205a4.57 4.57 0 006.516 0L94.65 66.43a4.7 4.7 0 000-6.593 4.581 4.581 0 00-3.258-1.365h-8.46c-2.545 0-4.608-2.087-4.608-4.661v-15.15c0-2.575-2.063-4.662-4.608-4.662H55.284c-2.545 0-4.608 2.087-4.608 4.662v15.15c0 2.574-2.063 4.661-4.608 4.661h-8.46c-2.545 0-4.608 2.087-4.608 4.662a4.69 4.69 0 001.35 3.296z\\\"/>\u003C/g>\u003C/svg>\",\n    \"created\": \"20251129183320450\",\n    \"modified\": \"20251129183336813\",\n    \"tags\": \"\"\n}\n,\n\"$:/core/modules/widgets/eventcatcher.js\": {\n    \"created\": \"20251202165719315\",\n    \"text\": \"/*\\\\\\ntitle: $:/core/modules/widgets/eventcatcher.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nEvent handler widget (Lithic Patched Version - Verbose Mode)\\nPrevents crashes when React/Tldraw detaches nodes mid-event.\\nLogs all suppressed errors and zombie events to the console for debugging.\\n\\n\\\\*/\\n\\n\\\"use strict\\\";\\n\\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\nvar EventWidget = function(parseTreeNode,options) {\\n\\tthis.initialise(parseTreeNode,options);\\n};\\n\\n/*\\nInherit from the base widget class\\n*/\\nEventWidget.prototype = new Widget();\\n\\n/*\\nRender this widget into the DOM\\n*/\\nEventWidget.prototype.render = function(parent,nextSibling) {\\n\\tvar self = this;\\n\\t// Remember parent\\n\\tthis.parentDomNode = parent;\\n\\t// Compute attributes and execute state\\n\\tthis.computeAttributes();\\n\\tthis.execute();\\n\\t// Create element\\n\\tvar tag = this.parseTreeNode.isBlock ? \\\"div\\\" : \\\"span\\\";\\n\\tif(this.elementTag && $tw.config.htmlUnsafeElements.indexOf(this.elementTag) === -1) {\\n\\t\\ttag = this.elementTag;\\n\\t}\\n\\tvar domNode = this.document.createElement(tag);\\n\\tthis.domNode = domNode;\\n\\t// Assign classes\\n\\tthis.assignDomNodeClasses();\\n\\t// Add our event handler\\n\\t$tw.utils.each(this.types,function(type) {\\n\\t\\tdomNode.addEventListener(type,function(event) {\\n            // LITHIC PATCH: Wrap entire handler in try-catch\\n            try {\\n                var selector = self.getAttribute(\\\"selector\\\"),\\n                    matchSelector = self.getAttribute(\\\"matchSelector\\\"),\\n                    actions = self.getAttribute(\\\"$\\\"+type) || self.getAttribute(\\\"actions-\\\"+type),\\n                    stopPropagation = self.getAttribute(\\\"stopPropagation\\\",\\\"onaction\\\"),\\n                    selectedNode = event.target,\\n                    selectedNodeRect,\\n                    catcherNodeRect,\\n                    variables = {};\\n                \\n                // Safety check: If target is missing (zombie event), stop immediately\\n                if (!selectedNode) {\\n                    console.warn(\\\"[Lithic] EventCatcher: Event target is null (Zombie Event). Dropped.\\\", event.type);\\n                    return false;\\n                }\\n\\n                // Firefox can fire dragover and dragenter events on text nodes instead of their parents\\n                if(selectedNode.nodeType === 3) {\\n                    selectedNode = selectedNode.parentNode;\\n                }\\n                // Check that the selected node matches any matchSelector\\n                if(matchSelector && !$tw.utils.domMatchesSelector(selectedNode,matchSelector)) {\\n                    return false;\\n                }\\n                if(selector) {\\n                    // Search ancestors for a node that matches the selector\\n                    // LITHIC PATCH: Added 'selectedNode &&' check to prevent parentNode of null crash\\n                    while(selectedNode && !$tw.utils.domMatchesSelector(selectedNode,selector) && selectedNode !== domNode) {\\n                        selectedNode = selectedNode.parentNode;\\n                    }\\n                    \\n                    // LITHIC PATCH: If we ran off the edge of the document (zombie node), exit gracefully\\n                    if (!selectedNode) {\\n                        console.warn(\\\"[Lithic] EventCatcher: Traversed to null parent (Zombie Node). Dropped.\\\", selector);\\n                        return false;\\n                    }\\n\\n                    // Exit if we didn't find one\\n                    if(selectedNode === domNode) {\\n                        return false;\\n                    }\\n                    // Only set up variables if we have actions to invoke\\n                    if(actions) {\\n                        variables = $tw.utils.collectDOMVariables(selectedNode,self.domNode,event);\\n                    }\\n                }\\n                // Execute our actions with the variables\\n                if(actions) {\\n                    // Add a variable for the modifier key\\n                    variables.modifier = $tw.keyboardManager.getEventModifierKeyDescriptor(event);\\n                    // Add a variable for the mouse button\\n                    if(\\\"button\\\" in event) {\\n                        if(event.button === 0) {\\n                            variables[\\\"event-mousebutton\\\"] = \\\"left\\\";\\n                        } else if(event.button === 1) {\\n                            variables[\\\"event-mousebutton\\\"] = \\\"middle\\\";\\n                        } else if(event.button === 2) {\\n                            variables[\\\"event-mousebutton\\\"] = \\\"right\\\";\\n                        }\\n                    }\\n                    variables[\\\"event-type\\\"] = event.type.toString();\\n                    if(typeof event.detail === \\\"object\\\" && !!event.detail) {\\n                        $tw.utils.each(event.detail,function(detailValue,detail) {\\n                            variables[\\\"event-detail-\\\" + detail] = detailValue.toString();\\n                        });\\n                    } else if(!!event.detail) {\\n                        variables[\\\"event-detail\\\"] = event.detail.toString();\\n                    }\\n                    self.invokeActionString(actions,self,event,variables);\\n                }\\n                if((actions && stopPropagation === \\\"onaction\\\") || stopPropagation === \\\"always\\\") {\\n                    event.preventDefault();\\n                    event.stopPropagation();\\n                    return true;\\n                }\\n                return false;\\n            } catch (e) {\\n                // LITHIC PATCH: Log FULL error to console\\n                console.error(\\\"[Lithic] EventCatcher CRASH PREVENTED:\\\", e);\\n                \\n                // Prevent bubbling just in case\\n                if(event) {\\n                    event.preventDefault();\\n                    event.stopPropagation();\\n                }\\n                return false;\\n            }\\n\\t\\t},false);\\n\\t});\\n\\t// Insert element\\n\\tparent.insertBefore(domNode,nextSibling);\\n\\tthis.renderChildren(domNode,null);\\n\\tthis.domNodes.push(domNode);\\n};\\n\\n/*\\nCompute the internal state of the widget\\n*/\\nEventWidget.prototype.execute = function() {\\n\\tvar self = this;\\n\\t// Get attributes that require a refresh on change\\n\\tthis.types = [];\\n\\t$tw.utils.each(this.attributes,function(value,key) {\\n\\t\\tif(key.charAt(0) === \\\"$\\\") {\\n\\t\\t\\tself.types.push(key.slice(1));\\n\\t\\t}\\n\\t});\\n\\tif(!this.types.length) {\\n\\t\\tthis.types = this.getAttribute(\\\"events\\\",\\\"\\\").split(\\\" \\\");\\n\\t}\\n\\tthis.elementTag = this.getAttribute(\\\"tag\\\");\\n\\t// Make child widgets\\n\\tthis.makeChildWidgets();\\n};\\n\\nEventWidget.prototype.assignDomNodeClasses = function() {\\n\\tvar classes = this.getAttribute(\\\"class\\\",\\\"\\\").split(\\\" \\\");\\n\\tclasses.push(\\\"tc-eventcatcher\\\");\\n\\tthis.domNode.className = classes.join(\\\" \\\");\\n};\\n\\n/*\\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\\n*/\\nEventWidget.prototype.refresh = function(changedTiddlers) {\\n\\tvar changedAttributes = this.computeAttributes(),\\n\\t\\tchangedAttributesCount = $tw.utils.count(changedAttributes);\\n\\tif(changedAttributesCount === 1 && changedAttributes[\\\"class\\\"]) {\\n\\t\\tthis.assignDomNodeClasses();\\n\\t} else if(changedAttributesCount > 0) {\\n\\t\\tthis.refreshSelf();\\n\\t\\treturn true;\\n\\t}\\n\\treturn this.refreshChildren(changedTiddlers);\\n};\\n\\nexports.eventcatcher = EventWidget;\",\n    \"tags\": \"\",\n    \"title\": \"$:/core/modules/widgets/eventcatcher.js\",\n    \"modified\": \"20251202170141333\",\n    \"type\": \"application/javascript\",\n    \"module-type\": \"widget\"\n}\n,\n\"$:/core/ui/Actions/new-journal\": {\n    \"title\": \"$:/core/ui/Actions/new-journal\",\n    \"text\": \"\\\\define get-tags() $(textFieldTags)$ $(tagsFieldTags)$\\n\u003C$vars journalTitleTemplate={{$:/config/NewJournal/Title}} textFieldTags={{$:/config/NewJournal/Tags}} tagsFieldTags={{$:/config/NewJournal/Tags!!tags}} journalText={{$:/config/NewJournal/Text}} journalType={{$:/config/NewJournal/Type}}>\\n\u003C$wikify name=\\\"journalTitle\\\" text=\\\"\\\"\\\"\u003C$macrocall $name=\\\"now\\\" format=\u003C\u003CjournalTitleTemplate>>/>\\\"\\\"\\\">\\n\\n\u003C$list filter=\\\"[\u003CjournalTitle>!is[tiddler]]\\\">\\n\u003C$action-createtiddler $basetitle=\u003C\u003CjournalTitle>> tags=\u003C\u003Cget-tags>> text=\u003C\u003CjournalText>> type=\u003C\u003CjournalType>> />\\n\u003C/$list>\\n\\n\u003C$action-navigate $to=\u003C\u003CjournalTitle>>/>\\n\\n\u003C/$wikify>\\n\u003C/$vars>\",\n    \"created\": \"20251127145454854\",\n    \"description\": \"create a new journal tiddler\",\n    \"modified\": \"20251127145508477\",\n    \"tags\": \"$:/tags/Actions\"\n}\n,\n\"$:/core/ui/Buttons/more-page-actions\": {\n    \"created\": \"20251209163016931\",\n    \"text\": \"\\\\define config-title()$:/config/PageControlButtons/Visibility/$(listItem)$\\n\u003C$button popup=\u003C\u003Cqualify [[$:/state/popup/more]]>>tooltip={{$:/language/Buttons/More/Hint}}aria-label={{$:/language/Buttons/More/Caption}}class=\u003C\u003Ctv-config-toolbar-class>>selectedClass=tc-selected>\u003C%if [\u003Ctv-config-toolbar-icons>match[yes]]%>{{$:/core/images/down-arrow}}\u003C%endif%>\u003C%if [\u003Ctv-config-toolbar-text>match[yes]]%>\u003Cspan class=tc-btn-text>\u003C$text text={{$:/language/Buttons/More/Caption}}/>\u003C/span>\u003C%endif%>\u003C/$button>\u003C$reveal state=\u003C\u003Cqualify [[$:/state/popup/more]]>>type=popup position=below animate=yes>\u003Cdiv class=tc-drop-down>\u003C$let tv-config-toolbar-icons=yes tv-config-toolbar-text=yes tv-config-toolbar-class=tc-btn-invisible>\u003C$list filter=\\\"[[$:/tags/PageControls]tagging[]!is[draft]]-$:/core/ui/Buttons/more-page-actions\\\"variable=listItem>\u003C$reveal type=match state=\u003C\u003Cconfig-title>>text=hide>\u003C$set filter=\\\"[\u003Ctv-config-toolbar-class>][\u003ClistItem>encodeuricomponent[]addprefix[tc-btn-]]\\\"name=tv-config-toolbar-class>\u003C$transclude tiddler=\u003C\u003ClistItem>>mode=inline/>\",\n    \"tags\": \"\",\n    \"caption\": \"{{$:/core/images/down-arrow}} {{$:/language/Buttons/More/Caption}}\",\n    \"description\": \"{{$:/language/Buttons/More/Hint}}\",\n    \"title\": \"$:/core/ui/Buttons/more-page-actions\",\n    \"modified\": \"20251209163021355\"\n}\n,\n\"$:/core/ui/Buttons/save-wiki\": {\n    \"title\": \"$:/core/ui/Buttons/save-wiki\",\n    \"text\": \"\u003C$button tooltip=\\\"Download this Lith\\\" aria-label={{$:/language/Buttons/SaveWiki/Caption}} class=\u003C\u003Ctv-config-toolbar-class>>>\\n\u003C$wikify name=\\\"site-title\\\" text={{$:/config/SaveWikiButton/Filename}}>\\n\u003C$action-sendmessage $message=\\\"tm-save-wiki\\\" $param={{$:/config/SaveWikiButton/Template}} filename=\u003C\u003Csite-title>>/>\\n\u003C/$wikify>\\n\u003Cspan class=\\\"tc-dirty-indicator\\\">\\n\u003C$list filter=\\\"[\u003Ctv-config-toolbar-icons>match[yes]]\\\">\\n{{$:/core/images/save-button}}\\n\u003C/$list>\\n\u003C$list filter=\\\"[\u003Ctv-config-toolbar-text>match[yes]]\\\">\\n\u003Cspan class=\\\"tc-btn-text\\\">\u003C$text text={{$:/language/Buttons/SaveWiki/Caption}}/>\u003C/span>\\n\u003C/$list>\\n\u003C/span>\\n\u003C/$button>\",\n    \"caption\": \"{{$:/core/images/save-button}} {{$:/language/Buttons/SaveWiki/Caption}}\",\n    \"created\": \"20251129235017420\",\n    \"description\": \"{{$:/language/Buttons/SaveWiki/Hint}}\",\n    \"modified\": \"20251129235100592\",\n    \"tags\": \"$:/tags/PageControls\"\n}\n,\n\"$:/core/ui/SideBar/Open\": {\n    \"title\": \"$:/core/ui/SideBar/Open\",\n    \"text\": \"\\\\whitespace trim\\n\\\\define lingo-base() $:/language/CloseAll/\\n\\n\\\\define drop-actions()\\n\u003C$action-listops $tiddler=\u003C\u003Ctv-story-list>> $subfilter=\\\"+[insertbefore:currentTiddler\u003CactionTiddler>]\\\"/>\\n\\\\end\\n\\n\\\\define placeholder()\\n\u003Cdiv class=\\\"tc-droppable-placeholder\\\"/>\\n\\\\end\\n\\n\\\\define droppable-item(button)\\n\\\\whitespace trim\\n\u003C$droppable actions=\u003C\u003Cdrop-actions>> enable=\u003C\u003Ctv-allow-drag-and-drop>>>\\n\u003C\u003Cplaceholder>>\\n\u003Cdiv>\\n$button$\\n\u003C/div>\\n\u003C/$droppable>\\n\\\\end\\n\\n\u003Cdiv class=\\\"tc-sidebar-tab-open\\\">\\n\u003C$list filter=\\\"[list\u003Ctv-story-list>]\\\" history=\u003C\u003Ctv-history-list>> storyview=\\\"pop\\\">\\n\u003Cdiv class=\\\"tc-sidebar-tab-open-item\\\">\\n   \\n   \u003C$macrocall $name=\\\"droppable-item\\\" button=\\\"\\\"\\\"\u003C$button message=\\\"tm-close-tiddler\\\" tooltip={{$:/language/Buttons/Close/Hint}} aria-label={{$:/language/Buttons/Close/Caption}} class=\\\"tc-btn-invisible tc-btn-mini tc-small-gap-right\\\">{{$:/core/images/close-button}}\u003C/$button>\u003C$link to={{!!title}}>\u003C$view field=\\\"title\\\"/>\u003C/$link>\\\"\\\"\\\"/>\\n   \\n   \u003C$list filter=\\\"[\u003CcurrentTiddler>has[stream-list]]\\\">\\n      \u003Cdiv style=\\\"margin-left: 22px; border-left: 1px solid #ddd; padding-left: 6px; font-size: 0.85em; opacity: 0.8;\\\">\\n         \u003C$list filter=\\\"[list[!!stream-list]]\\\">\\n            \u003Cdiv class=\\\"tc-menu-item\\\" style=\\\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; line-height: 1.4em;\\\">\\n               \u003C$link to={{!!title}}>\\n                  \u003C$transclude field=\\\"caption\\\">\\n                     \u003C$view field=\\\"text\\\" format=\\\"text\\\" trim=\\\"30\\\" />\\n                  \u003C/$transclude>\\n               \u003C/$link>\\n            \u003C/div>\\n         \u003C/$list>\\n      \u003C/div>\\n   \u003C/$list>\\n   \u003C/div>\\n\u003C/$list>\\n\\n\u003C$tiddler tiddler=\\\"\\\">\\n\u003Cdiv>\\n\u003C$macrocall $name=\\\"droppable-item\\\" button=\\\"\\\"\\\"\u003C$button message=\\\"tm-close-all-tiddlers\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\u003C\u003Clingo Button>>\u003C/$button>\\\"\\\"\\\"/>\\n\u003C/div>\\n\u003C/$tiddler>\\n\u003C/div>\",\n    \"caption\": \"{{$:/language/SideBar/Open/Caption}}\",\n    \"created\": \"20251127221818295\",\n    \"modified\": \"20251127221824029\",\n    \"tags\": \"$:/tags/SideBar\"\n}\n,\n\"$:/core/ui/SideBar/Recent\": {\n    \"title\": \"$:/core/ui/SideBar/Recent\",\n    \"text\": \"\u003C$macrocall $name=\\\"timeline\\\" format={{$:/language/Recent/DateFormat}} subfilter=\\\"!is[system]!has[parent]\\\"/>\",\n    \"caption\": \"{{$:/language/SideBar/Recent/Caption}}\",\n    \"created\": \"20251130030614900\",\n    \"modified\": \"20251130031047077\",\n    \"tags\": \"$:/tags/SideBar\"\n}\n,\n\"$:/core/ui/SideBar/Tools\": {\n    \"created\": \"20251209161036864\",\n    \"text\": \"\\\\define lingo-base()$:/language/ControlPanel/\\n\\\\define config-title()$:/config/PageControlButtons/Visibility/$(listItem)$\\n\u003C\u003Clingo Basics/Version/Prompt>> \u003C\u003Cversion>>\\n\\n\u003C$let tv-config-toolbar-icons=yes tv-config-toolbar-text=yes tv-config-toolbar-class=\\\"\\\">\\n\\n\u003C$list filter=\\\"[[$:/tags/PageControls]tagging[]!is[draft]]\\\" variable=listItem>\\n\\n\u003Cdiv class={{{[\u003ClistItem>encodeuricomponent[]addprefix[tc-btn-]]}}} style=position:relative; title={{{ [\u003ClistItem>get[description]] }}}>\\n\\n\u003C$transclude tiddler=\u003C\u003ClistItem>>/>\\n\\n\u003C/div>\\n\u003C/$list>\\n\u003C/$let>\",\n    \"tags\": \"$:/tags/SideBar\",\n    \"caption\": \"{{$:/language/SideBar/Tools/Caption}}\",\n    \"title\": \"$:/core/ui/SideBar/Tools\",\n    \"modified\": \"20251209162851970\"\n}\n,\n\"$:/core/ui/ViewTemplate/unfold\": {\n    \"created\": \"20251209005748838\",\n    \"text\": \"\",\n    \"title\": \"$:/core/ui/ViewTemplate/unfold\",\n    \"tags\": \"$:/tags/ViewTemplate\",\n    \"modified\": \"20251209005756970\"\n}\n,\n\"$:/DefaultCanvas\": {\n    \"created\": \"20251201234501213\",\n    \"title\": \"$:/DefaultCanvas\",\n    \"type\": \"application/tldr\",\n    \"text\": \"{\\\"document\\\":{\\\"id\\\":\\\"doc\\\",\\\"name\\\":\\\"$:/DefaultCanvas\\\",\\\"version\\\":15.5,\\\"pages\\\":{\\\"page\\\":{\\\"id\\\":\\\"page\\\",\\\"name\\\":\\\"Page 1\\\",\\\"childIndex\\\":1,\\\"shapes\\\":{},\\\"bindings\\\":{}}},\\\"pageStates\\\":{\\\"page\\\":{\\\"id\\\":\\\"page\\\",\\\"selectedIds\\\":[],\\\"camera\\\":{\\\"point\\\":[0,0],\\\"zoom\\\":1}}},\\\"assets\\\":{}},\\\"updatedCount\\\":70}\",\n    \"modified\": \"20251203153542744\"\n}\n,\n\"$:/DefaultTiddlers\": {\n    \"created\": \"20210504152138318\",\n    \"text\": \"[tag[Journal]!sort[created]limit[7]] $:/JournalArchiveFeed\",\n    \"title\": \"$:/DefaultTiddlers\",\n    \"modified\": \"20251209204830542\"\n}\n,\n\"$:/info/browser/storage/persisted\": {\n    \"title\": \"$:/info/browser/storage/persisted\",\n    \"text\": \"denied\"\n}\n,\n\"$:/JournalArchiveFeed\": {\n    \"created\": \"20251128173532931\",\n    \"text\": \"\\\\define default-archive-limit() 7\\n\\n\u003C$list filter=\\\"[[$:/state/JournalArchiveFeed/Limit]!is[tiddler]]\\\">\\n  \u003C$action-setfield $tiddler=\\\"$:/state/JournalArchiveFeed/Limit\\\" text=\u003C\u003Cdefault-archive-limit>>/>\\n\u003C/$list>\\n\\n\u003C$list filter=\\\"[tag[Journal]!days:created[-7]limit[1]]\\\" emptyMessage=\\\"\u003Cdiv style='margin-top:2em; color:#777; font-style:italic;'>Journals older than 7 days will appear here.\u003C/div>\\\">\\n  \u003Ch2 style=\\\"border-bottom: 1px solid #ccc; margin-top: 2em;\\\">Older Journals\u003C/h2>\\n\u003C/$list>\\n\\n\u003C$list filter=\\\"[tag[Journal]!days:created[-7]!sort[created]limit{$:/state/JournalArchiveFeed/Limit}]\\\">\\n  {{||$:/core/ui/ViewTemplate}}\\n  \u003Chr class=\\\"tc-separator\\\"/>\\n\u003C/$list>\\n\\n\u003C$list filter=\\\"[tag[Journal]!days:created[-7]count[]] -[tag[Journal]!days:created[-7]limit{$:/state/JournalArchiveFeed/Limit}count[]]\\\" variable=\\\"ignore\\\">\\n  \u003Cdiv style=\\\"text-align: center; margin-top: 2em; margin-bottom: 2em;\\\">\\n    \u003C$button class=\\\"tc-btn-big-green\\\">\\n      Load Previous 7 Days\\n      \u003C$action-setfield $tiddler=\\\"$:/state/JournalArchiveFeed/Limit\\\" text={{{ [{$:/state/JournalArchiveFeed/Limit}add[7]] }}} />\\n    \u003C/$button>\\n  \u003C/div>\\n\u003C/$list>\",\n    \"title\": \"$:/JournalArchiveFeed\",\n    \"modified\": \"20251210231253860\",\n    \"tags\": \"\",\n    \"stream-list\": \"$:/JournalArchiveFeed/53855\",\n    \"stream-type\": \"default\"\n}\n,\n\"$:/language/Notifications/Save/Done\": {\n    \"created\": \"20251129235429359\",\n    \"text\": \"Committed to Lith\",\n    \"title\": \"$:/language/Notifications/Save/Done\",\n    \"modified\": \"20251209143654258\",\n    \"tags\": \"\"\n}\n,\n\"$:/language/SideBar/More/Caption\": {\n    \"created\": \"20251209161321337\",\n    \"text\": \"Browse\",\n    \"title\": \"$:/language/SideBar/More/Caption\",\n    \"modified\": \"20251209161332504\"\n}\n,\n\"$:/layout\": {\n    \"created\": \"20251201233151057\",\n    \"title\": \"$:/layout\",\n    \"text\": \"$:/core/ui/PageTemplate\",\n    \"modified\": \"20251203153549621\"\n}\n,\n\"$:/lithic/buttons/FullscreenWhiteboard\": {\n    \"title\": \"$:/lithic/buttons/FullscreenWhiteboard\",\n    \"text\": \"\\\\whitespace trim\\n  \u003C$button tooltip=\\\"Fullscreen Paint\\\" aria-label={{$:/language/Buttons/Edit/Caption}} class=\u003C\u003Ctv-config-toolbar-class>> >\\n    \u003C$action-setfield $tiddler=\\\"$:/state/sidebar\\\" text=\\\"no\\\"/>\\n    \u003C$action-setfield $tiddler=\\\"$:/state/notebook-sidebar\\\" text=\\\"no\\\"/>\\n    \u003C$action-setfield $tiddler=\\\"$:/layout\\\" text=\\\"$:/plugins/linonetwo/tw-whiteboard/tiddlywiki-ui/PageLayout/WhiteBoard\\\"/>\\n    \u003C$action-setfield $tiddler=\\\"$:/state/Whiteboard/PageLayout/tiddler\\\" text=\\\"$:/DefaultCanvas\\\" />\\n    \u003C$list filter=\\\"[\u003Ctv-config-toolbar-icons>match[yes]]\\\">\\n      {{$:/core/images/palette}}\\n    \u003C/$list>\\n    \u003C$list filter=\\\"[\u003Ctv-config-toolbar-text>match[yes]]\\\">\\n      \u003Cspan class=\\\"tc-btn-text\\\">\\n        \u003C$text text=\\\"Fullscreen Whiteboard\\\"/>\\n      \u003C/span>\\n    \u003C/$list>\\n  \u003C/$button>\",\n    \"created\": \"20251201233013595\",\n    \"modified\": \"20251202031949492\",\n    \"tags\": \"$:/tags/PageControls\"\n}\n,\n\"$:/lithic/fonts/vollkorn\": {\n    \"title\": \"$:/lithic/fonts/vollkorn\",\n    \"type\": \"text/css\",\n    \"text\": \"@font-face { \\n  font-family: \\\"Vollkorn\\\";\\n  /* Add other properties here, as needed. For example: */\\n  /*\\n  font-weight: 100 900;\\n  font-style: normal italic;\\n  */\\n  src: url(data:application/octet-stream;base64,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);\\n}\",\n    \"created\": \"20251129174546866\",\n    \"modified\": \"20251129174659968\",\n    \"tags\": \"$:/tags/Stylesheet\"\n}\n,\n\"$:/lithic/macros/calc\": {\n    \"created\": \"20251203135448328\",\n    \"text\": \"/*\\\\\\ntitle: $:/lithic/macros/calc\\ntype: application/javascript\\nmodule-type: macro\\n\\nMacro to evaluate infix arithmetic strings.\\nUsage: \u003C\u003Ccalc \\\"1 + 2\\\">> or \u003C\u003Ccalc \\\"{{!!field}} * 5\\\">>\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nexports.name = \\\"calc\\\";\\n\\nexports.params = [\\n    {name: \\\"equation\\\"}\\n];\\n\\nexports.run = function(equation) {\\n    try {\\n        // 1. EXPAND: Turn {{!!field}} or {{tiddler}} into actual numbers using the Wiki Text parser\\n        var expandedEquation = $tw.wiki.renderText(\\n            \\\"text/plain\\\", \\n            \\\"text/vnd.tiddlywiki\\\", \\n            equation, \\n            { parentWidget: this.parentWidget }\\n        );\\n\\n        // 2. CLEAN: Remove anything that isn't a number or math symbol (security)\\n        // Allowed: 0-9 . + - * / ( ) and spaces\\n        if (/[^0-9+\\\\-*/(). \\\\t\\\\r\\\\n]/.test(expandedEquation)) {\\n            return \\\"Err: Invalid Char\\\";\\n        }\\n\\n        // 3. SOLVE: Run the math\\n        var result = Function('\\\"use strict\\\";return (' + expandedEquation + ')')();\\n\\n        // 4. FORMAT: Return the result (optional: .toFixed(2) if you want decimals limited)\\n        return result;\\n\\n    } catch (e) {\\n        console.log(\\\"Calc Error:\\\", e);\\n        return \\\"Err\\\";\\n    }\\n};\\n\\n})();\",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/macros/calc\",\n    \"modified\": \"20251203135804381\",\n    \"module-type\": \"macro\",\n    \"type\": \"application/javascript\"\n}\n,\n\"$:/Lithic/Macros/draw\": {\n    \"created\": \"20251202041533058\",\n    \"text\": \"\\\\procedure draw(id, height:\\\"540px\\\")\\n\u003Cdiv \\n  class=\\\"tc-tiddler-frame\\\" \\n  data-tiddler-title=\u003C\u003Cid>> \\n  style=\\\"border:none; box-shadow:none; background:none; padding:0; margin:0; position:relative;\\\"\\n  onclick=\\\"event.stopPropagation();\\\" \\n  onmousedown=\\\"event.stopPropagation();\\\" \\n  onpointerdown=\\\"event.stopPropagation();\\\"\\n>\\n  \u003Cdiv class=\\\"tc-tiddler-body\\\" style=\\\"padding:0; margin:0; border:none;\\\">\\n    \u003C$whiteboard tiddler=\u003C\u003Cid>> height=\u003C\u003Cheight>> />\\n  \u003C/div>\\n\u003C/div>\\n\\\\end\",\n    \"tags\": \"$:/tags/Global\",\n    \"title\": \"$:/Lithic/Macros/draw\",\n    \"modified\": \"20251202170035661\"\n}\n,\n\"$:/lithic/modules/wikirules/calc-inline\": {\n    \"created\": \"20251203135357028\",\n    \"text\": \"/*\\\\\\ntitle: $:/lithic/modules/wikirules/calc-inline\\ntype: application/javascript\\nmodule-type: wikirule\\n\\nWiki text rule for == equation == syntax\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nexports.name = \\\"calc-inline\\\";\\nexports.types = {inline: true};\\n\\nexports.init = function(parser) {\\n    this.parser = parser;\\n    // Regex to match == content ==\\n    // We use a non-greedy match (.*?) to allow multiple equations on one line\\n    this.matchRegExp = /==(.*?)==/mg;\\n};\\n\\nexports.parse = function() {\\n    // Move past the match\\n    this.parser.pos = this.matchRegExp.lastIndex;\\n    \\n    // Get the equation text (captured group 1)\\n    var equation = this.match[1];\\n\\n    // Return a macro call widget: \u003C\u003Ccalc \\\"equation\\\">>\\n    return [{\\n        type: \\\"macrocall\\\",\\n        name: \\\"calc\\\",\\n        params: [\\n            { name: \\\"equation\\\", value: equation }\\n        ]\\n    }];\\n};\\n\\n})();\",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/modules/wikirules/calc-inline\",\n    \"modified\": \"20251203135435985\",\n    \"type\": \"application/javascript\",\n    \"module-type\": \"wikirule\"\n}\n,\n\"$:/Lithic/Patches/IsolateDoubleClicks\": {\n    \"created\": \"20251202170538701\",\n    \"text\": \"/*\\\\\\ntitle: $:/Lithic/Patches/IsolateDoubleClicks\\ntype: application/javascript\\nmodule-type: startup\\n\\nPrevents double-click events inside the Tldraw widget from bubbling up \\nand triggering the Streams \\\"double click to edit\\\" action.\\n\\\\*/\\n(function(){\\n\\\"use strict\\\";\\n\\nexports.name = \\\"lithic-isolate-double-clicks\\\";\\nexports.platforms = [\\\"browser\\\"];\\nexports.after = [\\\"startup\\\"];\\nexports.synchronous = true;\\n\\nexports.startup = function() {\\n    console.log(\\\" Lithic Double-Click Isolation: Initializing...\\\");\\n\\n    var addIsolation = function(node) {\\n        // Avoid attaching twice\\n        if(node.dataset.lithicDblClickIsolated) return;\\n        \\n        // Listen for double clicks and kill them before they bubble to Streams\\n        node.addEventListener('dblclick', function(e) {\\n            e.stopPropagation();\\n            // console.log(\\\" Lithic: Stopped double-click from triggering Streams.\\\");\\n        }, false); // Bubble phase\\n\\n        node.dataset.lithicDblClickIsolated = \\\"active\\\";\\n    };\\n\\n    // Watch for new Tldraw containers appearing in the DOM\\n    var observer = new MutationObserver(function(mutations) {\\n        mutations.forEach(function(mutation) {\\n            mutation.addedNodes.forEach(function(node) {\\n                if (node.nodeType !== 1) return;\\n\\n                // 1. Check if the added node IS the container\\n                if (node.classList.contains('tw-whiteboard-tldraw-container')) {\\n                    addIsolation(node);\\n                } \\n                // 2. Check if the container is INSIDE the added node\\n                else if (node.querySelector) {\\n                    var containers = node.querySelectorAll('.tw-whiteboard-tldraw-container');\\n                    for(var i=0; i\u003Ccontainers.length; i++) {\\n                        addIsolation(containers[i]);\\n                    }\\n                }\\n            });\\n        });\\n    });\\n\\n    if (document.body) {\\n        observer.observe(document.body, { childList: true, subtree: true });\\n        console.log(\\\" Lithic Isolation Field: Active.\\\");\\n    }\\n};\\n\\n})();\",\n    \"tags\": \"\",\n    \"title\": \"$:/Lithic/Patches/IsolateDoubleClicks\",\n    \"modified\": \"20251202170643721\",\n    \"type\": \"application/javascript\",\n    \"module-type\": \"startup\"\n}\n,\n\"$:/lithic/slashcommands/blockquote\": {\n    \"created\": \"20251203152820551\",\n    \"text\": \"> Line 1\\n> Line 2\",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/blockquote\",\n    \"modified\": \"20251203153027060\"\n}\n,\n\"$:/lithic/slashcommands/bold\": {\n    \"created\": \"20251203152514640\",\n    \"text\": \"** **\",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/bold\",\n    \"modified\": \"20251203152524986\"\n}\n,\n\"$:/lithic/slashcommands/calc\": {\n    \"created\": \"20251203143031340\",\n    \"text\": \"\u003C\u003Ccalc \\\" \\\">>\",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/calc\",\n    \"modified\": \"20251203143040524\"\n}\n,\n\"$:/lithic/slashcommands/codeblock\": {\n    \"created\": \"20251203153040629\",\n    \"text\": \"```\\n\\n```\",\n    \"type\": \"text/x-markdown\",\n    \"title\": \"$:/lithic/slashcommands/codeblock\",\n    \"modified\": \"20251203153116583\"\n}\n,\n\"$:/lithic/slashcommands/draw\": {\n    \"created\": \"20251203153123844\",\n    \"text\": \"\u003C$whiteboard tiddler={{{ [\u003CcurrentTiddler>addsuffix[-draw]] }}} />\",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/draw\",\n    \"modified\": \"20251203153422949\"\n}\n,\n\"$:/lithic/slashcommands/equation\": {\n    \"created\": \"20251203152535500\",\n    \"text\": \"$$ $$\",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/equation\",\n    \"modified\": \"20251203152554078\"\n}\n,\n\"$:/lithic/slashcommands/h1-heading1\": {\n    \"created\": \"20251203152039999\",\n    \"text\": \"# \",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/h1-heading1\",\n    \"modified\": \"20251203152104125\"\n}\n,\n\"$:/lithic/slashcommands/h2-heading2\": {\n    \"created\": \"20251203152106939\",\n    \"text\": \"## \",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/h2-heading2\",\n    \"modified\": \"20251203152117140\"\n}\n,\n\"$:/lithic/slashcommands/h4-heading4\": {\n    \"created\": \"20251203152149295\",\n    \"text\": \"#### \",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/h4-heading4\",\n    \"modified\": \"20251203152158450\"\n}\n,\n\"$:/lithic/slashcommands/h5-heading5\": {\n    \"created\": \"20251203152200714\",\n    \"text\": \"##### \",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/h5-heading5\",\n    \"modified\": \"20251203152210765\"\n}\n,\n\"$:/lithic/slashcommands/h6-heading6\": {\n    \"created\": \"20251203152214837\",\n    \"text\": \"###### \",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/h6-heading6\",\n    \"modified\": \"20251203152230510\"\n}\n,\n\"$:/lithic/slashcommands/italics\": {\n    \"created\": \"20251203152318696\",\n    \"text\": \"_ _\",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/italics\",\n    \"modified\": \"20251203152531406\"\n}\n,\n\"$:/lithic/slashcommands/link\": {\n    \"created\": \"20251203143204977\",\n    \"text\": \"[[]]\",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/link\",\n    \"modified\": \"20251203143220003\"\n}\n,\n\"$:/lithic/slashcommands/strikethrough\": {\n    \"created\": \"20251203152628293\",\n    \"text\": \"~~ ~~\",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/strikethrough\",\n    \"modified\": \"20251203152646244\"\n}\n,\n\"$:/lithic/slashcommands/table2x2\": {\n    \"created\": \"20251203150042262\",\n    \"text\": \"| A  | B  |\\n|---|---|\\n|      |      |\\n\",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/table2x2\",\n    \"modified\": \"20251203150706099\"\n}\n,\n\"$:/lithic/slashcommands/table3x3\": {\n    \"created\": \"20251203150503347\",\n    \"text\": \"| A  | B  | C  |\\n|---|---|---|\\n|       |      |      |\\n|       |      |      |\",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/table3x3\",\n    \"modified\": \"20251203150714642\"\n}\n,\n\"$:/lithic/slashcommands/table4x4\": {\n    \"created\": \"20251203150721992\",\n    \"text\": \"| A  | B  | C  | D  |\\n|---|---|---|---|\\n|      |      |      |      |\\n|      |      |      |      |\\n|      |      |      |      |\\n\",\n    \"tags\": \"\",\n    \"title\": \"$:/lithic/slashcommands/table4x4\",\n    \"modified\": \"20251203150801214\"\n}\n,\n\"$:/lithic/streams-menu-fix\": {\n    \"created\": \"20251209004643931\",\n    \"text\": \"/* Adapt menu text to the current theme's foreground color */\\n.sq-contextmenu .tc-menu-list-item, .sq-contextmenu .tc-menu-list-item a {\\n    color: \u003C\u003Ccolour foreground>> !important; \\n    fill: \u003C\u003Ccolour foreground>> !important;\\n}\",\n    \"tags\": \"$:/tags/Stylesheet\",\n    \"title\": \"$:/lithic/streams-menu-fix\",\n    \"modified\": \"20251209143539211\"\n}\n,\n\"$:/lithic/styles/printstyle.css\": {\n    \"title\": \"$:/lithic/styles/printstyle.css\",\n    \"type\": \"text/css\",\n    \"text\": \"@media print {\\n    /* =======================================================\\n       1. HIDE ALL NAVIGATION AND INTERFACE ELEMENTS\\n       (Ensures only content is printed)\\n       ======================================================= */\\n    \\n    /* Hide the entire custom top bar */\\n    .nc-topbar {\\n        display: none !important;\\n    }\\n\\n    /* Hide the entire custom bottom bar */\\n    .nc-bottombar {\\n        display: none !important;\\n    }\\n\\n    /* The main TiddlyWiki Sidebar and its header */\\n    .tc-sidebar-scrollable,\\n    .tc-sidebar-header {\\n        display: none !important;\\n    }\\n    \\n    /* HIDE THE TIDDLER TITLE BAR (including title and controls) */\\n    .tc-titlebar {\\n        display: none !important;\\n    }\\n\\n    /* The main 'ViewToolbar' buttons (e.g., Edit, Delete, Tag, permalink) */\\n    .tc-tiddler-controls,\\n    .tc-toolbar-group,\\n    .tc-toolbar-item {\\n        display: none !important;\\n    }\\n\\n    /* HIDE THE TIDDLER FOOTER (e.g., backlinks, filter results) */\\n    .footer {\\n        display: none !important;\\n    }\\n\\n    /* TiddlyWiki's core style for the Edit Template buttons/footer */\\n    .tc-editor-footer {\\n        display: none !important;\\n    }\\n\\n    /* The Control Panel button (top right) */\\n    .tc-more-toolbar-wrapper {\\n        display: none !important;\\n    }\\n\\n    /* If you have a custom Tiddler that shows the edit state */\\n    .tc-edit-text-wrapper {\\n        display: none !important;\\n    }\\n    \\n    /* Hide the 'Add New Node' button/control from Streams plugin */\\n    .stream-node-control-addnew {\\n        display: none !important;\\n    }\\n\\n    /* Hide the Tiddler Subtitle (Date/Time info) */\\n    .tc-subtitle {\\n        display: none !important;\\n    }\\n\\n    /* Hide the Tiddler Tags wrapper */\\n    .tc-tags-wrapper {\\n        display: none !important;\\n    }\\n\\n    /* =======================================================\\n       2. OPTIMIZE CONTENT DISPLAY\\n       (Ensures text takes up full page width)\\n       ======================================================= */\\n\\n    /* Ensure the main content takes up the full width */\\n    .tc-tiddler-frame {\\n        width: 100% !important;\\n        margin-left: 0 !important;\\n        padding: 0 !important;\\n        /* Set page break to keep tiddlers from splitting awkwardly */\\n        page-break-inside: avoid;\\n    }\\n    \\n    /* Ensure the Story River expands to full width */\\n    .tc-story-river {\\n        width: 100% !important;\\n    }\\n\\n    /* =======================================================\\n       3. GENERAL TIDDLER FRAME MODIFICATIONS\\n       (Removes borders and stream indentation lines)\\n       ======================================================= */\\n    \\n    /* Remove the top border from ALL Tiddler frames being printed */\\n    .tc-tiddler-frame {\\n        border-top: none !important; \\n    }\\n    \\n    /* Remove the left indentation border from ALL stream children */\\n    .stream-row-children {\\n        border-left: none !important;\\n    }\\n\\n    /* =======================================================\\n       4. TYPOGRAPHY & COLORS\\n       (Overrides dark mode text for printing)\\n       ======================================================= */\\n\\n    /* Force body text to pure black for better print contrast */\\n    body.tc-body {\\n        color: #000000 !important;\\n    }\\n}\",\n    \"created\": \"20251129175226799\",\n    \"modified\": \"20251130033349811\",\n    \"tags\": \"$:/tags/Stylesheet\"\n}\n,\n\"$:/lithic/ui/RevertButton\": {\n    \"title\": \"$:/lithic/ui/RevertButton\",\n    \"text\": \"\u003C$button \\n    tooltip=\\\"Revert all browser-stored changes\\\" \\n    class=\u003C\u003Ctv-config-toolbar-class>>\\n>\\n    \u003C$action-sendmessage $message=\\\"tm-clear-browser-storage\\\"/>\\n    \\n    \u003C$action-sendmessage $message=\\\"tm-browser-refresh\\\"/>\\n    \\n    \u003C$list filter=\\\"[\u003Ctv-config-toolbar-icons>match[yes]]\\\">\\n    {{$:/core/images/rotate-left}}\\n    \u003C/$list>\\n    \\n    \u003C$list filter=\\\"[\u003Ctv-config-toolbar-text>match[yes]]\\\">\\n    \u003Cspan class=\\\"tc-btn-text\\\">\u003C$text text=\\\"Revert\\\"/>\u003C/span>\\n    \u003C/$list>\\n\u003C/$button>\",\n    \"created\": \"20251129192558446\",\n    \"modified\": \"20251129193549456\",\n    \"tags\": \"$:/tags/PageControls\"\n}\n,\n\"$:/lithic/ui/ViewTemplate/title/SystemTitle\": {\n    \"created\": \"20251204152424936\",\n    \"text\": \"\\\\whitespace trim\\n\u003Ch2 class=\\\"tc-title\\\">&ensp;\\n\u003C$vars caps=\\\"([A-Z]+)\\\">{{{ [\u003CcurrentTiddler>split[/]last[]search-replace:g:regexp\u003Ccaps>,[ $1]trim[]] }}}\\n\u003C/$vars>\u003C/h2>\",\n    \"tags\": \"$:/tags/ViewTemplateTitleFilter\",\n    \"title\": \"$:/lithic/ui/ViewTemplate/title/SystemTitle\",\n    \"modified\": \"20251204154357864\"\n}\n,\n\"$:/palette\": {\n    \"created\": \"20251127071824737\",\n    \"title\": \"$:/palette\",\n    \"text\": \"$:/themes/nico/notebook/palettes/palette-dark\",\n    \"modified\": \"20251209143550317\"\n}\n,\n\"$:/plugins/linonetwo/tw-whiteboard/tiddlywiki-ui/PageLayout/WhiteBoard\": {\n    \"title\": \"$:/plugins/linonetwo/tw-whiteboard/tiddlywiki-ui/PageLayout/WhiteBoard\",\n    \"text\": \"\\\\whitespace trim\\n\\\\define containerClasses()\\ntc-page-container tc-page-view-$(storyviewTitle)$ tc-language-$(languageTitle)$ tw-whiteboard-layout-container\\n\\\\end\\n\\\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\\n\\n\u003C$vars\\n\\ttv-config-toolbar-icons={{$:/config/Toolbar/Icons}}\\n\\ttv-config-toolbar-text={{$:/config/Toolbar/Text}}\\n\\ttv-config-toolbar-class={{$:/config/Toolbar/ButtonClass}}\\n\\ttv-show-missing-links={{$:/config/MissingLinks}}\\n\\tstoryviewTitle={{$:/view}}\\n\\tlanguageTitle={{{ [{$:/language}get[name]] }}}>\\n\\n\u003Cdiv class=\u003C\u003CcontainerClasses>>>\\n\\n\u003C$navigator story=\\\"$:/StoryList\\\" history=\\\"$:/HistoryList\\\" openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\n\u003Cmain class=\\\"tw-whiteboard-layout-main-area\\\">\\n\\t\u003C$reveal state=\\\"$:/state/Whiteboard/PageLayout/tiddler\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n\\t\\t\u003C$whiteboard tiddler={{$:/state/Whiteboard/PageLayout/tiddler}} height=\\\"calc(100vh - 35px)\\\" />\\n\\t\u003C/$reveal>\\n\\t\u003C!-- default value, when first opened, select widget's state tiddler is empty, but default value filter gives a value, we show that tiddler -->\\n\\t\u003C$reveal state=\\\"$:/state/Whiteboard/PageLayout/tiddler\\\" type=\\\"match\\\" text=\\\"\\\">\\n\\t\\t\u003C$list filter='[all[shadows+tiddlers]field:type[application/tldr]sort[modified]first[]]'>\\n\\t\\t\\t\u003C$whiteboard tiddler={{{[all[shadows+tiddlers]field:type[application/tldr]sort[modified]first[]]}}} height=\\\"calc(100vh - 35px)\\\" />\\n\\t\\t\u003C/$list>\\n\\t\u003C/$reveal>\\n\u003C/main>\\n\\n\u003C!-- put this below main, so nav bar is layered on top of the main. In UI, this nav in on the top of the page. -->\\n\u003Cnav class=\\\"tw-whiteboard-layout-top-bar\\\">\\n\\tSelect board: \\n\\t\u003C!-- default to recently used whiteboard tiddler -->\\n\\t\u003C$select tiddler=\\\"$:/state/Whiteboard/PageLayout/tiddler\\\" default={{{[all[shadows+tiddlers]field:type[application/tldr]sort[modified]first[]]}}}>\\n\\t\\t\u003C$list filter='[all[shadows+tiddlers]field:type[application/tldr]sort[modified]]'>\\n\\t\\t\\t\u003Coption value=\u003C\u003CcurrentTiddler>>>\u003C$view field='title'/>\u003C/option>\\n\\t\\t\u003C/$list>\\n\\t\u003C/$select>\\n\\n\\t\u003C$button tooltip=\\\"New\\\" popup=\\\"$:/state/Whiteboard/PageLayout/CreateNewTiddlerPopup\\\">{{$:/core/images/new-button}}\u003C/$button>\\n\\t\u003C$reveal type=\\\"popup\\\" state=\\\"$:/state/Whiteboard/PageLayout/CreateNewTiddlerPopup\\\">\\n\\t\\t{{$:/plugins/linonetwo/tw-whiteboard/tiddlywiki-ui/PageLayout/CreateNewTiddlerPopup}}\\n\\t\u003C/$reveal>\\n\\n\\t\u003C$reveal state=\\\"$:/state/Whiteboard/PageLayout/tiddler\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n\\t\\t\u003C$button tooltip=\\\"Open In StoryView\\\">\\n\\t\\t\\t{{$:/core/images/home-button}}\\n\\t\\t\\t\u003C$action-setfield $tiddler=\\\"$:/layout\\\" text=\\\"$:/core/ui/PageTemplate\\\"/>\\n\\t\\t\u003C/$button>\\n\\t\u003C/$reveal>\\n\\t\u003C!-- default value, when first opened, select widget's state tiddler is empty, but default value filter gives a value, we show that tiddler -->\\n\\t\u003C$reveal state=\\\"$:/state/Whiteboard/PageLayout/tiddler\\\" type=\\\"match\\\" text=\\\"\\\">\\n\\t\\t\u003C$list filter='[all[shadows+tiddlers]field:type[application/tldr]sort[modified]first[]]'>\\n\\t\\t\\t\u003C$button tooltip=\\\"Open In StoryView\\\">\\n\\t\\t\\t\\t{{$:/core/images/home-button}}\\n\\t\\t\\t\\t\u003C$action-setfield $tiddler=\\\"$:/layout\\\" text=\\\"$:/core/ui/PageTemplate\\\"/>\\n\\t\\t\\t\\t\u003C$action-navigate $to={{{[all[shadows+tiddlers]field:type[application/tldr]sort[modified]first[]]}}} />\\n\\t\\t\\t\u003C/$button>\\n\\t\\t\u003C/$list>\\n\\t\u003C/$reveal>\\n\u003C/nav>\\n\\n\u003C/$navigator>\\n\\n\u003C/div>\\n\\n\u003C/$vars>\",\n    \"created\": \"20251201234730759\",\n    \"description\": \"show `application/tldr` type tiddlers in full screen whiteboard\",\n    \"modified\": \"20251201234857118\",\n    \"name\": \"White Board\",\n    \"tags\": \"$:/tags/Layout\"\n}\n,\n\"$:/plugins/linonetwo/tw-whiteboard/tiddlywiki-ui/ViewToolbar/images/OpenInFullScreenWhiteBoardButtonImage\": {\n    \"title\": \"$:/plugins/linonetwo/tw-whiteboard/tiddlywiki-ui/ViewToolbar/images/OpenInFullScreenWhiteBoardButtonImage\",\n    \"text\": \"{{$:/core/images/palette}}\",\n    \"created\": \"20251202032126939\",\n    \"modified\": \"20251202032240928\",\n    \"tags\": \"$:/tags/Image\"\n}\n,\n\"$:/plugins/snowgoon88/edit-comptext/completion.js\": {\n    \"created\": \"20251203170029120\",\n    \"text\": \"/*\\\\\\ntitle: $:/plugins/snowgoon88/edit-comptext/completion.js\\ntype: application/javascript\\nmodule-type: library\\n\\nTry to make self-contained completion module.\\n\\nTo use this 'module', you need a `widget` with a kind of `editarea` node.\\nI do not know the exacte prerequisites of this editarea node for the module to\\nwork, but mostly one should be able to attach the following `eventHandler` to\\nit:\\n - input\\n - keydown\\n - keypress\\n - keyup\\nThe `widget` is needed because I use:\\n - widget.document\\n - widget.wiki.filterTiddlers(...)\\n\\nFrom the Widget, once you have a proper editarea, you just have to call\\n - var completion = new Completion( theWidget, theEditAreaNode, configObject);\\nwhere `configObject` is expected to have the following fields. if a field is missing, a default value will be given.\\nOne can have many `elements' in the template array.\\n\\n{\\n  \\\"configuration\\\": {\\n      \\\"caseSensitive\\\" : false,\\n      \\\"maxMatch\\\" : 8,\\n      \\\"minPatLength\\\" : 2,\\n      \\\"triggerKeyCombination\\\" : \\\"^ \\\"\\n  },\\n  \\\"template\\\": [{\\n      \\\"pattern\\\": \\\"[[\\\",\\n      \\\"filter\\\": \\\"[all[tiddlers]!is[system]]\\\",\\n      \\\"start\\\": \\\"[[\\\",\\n      \\\"end\\\": \\\"]]\\\"\\n      }\\n  ]\\n}\\n\\nTODO : CHECK if needed\\n\\\\*/\\n\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\n// To compute pixel coordinates of cursor\\nvar getCaretCoordinates = require(\\\"$:/plugins/snowgoon88/edit-comptext/cursor-position.js\\\");\\n\\n/** Default Completion Attributes */\\nvar DEFATT = { maxMatch: 5, minPatLength: 2, caseSensitive: false, triggerKeyCombination: \\\"^ \\\" };\\n\\n/** \\n * Struct for generic Completion Templates.\\n * \u003Cul>\\n * \u003Cli>pat : pattern searched for.\u003C/li>\\n * \u003Cli>filter : filter operation used to find the list of completion options\u003C/li>\\n * \u003Cli>mask: replaced by \\\"\\\" when presenting completion options\u003C/li>\\n * \u003C/ul>\\n */\\n    var Template = function( pat, filter, mask, field, start, end, startOffset  ) {\\n    this.pat = pat;\\n        this.filter = filter;\\n    this.mask = \\\"^\\\"+regExpEscape(mask);\\n    this.field = field;\\n    this.start = start;\\n    this.end = end;\\n        this.pos = 0;\\n        this.startOffset  = startOffset;\\n};\\n/**\\n * Struct for storing completion options, as we need to memorise \\n * the titles of the tiddlers when masked and when body must be displayed.\\n */\\nvar OptCompletion = function( title, str ) {\\n    this.title = title;\\n    this.str = str;\\n};\\n\\nvar keyMatchGenerator = function(combination) {\\n\\tlet singleMatchGenerator = function(character) {\\n\\t\\tif (character === '^') {\\n\\t\\t\\treturn event => event.ctrlKey;\\n\\t\\t}\\n\\t\\telse if (character === '+') {\\n\\t\\t\\treturn event => event.shiftKey;\\n\\t\\t}\\n\\t\\telse if (character === '!') {\\n\\t\\t\\treturn event => event.altKey;\\n\\t\\t}\\n\\t\\telse {\\n\\t\\t\\treturn event => (event.keyCode || event.which) === character.charCodeAt(0);\\n\\t\\t}\\n\\t};\\n\\n\\tlet matchers = [];\\n\\tfor (let i = 0; i \u003C combination.length; i++) {\\n\\t\\tmatchers.push(singleMatchGenerator(combination[i]));\\n\\t}\\n\\n\\treturn event => {\\n\\t\\tfor (let i = 0; i \u003C matchers.length; i++) {\\n\\t\\t\\tif (!matchers[i](event)) {\\n\\t\\t\\t\\treturn false;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\treturn true;\\n\\t};\\n};\\n\\n/**\\n * Widget is needed in creating popupNode.\\n * - widget.document\\n * - widget.wiki.filterTiddlers(...)\\n * - sibling : where to create the popup in the DOM.\\n */\\n\\tvar Completion = function( editWidget, areaNode, param, sibling, offTop, offLeft ) {\\n\\tconsole.log( \\\"==Completion::creation\\\" );\\n\\n\\t//check if the widget uses the framed engine\\n\\tif(typeof sibling !== 'undefined') {\\n\\t\\t//The framed engine propagates all keydown events to the parent document\\n\\t\\t//Disable this and only propagate keydown events not handled by the autocompletion in our handleKeydown method\\n\\t\\teditWidget._original_handleKeydownEvent = editWidget.handleKeydownEvent;\\n\\t\\teditWidget.handleKeydownEvent = function(event) {\\n\\t\\t\\treturn false;\\n\\t\\t};\\n\\t}\\n\\n    // About underlying Widget\\n    this._widget = editWidget;\\n\\tthis._areaNode = areaNode;\\n\\tthis._sibling  = (typeof sibling !== 'undefined') ?  sibling : this._areaNode;\\n\\tthis._offTop = (typeof offTop !== 'undefined') ?  offTop : 0;\\n\\tthis._offLeft = (typeof offLeft !== 'undefined') ?  offLeft : 0;\\t\\n\\t\\t\\n    // Completions attributes\\n    /** State */\\n    this._state = \\\"VOID\\\";\\n    this._template = undefined;\\n    /** Best matches */\\n    this._bestMatches = []; // An array of OptCompletion\\n    this._idxChoice = -1;\\n    /** Param */\\n            // maximum nb of match displayed\\n            //DEBUG console.log( \\\"__PARAM\\\" );\\n            //DEBUG console.log( param.configuration );\\n    this._maxMatch     = param.configuration.maxMatch || DEFATT.maxMatch;   \\n            // Beware that a (0 || 2) gives 2 !, so change way attributs are checked.\\n            this._minPatLength = DEFATT.minPatLength;\\n            if ('minPatLength' in param.configuration) {\\n                this._minPatLength = param.configuration.minPatLength;\\n            }\\n    this._caseSensitive= param.configuration.caseSensitive || DEFATT.caseSensitive;\\n    this._triggerKeyMatcher = keyMatchGenerator(param.configuration.triggerKeyCombination || DEFATT.triggerKeyCombination);\\n    /** Input information */\\n    this._lastChar = \\\"\\\";\\n    this._hasInput = false;\\n    /** List of Completion Templates */\\n    this._listTemp = [];\\n    \\n    // Read templates from Param\\n    if( param.template ) {\\n    \\tvar idT;\\n    \\tfor( idT=0; idT\u003Cparam.template.length; idT++ ) {\\n    \\t    var temp = param.template[idT];\\n\\t    // field 'body' ou 'title' (default)\\n\\t    if( temp.body ) {\\t\\t\\n    \\t\\tthis._listTemp.push( \\n    \\t\\t    new Template( temp.pattern, temp.body,\\n\\t\\t\\t\\t  temp.mask ? temp.mask : \\\"\\\",\\n\\t\\t\\t\\t  \\\"body\\\",\\n    \\t\\t\\t\\t  temp.start, temp.end,\\n                                temp.startOffset)\\n    \\t\\t);\\n\\t    }\\n\\t    else {\\n    \\t\\tthis._listTemp.push( \\n    \\t\\t    new Template( temp.pattern, \\n\\t\\t\\t\\t  temp.title ? temp.title : temp.filter,\\n\\t\\t\\t\\t  temp.mask ? temp.mask : \\\"\\\",\\n\\t\\t\\t\\t  \\\"title\\\",\\n    \\t\\t\\t\\t  temp.start, temp.end,\\n                                temp.startOffset )\\n    \\t\\t);\\n\\t    }\\n\\t    //DEBUG temp = this._listTemp[this._listTemp.length-1];\\n\\t    //DEBUG console.log( \\\"__CONF : \\\"+temp.pattern+\\\":\\\"+temp.filter+\\\":\\\"+temp.mask+\\\":\\\"+temp.field+\\\":\\\"+temp.start+\\\":\\\"+temp.end );\\n    \\t}\\n    }\\n    // or defaut template\\n    else {\\n    \\tthis._listTemp = [\\n    \\t    new Template( \\\"[[\\\", \\\"[all[tiddlers]!is[system]]\\\", \\n\\t\\t\\t  \\\"\\\", \\\"title\\\",\\n\\t\\t\\t  \\\"[[\\\", \\\"]]\\\" )\\n    \\t];\\n    }\\n    // Create Popup\\n\\t//this._popNode = createPopup(this._widget, this._areaNode );\\n\\tthis._popNode = createPopup(this._widget, this._sibling );\\t\\n    \\n    // Listen to the Keyboard\\n    $tw.utils.addEventListeners( this._areaNode,[\\n\\t{name: \\\"input\\\", handlerObject: this, handlerMethod: \\\"handleInput\\\"},\\n\\t{name: \\\"keydown\\\", handlerObject: this, handlerMethod: \\\"handleKeydown\\\"},\\n\\t{name: \\\"keypress\\\", handlerObject: this, handlerMethod: \\\"handleKeypress\\\"},\\n    \\t{name: \\\"keyup\\\", handlerObject: this, handlerMethod: \\\"handleKeyup\\\"}\\n    ]);\\n   \\n    /** \\n     * Find the bestMatches among listChoice with given pattern\\n     * @param listChoice : array of String\\n     * @change : this._bestMatches => array of OptCompletion\\n     */\\n    this._findBestMatches = function( listChoice, pattern, nbMax) {\\n\\t// regexp search pattern, case sensitive\\n\\tvar flagSearch = this._caseSensitive ? \\\"\\\" : \\\"i\\\" ;\\n\\tvar regpat = RegExp( regExpEscape(pattern), flagSearch );\\n\\tvar regpat_start = RegExp( \\\"^\\\"+regExpEscape(pattern), flagSearch );\\n\\tvar regMask = RegExp( this._template.mask ? this._template.mask : \\\"\\\",\\\"\\\");\\n\\tvar nbMatch = 0;\\n\\t// nbMax set to _maxMatch if no value given\\n\\tnbMax = nbMax !== undefined ? nbMax : this._maxMatch;\\n\\n\\t//DEBUG console.log( \\\"__FIND masked=\\\"+regMask+\\\" regPat=\\\"+regpat);\\n\\n\\tthis._bestMatches= [];\\n\\tvar otherMatches = [];\\n\\t// We test every possible choice\\n\\tfor( var i=0; i\u003C listChoice.length; i++ ) {\\n\\t    // apply mask over potential choice\\n\\t    var maskedChoice = listChoice[i].replace( regMask, \\\"\\\");\\n\\t    // Test first if pattern is found at START of the maskedChoice\\n\\t    // THEN added to BestMatches\\n \\t    if( regpat_start.test( maskedChoice )) {\\n\\t\\tif (nbMatch >= nbMax) {\\n\\t\\t    this._bestMatches.push( new OptCompletion(\\\"\\\",\\\"...\\\") );\\n\\t\\t    return;\\n\\t\\t} else {\\n\\t\\t    this._bestMatches.push( new OptCompletion(listChoice[i],maskedChoice) );\\n\\t\\t    nbMatch += 1;\\n\\t\\t}\\n\\t    }\\n\\t    // then if pattern is found WITHIN the maskedChoice\\n\\t    // added AFTER the choices that starts with pattern\\n\\t    else if( regpat.test( maskedChoice ) ) {\\n\\t\\tif (nbMatch >= nbMax) {\\n\\t\\t    // add all otherMatches to _bestMatches\\n\\t\\t    this._bestMatches.push( new OptCompletion(\\\"\\\",\\\"\u003Chr>\\\") ) ; //separator\\n\\t\\t    this._bestMatches = this._bestMatches.concat( otherMatches );\\n\\t\\t    this._bestMatches.push( new OptCompletion(\\\"\\\",\\\"...\\\") );\\n\\t\\t    return;\\n\\t\\t} else {\\n\\t\\t    otherMatches.push( new OptCompletion(listChoice[i],maskedChoice) );\\n\\t\\t    nbMatch += 1;\\n\\t\\t}\\n\\t    }\\n\\t}\\n\\t// Here, must add the otherMatches\\nif (this._bestMatches.length > 0 && otherMatches.length > 0) {\\n\\t    this._bestMatches.push( new OptCompletion(\\\"\\\",\\\"\u003Chr>\\\") );\\n    }\\n\\tthis._bestMatches = this._bestMatches.concat( otherMatches );\\n    };\\n    /**\\n     * Change Selected Status of Items\\n     */\\n    this._next = function (node) {\\n\\tvar count = node.children.length;\\n\\t//DEBUG console.log( \\\"__NEXT: co=\\\"+count+\\\" nbMatch=\\\"+this._bestMatches.length);\\n\\tif( this._bestMatches.length > 0 ) \\n\\t    this._goto( node, this._idxChoice \u003C count - 1 ? this._idxChoice + 1 : -1);\\n\\t//DEBUG this._logStatus( \\\"NexT\\\" );\\n    };\\n    this._previous = function (node) {\\n\\tvar count = node.children.length;\\n\\tvar selected = this._idxChoice > -1;\\n\\t//DEBUG console.log( \\\"__PREV: co=\\\"+count+\\\" nbMatch=\\\"+this._bestMatches.length);\\n\\tif( this._bestMatches.length > 0 ) \\n\\t    this._goto( node, selected ? this._idxChoice - 1 : count - 1);\\n\\t//DEBUG this._logStatus( \\\"PreV\\\" );\\n    };\\n    // Should not be used, highlights specific item without any checks!\\n    this._goto = function (node, idx) {\\n\\tvar lis = node.children;\\n\\tvar selected = this._idxChoice > -1;\\n\\tif (selected) {\\n\\t    lis[this._idxChoice].setAttribute(\\\"patt-selected\\\", \\\"false\\\");\\n\\t}\\n\\n\\tthis._idxChoice = idx;\\n    \\n\\tif (idx > -1 && lis.length > 0) {\\n\\t    lis[idx].setAttribute(\\\"patt-selected\\\", \\\"true\\\");\\n\\t}\\n    };\\n    /**\\n     * Abort pattern and undisplay.\\n     */\\n    this._abortPattern = function (displayNode) {\\n\\tthis._state = \\\"VOID\\\";\\n\\tthis._bestChoices = [];\\n\\tthis._idxChoice = -1;\\n\\tthis._undisplay( displayNode );\\n\\tthis._template = undefined;\\n    };\\n    /**\\n     * Display popupNode at the cursor position in areaNode.\\n     */\\n    this._display = function( areaNode, popupNode ) {\\n\\tif ( popupNode.style.display == 'none' ) {\\n\\t    // Must get coordinate\\n\\t    // Cursor coordinates within area + area coordinates + scroll\\n            var coord = getCaretCoordinates(areaNode, areaNode.selectionEnd);\\n            var styleSize = getComputedStyle(areaNode).getPropertyValue('font-size');\\n            var fontSize = parseFloat(styleSize); \\n\\t\\t\\n\\t    popupNode.style.left = (this._offLeft+areaNode.offsetLeft-areaNode.scrollLeft+coord.left) + 'px';\\n\\t    popupNode.style.top = (this._offTop+areaNode.offsetTop-areaNode.scrollTop+coord.top+fontSize*2) + 'px';\\n\\t    popupNode.style.display = 'block';\\n\\t}\\n    };\\n    /**\\n     * Undisplay someNode\\n     */\\n    this._undisplay = function( displayNode ) {\\n\\tif ( displayNode.style.display != 'none' ) {\\n\\t    displayNode.style.display = 'none';\\n\\t}\\n    };\\n\\n     /**\\n     * Used for debug\\n     */\\n    this._logStatus = function(msg) {\\n\\tconsole.log( \\\"__STATUS: \\\"+this._state+\\\":-\\\"+msg+\\\"- idx=\\\"+this._idxChoice );\\n    };\\n\\n};\\n// **************************************************************************\\n// ******************************************************************eventCbk\\n// **************************************************************************\\n/**\\n * Disable the *effects* of ENTER / UP / DOWN / ESC when needed.\\n * Set _hasInput to false.\\n */\\nCompletion.prototype.handleKeydown = function(event) {\\n    // key \\n    var key = event.keyCode;\\n    this._hasInput = false;\\n    \\n    //DEBUG console.log( \\\"__KEYDOWN (\\\"+key+\\\") hasI=\\\"+this._hasInput);\\n    \\n    // ENTER while selecting\\n    if( (this._state === \\\"PATTERN\\\" || this._state === \\\"SELECT\\\") && key === 13 ) {\\n    \\tevent.preventDefault();\\n    \\tevent.stopPropagation();\\n    }\\n    // ESC while selecting\\n    else if( (this._state === \\\"PATTERN\\\" || this._state === \\\"SELECT\\\") && key === 27 ) {\\n    \\tevent.preventDefault();\\n    \\tevent.stopPropagation();\\n    }\\n    // UP/DOWN while a pattern is extracted\\n    else if( (key===38 || key===40) && \\n\\t(this._state === \\\"PATTERN\\\" || this._state === \\\"SELECT\\\") ) {\\n\\t\\tevent.preventDefault();\\n    } else {\\n\\t\\t//If we have not handled the keydown event, allow the widget to propagate it to the parent document\\n\\t\\tif(this._widget._original_handleKeydownEvent) {\\n\\t\\t\\tthis._widget._original_handleKeydownEvent(event);\\n\\t\\t}\\n\\t}\\n};\\n/**\\n * Means that something has been added/deleted => set _hasInput\\n */\\nCompletion.prototype.handleInput = function(event) {\\n    this._hasInput = true;\\n    //DEBUG console.log( \\\"__INPUT hasI=\\\"+this._hasInput );\\n};\\n\\t\\n/**\\n * Set _lastChar, detects CTRL+SPACE.\\n */\\nCompletion.prototype.handleKeypress = function(event) {\\n    var curPos = this._areaNode.selectionStart;  // cursor position\\n    var val = this._areaNode.value;   // text in the area\\n    // key \\n    var key = event.keyCode || event.which;\\n\\t\\n    this._lastChar = String.fromCharCode(key);\\n    //DEBUG console.log( \\\"__KEYPRESS (\\\"+key+\\\") hasI=\\\"+this._hasInput+\\\" char=\\\"+this._lastChar );\\n    //DEBUG this._logStatus( \\\"KEYPRESS\\\" );\\n    \\n    // Detect Ctrl+Space\\n    if( this._triggerKeyMatcher(event) && this._state === \\\"VOID\\\" ) {\\n\\t//Find a proper Template\\n\\t// first from which we can extract a pattern\\n\\tif( this._template === undefined ) {\\n\\t    //DEBUG console.log(\\\"__SPACE : find a Template\\\" );\\n\\t    var idT, res;\\n\\t    for( idT=0; idT \u003C this._listTemp.length; idT++ ) {\\n\\t\\tres = extractPattern( val, curPos, this._listTemp[idT] );\\n\\t\\t//DEBUG console.log(\\\"  t=\\\"+this._listTemp[idT].pat+\\\" res=\\\"+res);\\n\\t\\t// res is not undefined => good template candidate\\n\\t\\tif( res ) {\\n\\t\\t    this._template = this._listTemp[idT];\\n\\t\\t    this._state = \\\"PATTERN\\\";\\n\\t\\t    break;\\n\\t\\t}\\n\\t    }\\n\\t}\\n\\telse {\\n\\t    //DEBUG console.log(\\\"__SPACE : already a template\\\" );\\n\\t    this._state = \\\"PATTERN\\\";\\n\\t}\\n    }\\n};\\n/**\\n * ESC -> abort; \\n * Detect [ -> VOID switch to _state=PATTERN\\n * PATTERN || SELECT : ENTER -> insertText\\n *                     UP/DOWN -> previous/next\\n *                     pattern.length > _minPatternLength -> display  \\n */\\nCompletion.prototype.handleKeyup = function(event) {\\n    var curPos = this._areaNode.selectionStart;  // cursor position\\n    var val = this._areaNode.value;   // text in the area\\n    // key a\\n    var key = event.keyCode;\\n    \\n    //DEBUG console.log( \\\"__KEYUP (\\\"+key+\\\") hasI=\\\"+this._hasInput );\\n\\n  // ESC\\n    if( key === 27 ) {\\n\\tthis._abortPattern( this._popNode );\\n\\t//DEBUG this._logStatus( \\\"\\\" );\\n    }\\n    // Check for every template\\n    if( this._hasInput && this._state === \\\"VOID\\\" ) {\\n\\t// check every template's pattern\\n\\tvar idT, template;\\n\\tfor( idT=0; idT \u003C this._listTemp.length; idT++ ) {\\n\\t    template = this._listTemp[idT];\\n\\t    if( this._lastChar === template.pat[template.pos] ) {\\n\\t\\ttemplate.pos += 1;\\n\\t\\t//DEBUG console.log( \\\"__CHECK : pat=\\\"+template.pat+\\\" pos=\\\"+template.pos );\\n\\t\\t// Pattern totaly matched ?\\n\\t\\tif( template.pos === template.pat.length ) {\\n\\t\\t    //DEBUG console.log( \\\"__CHECK => found \\\"+template.pat );\\n\\t\\t    this._state = \\\"PATTERN\\\";\\n\\t\\t    this._template = template;\\n\\t\\t    \\n\\t\\t    break; // get out of loop\\n\\t\\t}\\n\\t    }\\n\\t    else {\\n\\t\\ttemplate.pos = 0;\\n\\t\\t//DEBUG console.log( \\\"__CHECK : pat=\\\"+template.pat+\\\" pos=\\\"+template.pos );\\n\\t    }\\n\\t}\\n    }\\n    // a pattern\\n    if( this._state === \\\"PATTERN\\\" || this._state === \\\"SELECT\\\" ) {\\n\\t// Pattern below cursor : undefined if no pattern\\n\\tvar pattern = extractPattern( val, curPos, this._template );\\n\\tif( key === 13 ) { // ENTER\\n\\t    //DEBUG console.log( \\\"KEY : Enter\\\" );\\n    \\t    // Choice made in the displayNode ?\\n    \\t    var selected = this._idxChoice > -1 && this._idxChoice !== this._maxMatch;\\n    \\t    //DEBUG console.log( \\\"   > sel=\\\"+selected+\\\" len=\\\"+this._bestChoices.length );\\n    \\t    if( selected ) {\\n    \\t\\t//DEBUG console.log( \\\"   > selected\\\" );\\n\\t\\tvar temp = this._bestMatches[this._idxChoice];\\n\\t      var str = temp.str;\\n              // if str is \\\"\u003Chr>\\\" or \\\"...\\\", abort\\n              if (str === \\\"\u003Chr>\\\" || str === \\\"...\\\") {\\n                this._abortPattern( this._popNode );\\n                this._areaNode.focus();\\n                return;\\n              }\\n\\t\\tif( this._template.field === \\\"body\\\" ) {\\n\\t\\t    str = $tw.wiki.getTiddlerText( temp.title );\\n\\t\\t}\\n    \\t\\tinsertInto( this._areaNode,\\n\\t\\t\\t    str,\\n\\t\\t\\t    pattern.start, curPos, this._template );\\n\\t\\t// save this new content\\n\\t\\tthis._widget.saveChanges( this._areaNode.value );\\n\\t    }\\n\\t    // otherwise take the first choice (if exists)\\n\\t    else if( this._bestMatches.length > 0 ) {\\n    \\t\\t//DEBUG console.log( \\\"   > take first one\\\" );\\n\\t\\tvar temp = this._bestMatches[0];\\n\\t      var str = temp.str;\\n              // if str is \\\"\u003Chr>\\\" or \\\"...\\\", abort\\n              if (str === \\\"\u003Chr>\\\" || str === \\\"...\\\") {\\n                this._abortPattern( this._popNode );\\n                this._areaNode.focus();\\n                return;\\n              }\\n\\t\\tif( this._template.field === \\\"body\\\" ) {\\n\\t\\t    str = $tw.wiki.getTiddlerText( temp.title );\\n\\t\\t}\\n    \\t\\tinsertInto( this._areaNode,\\n\\t\\t\\t    str,\\n\\t\\t\\t    pattern.start, curPos, this._template );\\n\\t\\t// save this new content\\n\\t\\tthis._widget.saveChanges( this._areaNode.value );\\n\\t    }\\n\\t    this._abortPattern( this._popNode );\\n\\t\\t//DEBUG this._logStatus( \\\"\\\" );\\n    \\t    }\\n\\t    else if( key === 38 && this._hasInput === false) { // up\\n\\t\\tthis._state = \\\"SELECT\\\";\\n    \\t\\tevent.preventDefault();\\n    \\t\\tthis._previous( this._popNode );\\n\\t\\t//DEBUG this._logStatus( pattern.text );\\n    \\t\\t//event.stopPropagation();\\n    \\t    }\\n    \\t    else if( key === 40 && this._hasInput === false) { // down\\n\\t\\tthis._state = \\\"SELECT\\\";\\n    \\t\\tevent.preventDefault();\\n    \\t\\tthis._next( this._popNode );\\n\\t\\t//DEBUG this._logStatus( pattern.text );\\n    \\t\\t//event.stopPropagation();\\n    \\t    }\\n    \\t    else if( pattern ) { // pattern changed by keypressed\\n\\t\\tthis._idxChoice = -1;\\n    \\t\\t// log\\n                //DEBUG console.log( \\\"  PATTERN changed\\\" );\\n\\t\\t//DEBUG this._logStatus( pattern.text );\\n                //DEBUG console.log( \\\"  pat.length\\\",pattern.text.length, \\\" min\\\",this._minPatLength);\\n    \\t\\t// Popup with choices if pattern at least minPatLength letters long\\n\\t\\tif( pattern.text.length > (this._minPatLength-1) ) {\\n                    //DEBUG console.log( \\\"  should compute\\\" );\\n\\t\\t    // compute listOptions from templateFilter\\n\\t\\t    var allOptions;\\n\\t\\t    if( this._template )\\n\\t\\t\\tallOptions = this._widget.wiki.filterTiddlers( this._template.filter );\\n\\t\\t    else\\n\\t\\t\\tallOptions = this._widget.wiki.filterTiddlers(\\\"[all[tiddlers]]\\\");\\n\\t\\t    this._findBestMatches( allOptions, pattern.text );\\n    \\t\\t    this._popNode.innerHTML = \\\"\\\";\\n    \\t\\t    //console.log( \\\"BC \\\"+ this._pattern + \\\" => \\\" + choice );\\n    \\t\\t    if (this._bestMatches.length > 0) {\\n\\t\\t      for( var i=0; i\u003Cthis._bestMatches.length; i++) {\\n                        let li_elem = itemHTML(this._bestMatches[i].str,\\n\\t\\t\\t\\t\\t       pattern.text);\\n                        // pass this as comp to eventHandler\\n                        li_elem.addEventListener( \\\"click\\\",\\n                                                  function( idx, event) {\\n                                                    //DEBUG console.log( \\\"__ITEM Listener\\\", this, idx, event );\\n                                                    this.handleItemClik( idx );\\n                                                  }.bind(this,i));\\n                        li_elem.addEventListener( \\\"touchstart\\\",\\n                                                  function( idx, event) {\\n                                                    //comp is the completion object, passed using 'bind' \\n                                                    this.handleItemClik( idx );\\n                                                  }.bind(this,i));\\n                        li_elem.addEventListener( \\\"mouseover\\\",\\n                                                  function( idx, event) {\\n                                                    this._goto( this._popNode,\\n                                                                idx );\\n                                                  }.bind(this,i));\\n                        \\n                        // li_elem.addEventListener( \\\"click\\\",\\n                        //                           this.handleItemClick );\\n    \\t\\t\\tthis._popNode.appendChild( li_elem );\\n    \\t\\t      }\\n\\t\\t      this._display( this._areaNode, this._popNode );\\t\\t\\t\\n    \\t\\t    }\\n\\t\\t    else { // no matches\\n\\t\\t\\tthis._state = \\\"PATTERN\\\";\\n\\t\\t\\tthis._undisplay( this._popNode );\\n\\t\\t    }\\n\\t\\t}\\n    \\t    }\\n\\t    else { // no pattern detected\\n\\t\\tthis._abortPattern( this._popNode );\\n\\t    }\\n\\t}\\n\\t// to ensure that one MUST add an input (through onInput())\\n\\tthis._hasInput = false;\\n};\\n// not real event handler as awaits the index of the clicked/touched bestChoice\\nCompletion.prototype.handleItemClik = function( idx_select) {\\n  \\n  var curPos = this._areaNode.selectionStart;  // cursor position\\n  var val = this._areaNode.value;   // text in the area\\n  var pattern = extractPattern( val, curPos, this._template );\\n  \\n  //DEBUG console.log( \\\"__handleItemClik idx=\\\"+idx_select, this );\\n  \\n  // insert choice into document\\n  var temp = this._bestMatches[idx_select];\\n  var str = temp.str;\\n\\n  // if str is \\\"\u003Chr>\\\" or \\\"...\\\", abort\\n  if (str === \\\"\u003Chr>\\\" || str === \\\"...\\\") {\\n    this._abortPattern( this._popNode );\\n    this._areaNode.focus();\\n    return;\\n  }\\n  \\n  if( this._template.field === \\\"body\\\" ) {\\n    str = $tw.wiki.getTiddlerText( temp.title );\\n  }\\n  insertInto( this._areaNode,\\n\\t      str,\\n\\t      pattern.start, curPos, this._template );\\n  // save this new content\\n  this._widget.saveChanges( this._areaNode.value );\\n  this._abortPattern( this._popNode );\\n  this._areaNode.focus();\\n  //DEBUG this._logStatus( \\\"\\\" );\\n}\\n// **************************************************************************\\n// ******************************************************** private functions\\n// **************************************************************************\\n/**\\n * Create popup element.\\n */\\nvar createPopup = function( widget, node ) {\\n    // Insert a special \\\"div\\\" element for poping up\\n    // Its 'display' property in 'style' control its visibility\\n    var popupNode = widget.document.createElement(\\\"div\\\");\\n    popupNode.setAttribute( \\\"style\\\", \\\"display:none; position: absolute;\\\");\\n    popupNode.className = \\\"tc-block-dropdown ect-block-dropdown\\\";\\n    // Insert the element into the DOM\\n    node.parentNode.insertBefore(popupNode,node.nextSibling);\\n    //CHECK the domNodes is a attribute of Widget [widget.js]\\n    //CHECK this.domNodes.push(popupNode);\\n    \\n    return popupNode;\\n};\\n/**\\n * Extract Pattern from text at a given position.\\n *\\n * Between previous template.pat (or '[[') and pos\\n * \\n * If no pattern -> undefined\\n */\\nvar extractPattern = function( text, pos, template ) {\\n    // Detect previous and next ]]=>STOP or [[=>START\\n    var sPat = template.pat ? template.pat : '[[';\\n    var pos_prevOpen = text.lastIndexOf( sPat, pos );\\n    var ePat = template.end ? template.end : ']]';\\n    var pos_prevClosed = text.lastIndexOf( ePat, pos );\\n    var pos_nextClosed = text.indexOf( ePat, pos  );\\n    //DEBUG console.log(\\\"__CALC st=\\\"+sPat+\\\" -> en=\\\"+ePat );\\n    //DEBUG console.log(\\\"__CALC po=\\\"+pos_prevOpen+\\\" pc=\\\"+pos_prevClosed+\\\" nc=\\\"+pos_nextClosed+\\\" pos=\\\"+pos);\\n    pos_nextClosed = (pos_nextClosed >= 0) ? pos_nextClosed : pos;\\n    \\n    if( (pos_prevOpen >= 0) &&                 // must be opened\\n\\t((pos_prevOpen > pos_prevClosed ) ||  // not closed yet\\n\\t (pos_prevClosed === pos))) {          // closed at cursor\\n\\t//DEBUG console.log(\\\"     pat=\\\"+text.slice( pos_prevOpen+sPat.length, pos) );\\n\\treturn { text: text.slice( pos_prevOpen+sPat.length, pos ),\\n\\t\\t start: pos_prevOpen,\\n\\t\\t end: pos_nextClosed\\n\\t       };\\n    }\\n};\\n/**\\n * Controls how list items are generated.\\n * Function that takes two parameters :\\n *  - text : suggestion text\\n *  - input : the users input\\n * Returns : list item. \\n * Generates list items with the users input highlighted via \u003Cmark>.\\n */\\nvar itemHTML = function (text, input) {\\n    \\n    // FIX: If this is a separator or \\\"...\\\" indicator, do NOT highlight it.\\n    if (text === \\\"\u003Chr>\\\" || text === \\\"...\\\") {\\n         var elem = create(\\\"li\\\", {\\n            innerHTML: text,\\n            \\\"patt-selected\\\": \\\"false\\\",\\n            class: \\\"ect-separator\\\" // Optional: helpful for CSS targeting\\n          });\\n          return elem;\\n    }\\n\\n    // Original Logic for normal items\\n    var html = input === '' ? text : text.replace(RegExp(regExpEscape(input.trim()), \\\"gi\\\"), \\\"\u003Cmark>$&\u003C/mark>\\\");\\n    var elem = create(\\\"li\\\", {\\n        innerHTML: html,\\n        \\\"patt-selected\\\": \\\"false\\\",\\n    });\\n    return elem; \\n};\\n\\n/**\\n * Insert text into a textarea node, \\n * enclosing in 'template.start..template.end'\\n *\\n * - posBefore : where the 'template.pat+pattern' starts\\n * - posAfter : where the cursor currently is\\n */\\nvar insertInto = function(node, text, posBefore, posAfter, template ) {\\n    //DEBUG console.log( \\\"__INSERT : \\\"+template.pattern+\\\":\\\"+template.filter+\\\":\\\"+template.mask+\\\":\\\"+template.field+\\\":\\\"+template.start+\\\":\\\"+template.end );\\n    var val = node.value;\\n    var sStart = template.start !== undefined ? template.start : '[[';\\n    var sEnd = template.end !== undefined ? template.end : ']]';\\n    var newVal = val.slice(0, posBefore) + sStart + text + sEnd + val.slice(posAfter);\\n    //console.log(\\\"__INSERT s=\\\"+sStart+\\\" e=\\\"+sEnd);\\n    //console.log (\\\"__INSERT pb=\\\"+posBefore+\\\" pa=\\\"+posAfter+\\\" txt=\\\"+text);\\n    //console.log( \\\"NEW VAL = \\\"+newVal );\\n    // WARN : Directly modifie domNode.value.\\n    // Not sure it does not short-circuit other update methods of the domNode....\\n    // i.e. could use widget.updateEditor(newVal) from edit-comptext widget.\\n    //      but how to be sure that cursor is well positionned ?\\n    node.value = newVal;\\n\\n    // if startOffset in Template, set cursor at beginning of inserted value,\\n    // with an Offset (usefull for aliasing links)\\n    if (template.startOffset) {\\n        let cursorPos = posBefore+template.startOffset;\\n        node.setSelectionRange( cursorPos, cursorPos );\\n    }\\n    else {\\n        node.setSelectionRange(posBefore+text.length+sStart.length+sEnd.length, posBefore+text.length+sStart.length+sEnd.length );\\n    }\\n};\\n/**\\n * Add an '\\\\' in front of -\\\\^$*+?.()|[]{}\\n */\\nvar regExpEscape = function (s) {\\n    return s.replace(/[-\\\\\\\\^$*+?.()|[\\\\]{}]/g, \\\"\\\\\\\\$&\\\");\\n};\\n/**\\n * Add an element in the DOM.\\n */\\nvar create = function(tag, o) {\\n    var element = document.createElement(tag);\\n    \\n    for (var i in o) {\\n\\tvar val = o[i];\\n\\t\\n\\tif (i === \\\"inside\\\") {\\n\\t    $(val).appendChild(element);\\n\\t}\\n\\telse if (i === \\\"around\\\") {\\n\\t    var ref = $(val);\\n\\t    ref.parentNode.insertBefore(element, ref);\\n\\t    element.appendChild(ref);\\n\\t}\\n\\telse if (i in element) {\\n\\t    element[i] = val;\\n\\t}\\n\\telse {\\n\\t    element.setAttribute(i, val);\\n\\t}\\n    }\\n    \\n    return element;\\n};\\n\\n\\nexports.Completion = Completion;\\n\\n})();\\n\\n    \\n\",\n    \"type\": \"application/javascript\",\n    \"title\": \"$:/plugins/snowgoon88/edit-comptext/completion.js\",\n    \"module-type\": \"library\",\n    \"modified\": \"20251203171653700\"\n}\n,\n\"$:/plugins/snowgoon88/edit-comptext/config\": {\n    \"created\": \"20251203140934946\",\n    \"text\": \"{\\n  \\\"configuration\\\": {\\n      \\\"caseSensitive\\\" : false,\\n      \\\"maxMatch\\\" : 8,\\n      \\\"minPatLength\\\" : 1,\\n      \\\"triggerKeyCombination\\\" : \\\"^ \\\"\\n  },\\n  \\\"template\\\": [{\\n      \\\"pattern\\\": \\\"[[\\\",\\n      \\\"filter\\\": \\\"[all[tiddlers]!is[system]]\\\",\\n      \\\"start\\\": \\\"[[\\\",\\n      \\\"end\\\": \\\"]]\\\"\\n      },\\n      {\\n      \\\"pattern\\\": \\\"||\\\",\\n      \\\"filter\\\": \\\"[all[tiddlers]!is[system]]\\\",\\n      \\\"start\\\": \\\"[[|\\\",\\n      \\\"end\\\": \\\"]]\\\",\\n      \\\"startOffset\\\" : 2\\n      },\\n      {\\n          \\\"pattern\\\": \\\"/\\\",\\n          \\\"body\\\": \\\"[all[shadows+tiddlers]prefix[$:/lithic/slashcommands/]]\\\",\\n          \\\"mask\\\": \\\"$:/lithic/slashcommands/\\\",\\n          \\\"start\\\": \\\"\\\",\\n          \\\"end\\\": \\\"\\\"\\n      },\\n     {\\n      \\\"pattern\\\": \\\"=\\\",\\n      \\\"body\\\":\\\"[all[shadows+tiddlers]prefix[$:/lithic/slashcommands/calc]]\\\",\\n      \\\"mask\\\": \\\"$:/lithic/slashcommands/\\\",\\n      \\\"start\\\": \\\"\\\",\\n      \\\"end\\\": \\\"\\\",\\n      \\\"startOffset\\\": 8\\n      }\\n  ]\\n}\",\n    \"title\": \"$:/plugins/snowgoon88/edit-comptext/config\",\n    \"type\": \"application/json\",\n    \"modified\": \"20251210233949235\"\n}\n,\n\"$:/plugins/sq/streams/streams-edit\": {\n    \"title\": \"$:/plugins/sq/streams/streams-edit\",\n    \"type\": \"application/javascript\",\n    \"text\": \"/*\\\\\\n\\ntitle: $:/plugins/sq/streams/streams-edit\\ntype: application/javascript\\nmodule-type: widget-subclass\\n\\n\\\\*/\\n\\nexports.baseClass = \\\"edit\\\";\\nexports.name = \\\"streams-edit\\\";\\n\\nexports.constructor = function(parseTreeNode,options) {\\n\\tthis.initialise(parseTreeNode,options);\\n}\\nexports.prototype = {};\\n\\nexports.prototype.getEditorType = function() {\\n    var EDITOR_MAPPING_PREFIX = \\\"$:/config/EditorTypeMappings/\\\";\\n    var tiddler = this.wiki.getTiddler(this.editTitle);\\n\\tvar type = tiddler.fields.type || \\\"text/vnd.tiddlywiki\\\";\\n\\tvar editorType;\\n\\tif(type === \\\"text/vnd.tiddlywiki\\\") {\\n\\t\\teditorType = this.wiki.getTiddlerText(\\\"$:/config/sq/streams/editor-engine\\\");\\n\\t\\tif((!$tw.wiki.getTiddler(\\\"$:/plugins/tiddlywiki/codemirror\\\") || $tw.wiki.getTiddlerText(\\\"$:/config/Plugins/Disabled/$:/plugins/tiddlywiki/codemirror\\\",\\\"no\\\") === \\\"yes\\\" || !$tw.modules.titles[\\\"$:/plugins/tiddlywiki/codemirror/edit-codemirror.js\\\"]) && (editorType === \\\"codemirror\\\") ) {\\n\\t\\t\\teditorType = \\\"text\\\";\\n\\t\\t}\\n\\t\\treturn editorType;\\n\\t}\\n\\teditorType = this.wiki.getTiddlerText(EDITOR_MAPPING_PREFIX + type);\\n\\tif(!editorType) {\\n\\t\\tvar typeInfo = $tw.config.contentTypeInfo[type];\\n\\t\\tif(typeInfo && typeInfo.encoding === \\\"base64\\\") {\\n\\t\\t\\teditorType = \\\"binary\\\";\\n\\t\\t} else {\\n\\t\\t\\teditorType = \\\"text\\\";\\n\\t\\t}\\n\\t}\\n\\treturn editorType;\\n};\",\n    \"created\": \"20251127082052133\",\n    \"modified\": \"20251127082110355\",\n    \"module-type\": \"widget-subclass\"\n}\n,\n\"$:/plugins/sq/streams/templates/stream-row-body\": {\n    \"title\": \"$:/plugins/sq/streams/templates/stream-row-body\",\n    \"text\": \"\u003C$vars patternEmpty=\\\"[ ] \\\" patternDoneLower=\\\"[x] \\\" patternDoneUpper=\\\"[X] \\\">\\n\\n\u003C$list filter=\\\"[all[current]get[text]prefix\u003CpatternEmpty>]\\\" variable=\\\"null\\\">\\n  \u003Cdiv class=\\\"lithic-checkbox\\\" style=\\\"display:flex; align-items:flex-start;\\\">\\n    \u003Cdiv style=\\\"margin-right:6px; margin-top:2px;\\\">\\n      \u003C$checkbox tag=\\\"done\\\"/>\\n    \u003C/div>\\n    \\n    \u003Cdiv style={{{ [all[current]tag[done]then[flex:1; text-decoration:line-through; color:gray;]else[flex:1;]] }}}>\\n       \u003C$wikify name=\\\"out\\\" text={{{ [{!!text}removeprefix\u003CpatternEmpty>] }}}>\\n         \u003C\u003Cout>>\\n       \u003C/$wikify>\\n    \u003C/div>\\n  \u003C/div>\\n\u003C/$list>\\n\\n\u003C$list filter=\\\"[all[current]get[text]prefix\u003CpatternDoneLower>]\\\" variable=\\\"null\\\">\\n  \u003Cdiv class=\\\"lithic-checkbox\\\" style=\\\"display:flex; align-items:flex-start; color:gray;\\\">\\n    \u003Cdiv style=\\\"margin-right:6px; margin-top:2px;\\\">\\n      \u003Cinput type=\\\"checkbox\\\" checked disabled>\\n    \u003C/div>\\n    \u003Cdiv style=\\\"flex:1; text-decoration: line-through;\\\">\\n       \u003C$wikify name=\\\"out\\\" text={{{ [{!!text}removeprefix\u003CpatternDoneLower>] }}}>\\n         \u003C\u003Cout>>\\n       \u003C/$wikify>\\n    \u003C/div>\\n  \u003C/div>\\n\u003C/$list>\\n\\n\u003C$list filter=\\\"[all[current]get[text]prefix\u003CpatternDoneUpper>]\\\" variable=\\\"null\\\">\\n  \u003Cdiv class=\\\"lithic-checkbox\\\" style=\\\"display:flex; align-items:flex-start; color:gray;\\\">\\n    \u003Cdiv style=\\\"margin-right:6px; margin-top:2px;\\\">\\n      \u003Cinput type=\\\"checkbox\\\" checked disabled>\\n    \u003C/div>\\n    \u003Cdiv style=\\\"flex:1; text-decoration: line-through;\\\">\\n       \u003C$wikify name=\\\"out\\\" text={{{ [{!!text}removeprefix\u003CpatternDoneUpper>] }}}>\\n         \u003C\u003Cout>>\\n       \u003C/$wikify>\\n    \u003C/div>\\n  \u003C/div>\\n\u003C/$list>\\n\\n\u003C$list filter=\\\"[all[current]get[text]!prefix\u003CpatternEmpty>!prefix\u003CpatternDoneLower>!prefix\u003CpatternDoneUpper>]\\\" variable=\\\"null\\\">\\n   \u003C$transclude field=\\\"text\\\" mode=\\\"block\\\"/>\\n\u003C/$list>\\n\\n\u003C/$vars>\",\n    \"created\": \"20251128152342301\",\n    \"modified\": \"20251128152723692\"\n}\n,\n\"$:/SiteSubtitle\": {\n    \"title\": \"$:/SiteSubtitle\",\n    \"text\": \"a portability-first Outliner PKMS\",\n    \"created\": \"20251128175022248\",\n    \"modified\": \"20251128175028764\"\n}\n,\n\"$:/SiteTitle\": {\n    \"title\": \"$:/SiteTitle\",\n    \"text\": \"Lithic\",\n    \"created\": \"20251128175017546\",\n    \"modified\": \"20251128175018334\"\n}\n,\n\"$:/StoryList\": {\n    \"title\": \"$:/StoryList\",\n    \"created\": \"20251210233722405\",\n    \"text\": \"\",\n    \"list\": \"$:/plugins/snowgoon88/edit-comptext/config $:/JournalArchiveFeed\",\n    \"modified\": \"20251210233722405\"\n}\n,\n\"$:/tags/PageControls\": {\n    \"created\": \"20251129164818539\",\n    \"title\": \"$:/tags/PageControls\",\n    \"text\": \"\",\n    \"list\": \"$:/core/ui/Buttons/home $:/core/ui/Buttons/new-journal $:/lithic/buttons/FullscreenWhiteboard $:/core/ui/Buttons/print $:/core/ui/Buttons/control-panel $:/lithic/ui/RevertButton $:/core/ui/Buttons/save-wiki $:/core/ui/Buttons/more-page-actions $:/themes/nico/notebook/ui/Buttons/SwitchPalette $:/core/ui/Buttons/close-all $:/core/ui/Buttons/unfold-all $:/core/ui/Buttons/fold-all $:/core/ui/Buttons/new-tiddler $:/plugins/tiddlywiki/markdown/new-markdown-button $:/core/ui/Buttons/new-image $:/core/ui/Buttons/import $:/core/ui/Buttons/permaview $:/core/ui/Buttons/export-page $:/core/ui/Buttons/advanced-search $:/core/ui/Buttons/manager $:/core/ui/Buttons/tag-manager $:/core/ui/Buttons/language $:/core/ui/Buttons/palette $:/core/ui/Buttons/theme $:/core/ui/Buttons/storyview $:/core/ui/Buttons/encryption $:/core/ui/Buttons/timestamp $:/core/ui/Buttons/full-screen $:/core/ui/Buttons/refresh $:/core/ui/Buttons/layout $:/core/ui/Buttons/network-activity\",\n    \"modified\": \"20251209141238643\"\n}\n,\n\"$:/tags/SideBar\": {\n    \"created\": \"20251209162340978\",\n    \"text\": \"\",\n    \"list\": \"$:/core/ui/SideBar/Open $:/core/ui/SideBar/Recent $:/core/ui/SideBar/More $:/core/ui/SideBar/Tools\",\n    \"title\": \"$:/tags/SideBar\",\n    \"modified\": \"20251209162411417\"\n}\n,\n\"$:/tags/ViewToolbar\": {\n    \"created\": \"20251129164903456\",\n    \"title\": \"$:/tags/ViewToolbar\",\n    \"text\": \"\",\n    \"list\": \"$:/core/ui/Buttons/more-tiddler-actions $:/core/ui/Buttons/close-others $:/core/ui/Buttons/fold $:/plugins/linonetwo/tw-whiteboard/tiddlywiki-ui/ViewToolbar/Buttons/OpenInFullScreenWhiteBoardButton $:/TiddlyTools/Pin $:/core/ui/Buttons/close $:/core/ui/Buttons/info $:/core/ui/Buttons/edit $:/core/ui/Buttons/delete $:/core/ui/Buttons/clone $:/core/ui/Buttons/export-tiddler $:/core/ui/Buttons/open-window $:/core/ui/Buttons/new-here $:/core/ui/Buttons/new-journal-here $:/core/ui/Buttons/permalink $:/core/ui/Buttons/permaview $:/core/ui/Buttons/fold-others $:/core/ui/Buttons/fold-bar\",\n    \"modified\": \"20251210060903304\"\n}\n,\n\"$:/templates/streams-markdown\": {\n    \"title\": \"$:/templates/streams-markdown\",\n    \"type\": \"text/x-markdown\",\n    \"text\": \"\",\n    \"created\": \"20251127142920093\",\n    \"modified\": \"20251127143031735\",\n    \"tags\": \"\"\n}\n,\n\"$:/theme\": {\n    \"title\": \"$:/theme\",\n    \"text\": \"$:/themes/nico/notebook\",\n    \"created\": \"20210503195850843\",\n    \"modified\": \"20251127071120534\"\n}\n,\n\"$:/themes/nico/notebook\": {\n    \"title\": \"$:/themes/nico/notebook\",\n    \"type\": \"application/json\",\n    \"text\": \"{\\\"tiddlers\\\":{\\\"$:/themes/nico/notebook/LICENSE\\\":{\\\"created\\\":\\\"20200419141443144\\\",\\\"modified\\\":\\\"20210118213330307\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\\\\nMIT License Copyright (c) 2020 [[Nicolas Petton|https://nicolas.petton.fr]] nicolas@petton.fr\\\\n\\\\nPermission is hereby granted, free of charge, to any person obtaining a copy\\\\nof this software and associated documentation files (the \\\\\\\"Software\\\\\\\"), to deal\\\\nin the Software without restriction, including without limitation the rights\\\\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\\\ncopies of the Software, and to permit persons to whom the Software is furnished\\\\nto do so, subject to the following conditions:\\\\n\\\\nThe above copyright notice and this permission notice (including the next\\\\nparagraph) shall be included in all copies or substantial portions of the\\\\nSoftware.\\\\n\\\\nTHE SOFTWARE IS PROVIDED \\\\\\\"AS IS\\\\\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\\\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\\\\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS\\\\nOR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\\\\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF\\\\nOR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\\\\n\\\"},\\\"$:/themes/nico/notebook/themetweaks\\\":{\\\"created\\\":\\\"20201217172915960\\\",\\\"modified\\\":\\\"20210123211851680\\\",\\\"tags\\\":\\\"$:/tags/ControlPanel/Appearance\\\",\\\"caption\\\":\\\"{{$:/language/ThemeTweaks/ThemeTweaks}}\\\",\\\"text\\\":\\\"\\\\\\\\define lingo-base()$:/language/ThemeTweaks/\\\\nYou can tweak certain aspects of the ''Notebook'' theme.\\\\n\\\\n! \u003C\u003Clingo Options>>\\\\n\\\\n|\u003C$link to='$:/themes/nico/notebook/options/stickytitles'>\u003C\u003Clingo Options/StickyTitles>>\u003C/$link>\u003Cbr>//\u003C\u003Clingo Options/StickyTitles/Hint>>// |\u003C$select tiddler='$:/themes/nico/notebook/options/stickytitles'>\u003Coption value=no>{{$:/language/No}}\u003C/option>\u003Coption value=yes>{{$:/language/Yes}}\u003C/option>\u003C/$select> |\\\\n|\u003C$link to='$:/themes/tiddlywiki/vanilla/options/codewrapping'>\u003C\u003Clingo Options/CodeWrapping>>\u003C/$link> |\u003C$select tiddler='$:/themes/tiddlywiki/vanilla/options/codewrapping'>\u003Coption value=pre>{{$:/language/No}}\u003C/option>\u003Coption value=pre-wrap>{{$:/language/Yes}}\u003C/option>\u003C/$select> |\\\\n|\u003C$link to='$:/themes/nico/notebook/options/reveal-tiddler-controls-on-hover'>Reveal tiddler controls on mouseover\u003C/$link> |\u003C$select tiddler='$:/themes/nico/notebook/options/reveal-tiddler-controls-on-hover'>\u003Coption value=no>{{$:/language/No}}\u003C/option>\u003Coption value=yes>{{$:/language/Yes}}\u003C/option>\u003C/$select> |\\\\n! \u003C\u003Clingo Settings>>\\\\n\\\\n|\u003C$link to='$:/themes/nico/notebook/settings/fontfamily'>\u003C\u003Clingo Settings/FontFamily>>\u003C/$link> |\u003C$edit-text tiddler='$:/themes/nico/notebook/settings/fontfamily'default=''tag=input/> |  |\\\\n|\u003C$link to='$:/themes/nico/notebook/settings/codefontfamily'>\u003C\u003Clingo Settings/CodeFontFamily>>\u003C/$link> |\u003C$edit-text tiddler='$:/themes/nico/notebook/settings/codefontfamily'default=''tag=input/> |  |\\\\n|\u003C$link to='$:/themes/nico/notebook/settings/editorfontfamily'>\u003C\u003Clingo Settings/EditorFontFamily>>\u003C/$link> |\u003C$edit-text tiddler='$:/themes/nico/notebook/settings/editorfontfamily'default=''tag=input/> |  |\\\\n! \u003C\u003Clingo Metrics>>\\\\n\\\\n|\u003C$link to='$:/themes/tiddlywiki/vanilla/metrics/fontsize'>\u003C\u003Clingo Metrics/FontSize>>\u003C/$link> |\u003C$edit-text tiddler='$:/themes/tiddlywiki/vanilla/metrics/fontsize'default=''tag=input/> |\\\\n|\u003C$link to='$:/themes/tiddlywiki/vanilla/metrics/lineheight'>\u003C\u003Clingo Metrics/LineHeight>>\u003C/$link> |\u003C$edit-text tiddler='$:/themes/tiddlywiki/vanilla/metrics/lineheight'default=''tag=input/> |\\\\n|\u003C$link to='$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize'>\u003C\u003Clingo Metrics/BodyFontSize>>\u003C/$link> |\u003C$edit-text tiddler='$:/themes/nico/notebook/metrics/bodyfontsize'default=''tag=input/> |\\\\n|\u003C$link to='$:/themes/tiddlywiki/vanilla/metrics/bodylineheight'>\u003C\u003Clingo Metrics/BodyLineHeight>>\u003C/$link> |\u003C$edit-text tiddler='$:/themes/nico/notebook/metrics/bodylineheight'default=''tag=input/> |\\\\n|\u003C$link to='$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint'>\u003C\u003Clingo Metrics/SidebarBreakpoint>>\u003C/$link>\u003Cbr>//\u003C\u003Clingo Metrics/SidebarBreakpoint/Hint>>// |^\u003C$edit-text tiddler='$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint'default=''tag=input/> |\\\\n|\u003C$link to='$:/themes/nico/notebook/metrics/sidebar-width'>\u003C\u003Clingo Metrics/SidebarWidth>>\u003C/$link>\u003Cbr>//\u003C\u003Clingo Metrics/SidebarWidth/Hint>>// |^\u003C$edit-text tiddler='$:/themes/nico/notebook/metrics/sidebar-width'default=''tag=input/> |\\\\n|\u003C$link to='$:/themes/nico/notebook/metrics/story-width'>\u003C\u003Clingo Metrics/StoryWidth>>\u003C/$link>\u003Cbr>//\u003C\u003Clingo Metrics/StoryWidth/Hint>>// |^\u003C$edit-text tiddler='$:/themes/nico/notebook/metrics/story-width'default=''tag=input/> |\\\"},\\\"$:/themes/nico/notebook/base\\\":{\\\"created\\\":\\\"20200419141443144\\\",\\\"modified\\\":\\\"20210120224227503\\\",\\\"tags\\\":\\\"$:/tags/Stylesheet\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\\\\\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline\\\\n\\\\\\\\define if-sidebar(text)\\\\n  \u003C$reveal state=\\\\\\\"$:/state/notebook-sidebar\\\\\\\"type=match text=yes>\\\\n    $text$\\\\n  \u003C/$reveal>\\\\n\\\\\\\\end\\\\n\\\\\\\\define if-reveal-tiddler-controls-on-hover(text)\\\\n  \u003C$reveal state=\\\\\\\"$:/themes/nico/notebook/options/reveal-tiddler-controls-on-hover\\\\\\\"type=match text=yes>\\\\n    $text$\\\\n  \u003C/$reveal>\\\\n\\\\\\\\end\\\\n/* Top and bottom bars */\\\\n\\\\n/* Hide the top-right bar */\\\\n.tc-topbar.tc-topbar-right {\\\\n  display: none;\\\\n}\\\\n\\\\ndiv.tc-sidebar-header {\\\\n  padding: 0;\\\\n  min-height: 0;\\\\n}\\\\n\\\\n.tc-story-river {\\\\n  padding: 6px 0 !important;\\\\n  width: 100% !important;\\\\n  max-width: {{$:/themes/nico/notebook/metrics/story-width}} !important;\\\\n  margin: 0 auto !important;\\\\n  margin-top: 34px !important;\\\\n}\\\\n\\\\ndiv.tc-tiddler-frame {\\\\n  width: 100%;\\\\n  margin: 20px 0;\\\\n  background: \u003C\u003Ccolour tiddler-background>>;\\\\n  box-shadow: 0 5px 20px rgba(0,0,0, 0.12);\\\\n  border-radius: 6px;\\\\n  padding: 42px 60px 60px 60px;\\\\n}\\\\n\\\\nh1.tc-site-title {\\\\n  margin-top: 14px;\\\\n  font-size: 1.5em !important;\\\\n}\\\\n\\\\n.nc-bar {\\\\n  padding: 10px;\\\\n  height: {{$:/themes/nico/notebook/metrics/topbar-height}};\\\\n  background: \u003C\u003Ccolour page-background>>;\\\\n  display: flex;\\\\n  justify-content: space-between;\\\\n}\\\\n\\\\n.nc-topbar-wrapper {\\\\n  position: fixed;\\\\n  top: 0;\\\\n  left: 0;\\\\n  right: 0;\\\\n  /* The z-index needs to be above the z-index used in tiddlers in zoomin view */\\\\n  z-index: 501;\\\\n}\\\\n\\\\n.nc-bar.nc-topbar {\\\\n  top: 0;\\\\n  background: \u003C\u003Ccolour page-background>>ee;\\\\n  max-width: calc({{$:/themes/nico/notebook/metrics/story-width}} + 40px);\\\\n  padding: 10px 20px;\\\\n  margin: 0 auto;\\\\n}\\\\n\\\\n.nc-bar.nc-bottombar {\\\\n  position: fixed;\\\\n  bottom: 0;\\\\n  left: 0;\\\\n  right: 0;\\\\n  /* The z-index needs to be above the z-index used in tiddlers in zoomin view */\\\\n  z-index: 501;\\\\n}\\\\n\\\\n.nc-bar .left svg {\\\\n  fill: \u003C\u003Ccolour sidebar-controls-foreground>>;\\\\n}\\\\n\\\\n.nc-bar input[type=\\\\\\\"search\\\\\\\"] {\\\\n  width: 200px;\\\\n  padding: .6em 1em;\\\\n  margin-top: -.2em;\\\\n  background: \u003C\u003Ccolour sidebar-button-foreground>>44;\\\\n  color: \u003C\u003Ccolour foreground>>cc;\\\\n  transition: all ease-in .2s;\\\\n  border: 1px solid transparent;\\\\n  outline: 0;\\\\n}\\\\n\\\\n.nc-bar input[type=\\\\\\\"search\\\\\\\"]:focus {\\\\n  width: 300px;\\\\n  background: \u003C\u003Ccolour tiddler-background>>;\\\\n  color: \u003C\u003Ccolour foreground>>;\\\\n  border: 1px solid \u003C\u003Ccolour primary>>;\\\\n  box-shadow: 0 0 .2rem 0 \u003C\u003Ccolour primary>>;\\\\n}\\\\n\\\\ninput[type=\\\\\\\"search\\\\\\\"]::-webkit-search-cancel-button {\\\\n  -webkit-appearance: auto;\\\\n}\\\\n\\\\n.nc-bar .tc-block-dropdown.tc-search-drop-down {\\\\n  margin-left: 0;\\\\n  width: 400px;\\\\n  border: 0;\\\\n  box-shadow: 0 0 6px 0 rgba(0,0,0,.2);\\\\n  border-radius: 6px;\\\\n  padding: 20px 0;\\\\n}\\\\n\\\\n.nc-bar p {\\\\n  margin: 0;\\\\n}\\\\n\\\\n.nc-bar .tc-page-controls {\\\\n  margin-top: 0;\\\\n}\\\\n\\\\n.nc-bar .tc-page-controls button {\\\\n  margin-right: .8em;\\\\n}\\\\n\\\\n.nc-bar .tc-page-controls button .tc-btn-text {\\\\n  font-size: 14px;\\\\n}\\\\n\\\\n.nc-bar .tc-block-dropdown {\\\\n  max-height: 70vh;\\\\n  overflow: auto;\\\\n}\\\\n\\\\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\\\n  .nc-topbar {\\\\n    display: none;\\\\n  }\\\\n\\\\n.tc-story-river {\\\\n    padding: 0 !important;\\\\n    margin-top: 0 !important;\\\\n    margin-bottom: 60px !important;\\\\n  }\\\\n\\\\ndiv.tc-tiddler-frame {\\\\n    margin: 0;\\\\n    box-shadow: none;\\\\n    border-radius: 0;\\\\n    border-top: 0;\\\\n  }\\\\n}\\\\n\\\\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\\\n  .nc-bottombar {\\\\n    display: none;\\\\n  }\\\\n}\\\\n\\\\n@media(max-width: 1100px) {\\\\n  .nc-bar input[type=\\\\\\\"search\\\\\\\"] {\\\\n    width: 200px;\\\\n  }\\\\n}\\\\n\\\\n/* Sidebar */\\\\n\\\\n@keyframes sidebar-appear {\\\\n  0%   {\\\\n    left: -{{$:/themes/nico/notebook/metrics/sidebar-width}};\\\\n  }\\\\n  100% {\\\\n    left: 0;\\\\n  }\\\\n}\\\\n\\\\n\u003C\u003Cif-sidebar [[\\\\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\\\n  .nc-sidebar {\\\\n    animation: sidebar-appear .14s;\\\\n    padding-top: 10px;\\\\n  }\\\\n}\\\\n]]>>\\\\n\\\\n.nc-sidebar {\\\\n  background: \u003C\u003Ccolour tiddler-background>>;\\\\n  border-right: 1px solid \u003C\u003Ccolour tiddler-border>>;\\\\n  width: {{$:/themes/nico/notebook/metrics/sidebar-width}};\\\\n  overflow-y: auto;\\\\n  overflow-x: hidden;\\\\n  z-index: 500;\\\\n}\\\\n\\\\n.nc-sidebar .segment {\\\\n  border-bottom: 1px solid rgba(0,0,0,.1);\\\\n}\\\\n\\\\n.nc-sidebar ol {\\\\n  margin: 0;\\\\n  padding: 0;\\\\n  list-style: none;\\\\n  line-height: 1.8em;\\\\n}\\\\n\\\\n.nc-sidebar ol ol {\\\\n  padding-left: 18px;\\\\n}\\\\n\\\\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\\\n  .mobile-only {\\\\n    display: none;\\\\n  }\\\\n}\\\\n\\\\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\\\n  .desktop-only {\\\\n    display: none;\\\\n  }\\\\n}\\\\n\\\\n.nc-sidebar h1.tc-site-title {\\\\n  margin: 0;\\\\n}\\\\n\\\\n.nc-sidebar p {\\\\n  margin: 6px 0;\\\\n}\\\\n\\\\n.nc-sidebar .tc-site-subtitle {\\\\n  color: \u003C\u003Ccolour site-title-foreground>>;\\\\n}\\\\n\\\\n.nc-sidebar .section .label {\\\\n  padding: 2px 0;\\\\n  color: \u003C\u003Ccolour site-title-foreground>>;\\\\n  fill: \u003C\u003Ccolour site-title-foreground>>;\\\\n  font-weight: bold;\\\\n  line-height: 1.6em;\\\\n  display: block;\\\\n  width: 100%;\\\\n  text-align: left;\\\\n  padding: 8px 15px;\\\\n  border-radius: 0;\\\\n}\\\\n\\\\n.nc-sidebar .section:not(.open) .label:hover {\\\\n  background: rgba(0,0,0,.06);\\\\n}\\\\n\\\\n.nc-sidebar .section.open .label {\\\\n  color: \u003C\u003Ccolour tiddler-background>>;\\\\n  fill: \u003C\u003Ccolour tiddler-background>>;\\\\n  background: \u003C\u003Ccolour primary>>;\\\\n  border-bottom: 1px solid rgba(0,0,0,.1);\\\\n}\\\\n\\\\n.nc-sidebar .section .label .caret {\\\\n  display: inline-block;\\\\n  width: 15px;\\\\n  float: right;\\\\n}\\\\n\\\\n.nc-sidebar .content {\\\\n  padding: 6px 15px;\\\\n  font-size: 1em;\\\\n}\\\\n\\\\n.nc-sidebar .tc-tiddlylink {\\\\n  color: \u003C\u003Ccolour primary>>;\\\\n}\\\\n\\\\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\\\n  .nc-sidebar {\\\\n    position: fixed;\\\\n    left: 0;\\\\n    top:  0;\\\\n    bottom: 0;\\\\n  }\\\\n}\\\\n\\\\n\u003C\u003Cif-sidebar [[\\\\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\\\n  @keyframes sidebar-slide {\\\\n    0%   {\\\\n      left: -100vw;\\\\n    }\\\\n    100% {\\\\n      left: 0;\\\\n    }\\\\n  }\\\\n  .nc-sidebar {\\\\n    overflow: auto;\\\\n    position: fixed;\\\\n    width: 100%;\\\\n    left: 0;\\\\n    top: 0;\\\\n    bottom: 48px;\\\\n    z-index: 3000;\\\\n    animation: sidebar-slide ease-in .2s;\\\\n    animation-fill-mode: forwards;\\\\n  }\\\\n}\\\\n\\\\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\\\n  .tc-page-container {\\\\n    margin-left: {{$:/themes/nico/notebook/metrics/sidebar-width}} !important;\\\\n  }\\\\n\\\\n  .nc-topbar-wrapper {\\\\n    left: {{$:/themes/nico/notebook/metrics/sidebar-width}};\\\\n  }\\\\n}\\\\n]]>>\\\\n\\\\n/* Animate the hamburger button */\\\\n\\\\n@keyframes menu-bars-1 {\\\\n  0%   {}\\\\n  100% {\\\\n    transform: rotate(-45deg) translateY(-10px) translateX(-6px);\\\\n    fill: \u003C\u003Ccolour foreground>>;\\\\n  }\\\\n}\\\\n\\\\n@keyframes menu-bars-2 {\\\\n  0%   {}\\\\n  100% { opacity: 0; }\\\\n}\\\\n\\\\n@keyframes menu-bars-3 {\\\\n  0%   {}\\\\n  100% {\\\\n    transform: rotate(45deg) translateY(6px) translateX(2px);\\\\n    fill: \u003C\u003Ccolour foreground>>;\\\\n  }\\\\n}\\\\n\\\\n.sidebar-toggle {\\\\n  /* position: fixed; */\\\\n  /* top: 6px; */\\\\n  /* left: 6px; */\\\\n  /* z-index: 600; */\\\\n  /* padding: 4px; */\\\\n  /* border-radius: 8px; */\\\\n  margin-right: 10px;\\\\n  transition: all ease-in-out .2s;\\\\n  fill: \u003C\u003Ccolour sidebar-controls-foreground>>;\\\\n}\\\\n\\\\n.sidebar-toggle:hover,\\\\n.sidebar-toggle.open {\\\\n  fill: \u003C\u003Ccolour sidebar-controls-foreground-hover>>;\\\\n}\\\\n\\\\n/* @media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) { */\\\\n/*   .sidebar-toggle { */\\\\n/*     top: auto; */\\\\n/*     bottom: 10px; */\\\\n/*     left: 10px; */\\\\n/*   } */\\\\n/* } */\\\\n\\\\n.sidebar-toggle .bars .bar {\\\\n    transform: rotate(0) translateY(0) translateX(0);\\\\n    opacity: 1;\\\\n    transform-origin: 20px 10px;\\\\n    transition: transform 0.4s ease-in-out, opacity 0.2s ease-in-out, fill .4s ease-in-out;\\\\n}\\\\n\\\\n.sidebar-toggle .bars .bar:nth-of-type(3) {\\\\n    transform-origin: 20px 20px;\\\\n}\\\\n\\\\n.sidebar-toggle.open .bars .bar:nth-of-type(1) {\\\\n  animation: menu-bars-1 .6s;\\\\n  animation-fill-mode: forwards;\\\\n}\\\\n.sidebar-toggle.open .bars .bar:nth-of-type(2) {\\\\n  animation: menu-bars-2 .6s;\\\\n  animation-fill-mode: forwards;\\\\n}\\\\n.sidebar-toggle.open .bars .bar:nth-of-type(3) {\\\\n  animation: menu-bars-3 .6s;\\\\n  animation-fill-mode: forwards;\\\\n}\\\\n\\\\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\\\n  div.tc-tiddler-frame {\\\\n    padding: 14px;\\\\n  }\\\\n}\\\\n\\\\n/* Inputs */\\\\n\\\\ninput, textarea {\\\\n  transition: border .14s ease-in-out;\\\\n  background: \u003C\u003Ccolour tiddler-editor-background>>;\\\\n  border: 1px solid \u003C\u003Ccolour tiddler-editor-border>>;\\\\n  padding: .5em;\\\\n  border-radius: 4px;\\\\n}\\\\n\\\\ninput:focus, textarea:focus {\\\\n  box-shadow: 0 0 0.2rem 0 \u003C\u003Ccolour primary>>;\\\\n  outline: 0;\\\\n  border-color: \u003C\u003Ccolour primary>>;\\\\n}\\\\n\\\\nbutton {\\\\n  border-radius: 1.5em;\\\\n  border: 1px solid #ccc;\\\\n  background: \u003C\u003Ccolour tiddler-background>>;\\\\n  padding: .3em 1em;\\\\n  cursor: pointer;\\\\n  transition: box-shadow ease-in .1s;\\\\n  color: \u003C\u003Ccolor foreground>>;\\\\n}\\\\n\\\\nbutton:focus, button:active {\\\\n  outline: 0 none;\\\\n}\\\\n\\\\nbutton.tc-btn-invisible {\\\\n  border-radius: 0;\\\\n}\\\\n\\\\n.tc-editor-toolbar button,\\\\n.tc-editor-toolbar button.tc-btn-invisible {\\\\n  border-radius: 3px;\\\\n  background: \u003C\u003Ccolour tiddler-editor-background>>;\\\\n  color: \u003C\u003Ccolour foreground>>;\\\\n  fill: \u003C\u003Ccolour foreground>>;\\\\n  border: 1px solid \u003C\u003Ccolour tiddler-editor-border>>;\\\\n}\\\\n\\\\n.tc-editor-toolbar button:hover,\\\\n.tc-editor-toolbar button:active {\\\\n  border-color: \u003C\u003Ccolour primary>>;\\\\n  background: \u003C\u003Ccolour primary>>;\\\\n  color: \u003C\u003Ccolour background>>;\\\\n  fill: \u003C\u003Ccolour background>>;\\\\n}\\\\n\\\\n.tc-tiddler-frame input.tc-edit-texteditor,\\\\n.tc-tiddler-frame textarea.tc-edit-texteditor,\\\\n.tc-tiddler-frame iframe.tc-edit-texteditor {\\\\n  transition: border .14s ease-in-out;\\\\n  border: 1px solid \u003C\u003Ccolour tiddler-editor-border>>;\\\\n  background: \u003C\u003Ccolour tiddler-editor-background>>;\\\\n  padding: 4px;\\\\n  border-radius: 4px;\\\\n}\\\\n\\\\n.tc-tiddler-frame input.tc-edit-texteditor:focus,\\\\n.tc-tiddler-frame textarea.tc-edit-texteditor:focus,\\\\n.tc-tiddler-frame iframe.tc-edit-texteditor:focus {\\\\n  box-shadow: 0 0 0.2rem 0 \u003C\u003Ccolour primary>>;\\\\n  outline: 0;\\\\n  border-color: \u003C\u003Ccolour primary>>;\\\\n}\\\\n\\\\n.tc-tiddler-controls .tc-btn-text {\\\\n    font-size: 16px;\\\\n}\\\\n\\\\n\u003C\u003Cif-reveal-tiddler-controls-on-hover [[\\\\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\\\n  .tc-tiddler-frame .tc-tiddler-controls svg {\\\\n    opacity: 0;\\\\n    transition: all .2s ease-in;\\\\n  }\\\\n\\\\n  .tc-tiddler-controls svg.tc-image-close-button,\\\\n  .tc-tiddler-controls .py-toggle-todo-button svg,\\\\n  .tc-tiddler-controls svg.tc-image-done-button,\\\\n  .tc-tiddler-frame .tc-tiddler-controls:hover svg {\\\\n    opacity: 1;\\\\n  }\\\\n\\\\n  .tc-tiddler-controls .py-toggle-todo-button .done svg {\\\\n    fill: #2da562;\\\\n  }\\\\n}\\\\n]]>>\\\\n\\\\nbutton.tc-tag-label, span.tc-tag-label {\\\\n  padding: 0.3em 1em !important;\\\\n}\\\\n\\\\n/* Fonts */\\\\n\\\\nhtml, body {\\\\n  font-family: {{$:/themes/nico/notebook/settings/fontfamily}};\\\\n}\\\\n\\\\n.tc-tiddler-frame input.tc-edit-texteditor,\\\\n.tc-tiddler-frame textarea.tc-edit-texteditor,\\\\n.tc-tiddler-frame iframe.tc-edit-texteditor {\\\\n  font-family: {{$:/themes/nico/notebook/settings/editorfontfamily}};\\\\n}\\\\n\\\\npre, code {\\\\n  font-family: {{$:/themes/nico/notebook/settings/codefontfamily}};\\\\n}\\\\n\\\\n.tc-titlebar, .tc-site-title {\\\\n  font-size: 28px !important;\\\\n  line-height: 34px !important;\\\\n  font-weight: 600 !important;\\\\n  letter-spacing: -0.5px !important;\\\\n}\\\\n\\\\nh1, h2, h3, h4, h5, h6 {\\\\n  font-weight: 600;\\\\n}\\\\n\\\\n.tc-tiddler-body h1,\\\\n.tc-tiddler-body h2,\\\\n.tc-tiddler-preview-preview h1,\\\\n.tc-tiddler-preview-preview h2 {\\\\n  font-weight: bold;\\\\n}\\\\n\\\\ndiv.tc-tiddler-frame .tc-tiddler-body {\\\\n  font-size: {{$:/themes/nico/notebook/metrics/bodyfontsize}};\\\\n  line-height: {{$:/themes/nico/notebook/metrics/bodylineheight}};\\\\n}\\\\n\\\\n/* Tabs */\\\\n\\\\ndiv.tc-tab-buttons {\\\\n  margin-bottom: -4px;\\\\n}\\\\n\\\\ndiv.tc-tab-buttons button {\\\\n  font-weight: bold;\\\\n  font-size: 1.2em;\\\\n  line-height: 1em;\\\\n  padding: .6em .8em .4em .8em;\\\\n  border: 0;\\\\n  border-radius: 0;\\\\n  background: transparent;\\\\n  cursor: pointer;\\\\n  transition: background ease-in .2s;\\\\n}\\\\n\\\\ndiv.tc-tab-buttons button:hover {\\\\n  background: rgba(0,0,0,.03);\\\\n}\\\\n\\\\ndiv.tc-tab-buttons button.tc-tab-selected {\\\\n  border: 0;\\\\n  background: transparent;\\\\n  border-bottom: 4px solid \u003C\u003Ccolour primary>>;\\\\n}\\\\n\\\\n/* Dropdowns */\\\\n\\\\n@keyframes pop {\\\\n  0% {\\\\n    transform: scale(0.8);\\\\n    opacity: 0;\\\\n  }\\\\n\\\\n80% {\\\\n    transform: scale(1.03);\\\\n    opacity: 1;\\\\n  }\\\\n\\\\n100% {\\\\n    transform: scale(1);\\\\n    opacity: 1;\\\\n  }\\\\n}\\\\n\\\\n.tc-drop-down {\\\\n  box-shadow: 0 0 10px rgba(0,0,0,.2);\\\\n  border-radius: 6px;\\\\n  padding: 10px 0 !important;\\\\n  animation: pop .15s ease-in forwards;\\\\n}\\\\n\\\\n.tc-drop-down a, .tc-drop-down button {\\\\n  padding: 3px 15px !important;\\\\n}\\\\n\\\\n.tc-search-results {\\\\n  line-height: 2em;\\\\n}\\\\n\\\\n.tc-search-results em {\\\\n  font-weight: bold;\\\\n  font-style: normal;\\\\n}\\\\n\\\\n/* Draft list */\\\\n\\\\n.tc-drafts-list {\\\\n  font-size: .9em;\\\\n  left: auto;\\\\n  right: 0;\\\\n}\\\\n\\\\n.tc-drafts-list a {\\\\n  padding: 6px 12px;\\\\n  font-weight: bold;\\\\n  border-top-left-radius: 6px;\\\\n  border-top-right-radius: 6px;\\\\n  display: inline-block;\\\\n}\\\\n\\\\n.nc-refs {\\\\n  color: #888;\\\\n  font-size: .9em;\\\\n}\\\\n\\\\n.nc-refs h4 {\\\\n  margin-bottom: 4px;\\\\n}\\\\n\\\\n.nc-post-created {\\\\n  color: #acacac;\\\\n  font-size: .8em;\\\\n}\\\\n\\\"},\\\"$:/themes/nico/notebook/changelog\\\":{\\\"caption\\\":\\\"ChangeLog\\\",\\\"created\\\":\\\"20201217180707912\\\",\\\"modified\\\":\\\"20210202214001915\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"! 1.4.1\\\\n\\\\n!! Fixes\\\\n\\\\n* Fix the transclusion mode of sidebar sections\\\\n* Fix section title rendering for tiddlers without a caption field\\\\n* Fix the colour of links in the sidebar when using Notebook palettes with Vanilla\\\\n\\\\n! 1.4.0\\\\n\\\\n!! Features\\\\n\\\\n* New redesigned topbar layout\\\\n* Add a configuration setting for the story width\\\\n* Add support for keyboard navigation in the search dropdown\\\\n\\\\n! 1.3.6\\\\n\\\\n!! Improvements\\\\n\\\\n* Improve the style of tabs\\\\n* New animation for drop-downs\\\\n* Use a lighter page background colour in the beige palette\\\\n\\\\n!! Fixes\\\\n\\\\n* Fix the default ctrl+shift+F shortcut for focusing the search input\\\\n\\\\n! 1.3.5\\\\n\\\\n!! Features\\\\n\\\\n* Add an option to reveal tiddler controls on mouseover\\\\n\\\\n! 1.3.4\\\\n\\\\n!! Improvements\\\\n\\\\n* Add a keyboard shortcut (alt+shift+s) to toggle Notebook sidebar\\\\n* Add missing colours to tiddler editor fields in the dark palette\\\\n\\\\n!! Fixes\\\\n\\\\n* Fix the size of toolbar button labels when the $:/config/Toolbar/Text is set to yes\\\\n\\\\n! 1.3.3\\\\n\\\\n!! Improvements\\\\n\\\\n* Make the sidebar more generic by using the default sidebar sections\\\\n\\\\n! 1.3.2\\\\n\\\\n!! Improvements\\\\n\\\\n* Add colours for messages in the dark palette\\\\n* Add colours for notification in the dark palette\\\\n* Set colours for messages in the beige palette\\\\n\\\\n! 1.3.1\\\\n\\\\n!! Features\\\\n\\\\n* New font family settings distinct from the Vanilla theme\\\\n\\\\n!! Improvements\\\\n\\\\n* Use a slightly lighter colour as the search input background\\\\n* Improve contrast of sidebar buttons in the dark palette\\\\n\\\\n!! Fixes\\\\n\\\\n* Fix tiddler control button colours in all three palettes\\\\n* Fix tab colours in palette-dark\\\\n\\\\n! 1.3.0\\\\n\\\\n!! Improvements\\\\n\\\\n* New dark colour palette\\\\n* Use a darker color for tiddler subtitles\\\\n* Add back the WebKit search cancel button in search inputs\\\\n\\\\n!! Fixes\\\\n\\\\n* Fix the z-index of the topbar for the zoomin story view\\\\n* Fix the font weight of tiddler titles in edit mode\\\\n\\\\n! 1.2.0\\\\n\\\\n!! Improvements\\\\n\\\\n* Better support for dark colour palettes\\\\n\\\\n!! Fixes\\\\n\\\\n* Fix rendering of overflowing/wrapping text in the sidebar\\\\n\\\\n! 1.1.0\\\\n\\\\n!! Features\\\\n\\\\n* New theme tweaks tab dedicated to Notebook in the control panel\\\\n* Inputs in the edit template are now styled consistently with other inputs\\\\n\\\\n!! Fixes\\\\n\\\\n* Fixes the position of sticky tiddler titles when the option is turned on\\\\n\\\"},\\\"$:/config/ShortcutInfo/notebook-focus-search\\\":{\\\"text\\\":\\\"Focus on the topbar search field\\\"},\\\"$:/config/shortcuts/notebook-focus-search\\\":{\\\"text\\\":\\\"ctrl+shift+F\\\"},\\\"$:/config/Search/AutoFocus\\\":{\\\"text\\\":\\\"false\\\"},\\\"$:/config/shortcuts/sidebar-search\\\":{\\\"text\\\":\\\"\\\"},\\\"$:/themes/nico/notebook/images/bars\\\":{\\\"created\\\":\\\"20200428212322206\\\",\\\"modified\\\":\\\"20201210210231235\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\u003Csvg class=bars height=21pt viewBox=\\\\\\\"0 0 42 42\\\\\\\"enable-background=\\\\\\\"new 0 0 32 22.5\\\\\\\"xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\"version=1.1>\\\\n  \u003Cg class=svg-menu-toggle sketch:type=MSLayerGroup>\\\\n    \u003Crect class=bar x=8 y=28 width=26 height=4>\u003C/rect>\\\\n    \u003Crect class=bar x=8 y=19 width=26 height=4>\u003C/rect>\\\\n    \u003Crect class=bar x=8 y=10 width=26 height=4>\u003C/rect>\\\\n  \u003C/g>\\\\n\u003C/svg>\\\\n\\\"},\\\"$:/themes/nico/notebook/images/caret-down\\\":{\\\"created\\\":\\\"20200429194348688\\\",\\\"modified\\\":\\\"20201210210230919\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\u003Csvg xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\"viewBox=\\\\\\\"0 0 320 512\\\\\\\"width=6pt>\u003Cpath d=\\\\\\\"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z\\\\\\\"/>\u003C/svg>\\\\n\\\"},\\\"$:/themes/nico/notebook/images/caret-right\\\":{\\\"created\\\":\\\"20200429194305719\\\",\\\"modified\\\":\\\"20201210210230909\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\u003Csvg xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\"viewBox=\\\\\\\"0 0 192 512\\\\\\\"width=4pt>\u003Cpath d=\\\\\\\"M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z\\\\\\\"/>\u003C/svg>\\\\n\\\"},\\\"$:/themes/nico/notebook/images/color-switch\\\":{\\\"created\\\":\\\"20201210170859810\\\",\\\"creator\\\":\\\"nico\\\",\\\"modified\\\":\\\"20201210205606403\\\",\\\"modifier\\\":\\\"nico\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\u003Csvg width=20px height=20px viewBox=\\\\\\\"0 0 16 16\\\\\\\"class=\\\\\\\"bi bi-circle-half\\\\\\\"xmlns=\\\\\\\"http://www.w3.org/2000/svg\\\\\\\"fill=currentColor>\\\\n  \u003Cpath d=\\\\\\\"M8 15V1a7 7 0 1 1 0 14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z\\\\\\\"fill-rule=evenodd/>\\\\n\u003C/svg\\\\n\\\"},\\\"$:/themes/nico/notebook/metrics/bodyfontsize\\\":{\\\"created\\\":\\\"20200428203454207\\\",\\\"modified\\\":\\\"20201210205606363\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"15px\\\\n\\\"},\\\"$:/themes/nico/notebook/metrics/bodylineheight\\\":{\\\"created\\\":\\\"20200428203454207\\\",\\\"modified\\\":\\\"20201210205606363\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"22px\\\"},\\\"$:/themes/nico/notebook/metrics/sidebar-width\\\":{\\\"created\\\":\\\"20200429144554294\\\",\\\"modified\\\":\\\"20201210210231246\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"350px\\\\n\\\"},\\\"$:/themes/nico/notebook/metrics/story-width\\\":{\\\"created\\\":\\\"20210123210054185\\\",\\\"modified\\\":\\\"20210123211911688\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"800px\\\\n\\\"},\\\"$:/themes/nico/notebook/metrics/topbar-height\\\":{\\\"created\\\":\\\"20200428203454207\\\",\\\"modified\\\":\\\"20201210205606363\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"52px\\\\n\\\"},\\\"$:/themes/nico/notebook/options/stickytitles\\\":{\\\"text\\\":\\\"no\\\"},\\\"$:/themes/nico/notebook/options/codewrapping\\\":{\\\"text\\\":\\\"pre-wrap\\\"},\\\"$:/themes/nico/notebook/options/reveal-tiddler-controls-on-hover\\\":{\\\"text\\\":\\\"no\\\"},\\\"$:/core/ui/PageTemplate/sidebar\\\":{\\\"created\\\":\\\"20200430072116835\\\",\\\"modified\\\":\\\"20201217174129501\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\\\\\\\\define config-title()$:/config/SideBarSegments/Visibility/$(listItem)$\\\\nOverwritten by[[$:/themes/nico/notebook]]so that the default sidebar does not get rendered.\\\"},\\\"$:/themes/tiddlywiki/vanilla/themetweaks\\\":{\\\"caption\\\":\\\"{{$:/language/ThemeTweaks/ThemeTweaks}}\\\",\\\"created\\\":\\\"20201217163834291\\\",\\\"modified\\\":\\\"20201217163914434\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"Overwritten by $:/themes/nico/notebook so that the Vanilla theme tweaks do not appear in the control panel. \\\"},\\\"$:/themes/nico/notebook/palettes/palette-dark\\\":{\\\"text\\\":\\\"alert-background: #643b43\\\\nalert-border: #3f181f\\\\nalert-highlight: #881122\\\\nalert-muted-foreground: #bc8b94\\\\nbackground: #383e49\\\\nblockquote-bar: \u003C\u003Ccolour muted-foreground>>\\\\nbutton-background:\\\\nbutton-border:\\\\nbutton-foreground:\\\\ncode-background: #2c323b\\\\ncode-border: #111\\\\ncode-foreground: #dd1144\\\\ndirty-indicator: #c63636\\\\ndownload-background: #98be65\\\\ndownload-foreground: \u003C\u003Ccolour background>>\\\\ndragger-background: \u003C\u003Ccolour foreground>>\\\\ndragger-foreground: \u003C\u003Ccolour background>>\\\\ndropdown-background: \u003C\u003Ccolour background>>\\\\ndropdown-border: #111\\\\ndropdown-tab-background-selected: #fff\\\\ndropdown-tab-background: #ececec\\\\ndropzone-background: #da8548\\\\nexternal-link-background-hover: inherit\\\\nexternal-link-background-visited: inherit\\\\nexternal-link-background: inherit\\\\nexternal-link-foreground-hover: inherit\\\\nexternal-link-foreground-visited: #61afef\\\\nexternal-link-foreground: #c678dd\\\\nforeground: #c8ced8\\\\nmessage-background: #2c323e\\\\nmessage-border: #111\\\\nmessage-foreground: #d5e2f1\\\\nmodal-backdrop: \u003C\u003Ccolour foreground>>\\\\nmodal-background: \u003C\u003Ccolour background>>\\\\nmodal-border: #999999\\\\nmodal-footer-background: #f5f5f5\\\\nmodal-footer-border: #dddddd\\\\nmodal-header-border: #eeeeee\\\\nmuted-foreground: #999999\\\\nnotification-background: #3a5e39\\\\nnotification-border: #192c19\\\\npage-background: #262b33\\\\npre-background: \u003C\u003Ccolour page-background>>\\\\npre-border: \u003C\u003Ccolour tiddler-border>>\\\\nprimary: #bf93ff\\\\nselect-tag-background:\\\\nselect-tag-foreground:\\\\nsidebar-button-foreground: #5e646f\\\\nsidebar-controls-foreground-hover: #cad2e5\\\\nsidebar-controls-foreground: \u003C\u003Ccolour sidebar-button-foreground>>\\\\nsidebar-foreground-shadow: rgba(255,255,255, 0.8)\\\\nsidebar-foreground: #cad2e5\\\\nsidebar-muted-foreground-hover: #444444\\\\nsidebar-muted-foreground: #c0c0c0\\\\nsidebar-tab-background-selected: \u003C\u003Ccolour tab-background-selected>>\\\\nsidebar-tab-background: \u003C\u003Ccolour tab-background>>\\\\nsidebar-tab-border-selected: \u003C\u003Ccolour tab-border-selected>>\\\\nsidebar-tab-border: \u003C\u003Ccolour tab-border>>\\\\nsidebar-tab-divider: \u003C\u003Ccolour tab-divider>>\\\\nsidebar-tab-foreground-selected: \u003C\u003Ccolour tab-foreground-selected>>\\\\nsidebar-tab-foreground: \u003C\u003Ccolour tab-foreground>>\\\\nsidebar-tiddler-link-foreground-hover: \u003C\u003Ccolour primary>>\\\\nsidebar-tiddler-link-foreground: \u003C\u003Ccolour tab-foreground>>\\\\nsite-title-foreground: \u003C\u003Ccolour foreground>>\\\\nstatic-alert-foreground: #aaaaaa\\\\ntab-background-selected: \u003C\u003Ccolour background>>\\\\ntab-background: \u003C\u003Ccolour page-background>>\\\\ntab-border-selected: \u003C\u003Ccolour foreground>>\\\\ntab-border: #cad2e5\\\\ntab-divider: #cad2e5\\\\ntab-foreground-selected: #ecf2ff\\\\ntab-foreground: #cad2e5\\\\ntable-border: #aaaaaa\\\\ntable-footer-background: #a8a8a8\\\\ntable-header-background: #262b33\\\\ntag-background: #fcb671\\\\ntag-foreground: #000\\\\ntiddler-background: \u003C\u003Ccolour background>>\\\\ntiddler-border: #111\\\\ntiddler-controls-foreground-hover: #cad2e5\\\\ntiddler-controls-foreground-selected: #cad2e5\\\\ntiddler-controls-foreground: #5e646f\\\\ntiddler-editor-background: \u003C\u003Ccolour background>>\\\\ntiddler-editor-border-image: #ffffff\\\\ntiddler-editor-border: rgba(255, 255, 255, 0.3)\\\\ntiddler-editor-fields-even: \u003C\u003Ccolour background>>\\\\ntiddler-editor-fields-odd: #2c323b\\\\ntiddler-info-background: #f8f8f8\\\\ntiddler-info-border: #dddddd\\\\ntiddler-info-tab-background: #f8f8f8\\\\ntiddler-link-background: \u003C\u003Ccolour background>>\\\\ntiddler-link-foreground: \u003C\u003Ccolour primary>>\\\\ntiddler-subtitle-foreground: #aaaaaa\\\\ntiddler-title-foreground: \u003C\u003Ccolour foreground>>\\\\ntoolbar-cancel-button:\\\\ntoolbar-close-button:\\\\ntoolbar-delete-button:\\\\ntoolbar-done-button:\\\\ntoolbar-edit-button:\\\\ntoolbar-info-button:\\\\ntoolbar-new-button:\\\\ntoolbar-options-button:\\\\ntoolbar-save-button:\\\\nuntagged-background: #999999\\\\nvery-muted-foreground: #888888\\\\n\\\",\\\"type\\\":\\\"application/x-tiddler-dictionary\\\",\\\"description\\\":\\\"A dark colour palette for Notebook\\\",\\\"name\\\":\\\"Notebook Dark\\\",\\\"tags\\\":\\\"$:/tags/Palette $:/tags/notebook/Palette\\\"},\\\"$:/themes/nico/notebook/settings/codefontfamily\\\":{\\\"created\\\":\\\"20210101213404232\\\",\\\"modified\\\":\\\"20210101214210227\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\\\\\\\"Fira Mono\\\\\\\",\\\\\\\"Liberation Mono\\\\\\\",Menlo,Courier,monospace\\\\n\\\"},\\\"$:/themes/nico/notebook/settings/fontfamily\\\":{\\\"created\\\":\\\"20210101213404232\\\",\\\"modified\\\":\\\"20210101213411800\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\\\\\\\"Segoe UI\\\\\\\",Helvetica,Arial,sans-serif,\\\\\\\"Apple Color Emoji\\\\\\\",\\\\\\\"Segoe UI Emoji\\\\\\\",\\\\\\\"Segoe UI Symbol\\\\\\\"\\\\n\\\"},\\\"$:/themes/nico/notebook/shortcuts/notebook-focus-search\\\":{\\\"created\\\":\\\"20201210122048919\\\",\\\"key\\\":\\\"((notebook-focus-search))\\\",\\\"modified\\\":\\\"20210115130024907\\\",\\\"tags\\\":\\\"$:/tags/KeyboardShortcut\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\u003C$action-sendmessage $param=\\\\\\\".nc-topbar input\\\\\\\"$message=tm-focus-selector/>\\\\n\\\"},\\\"$:/themes/nico/notebook/shortcuts/toggle-sidebar\\\":{\\\"created\\\":\\\"20210115130000707\\\",\\\"key\\\":\\\"((toggle-sidebar))\\\",\\\"modified\\\":\\\"20210115130021883\\\",\\\"tags\\\":\\\"$:/tags/KeyboardShortcut\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\u003C$list filter=\\\\\\\"[[$:/state/notebook-sidebar]is[missing]][{$:/state/notebook-sidebar}removeprefix[yes]]\\\\\\\"emptyMessage=\\\\\\\"\\\\\\\"\\\\\\\"\u003C$action-setfield $tiddler=\\\\\\\"$:/state/notebook-sidebar\\\\\\\"text=yes/>\\\\\\\"\\\\\\\"\\\\\\\">\\\\n  \u003C$action-setfield $tiddler=\\\\\\\"$:/state/notebook-sidebar\\\\\\\"text=no/>\\\\n\u003C/$list>\\\\n\\\"},\\\"$:/themes/nico/notebook/stickytitles\\\":{\\\"created\\\":\\\"20201217172915960\\\",\\\"modified\\\":\\\"20201217180034682\\\",\\\"tags\\\":\\\"$:/tags/Stylesheet\\\",\\\"text\\\":\\\"\u003C$reveal state=\\\\\\\"$:/themes/nico/notebook/options/stickytitles\\\\\\\"type=match text=yes>\\\\n\\\\n.tc-tiddler-title {\\\\n  position: -webkit-sticky;\\\\n  position: -moz-sticky;\\\\n  position: -o-sticky;\\\\n  position: -ms-sticky;\\\\n  position: sticky;\\\\n  top: {{$:/themes/nico/notebook/metrics/topbar-height}};\\\\n  background: \u003C\u003Ccolour tiddler-background>>;\\\\n  z-index: 500;\\\\n}\\\\n\\\\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\\\n  .tc-tiddler-title {\\\\n    top: 0;\\\\n  }\\\\n}\\\\n\\\\n\u003C$list filter=[range[100]]>\\\\n`.tc-story-river .tc-tiddler-frame:nth-child(100n+`\u003C$text text={{!!title}}/>`) {\\\\nz-index: `\u003C$text text={{{[[200]subtract{!!title}]}}}/>`;\\\\n}\\\\n`\\\\n\u003C/$list>\\\\n\\\"},\\\"$:/themes/nico/notebook/tags/Sidebar\\\":{\\\"created\\\":\\\"20200429164516951\\\",\\\"list\\\":\\\"$:/themes/nico/notebook/ui/Buttons/menu $:/themes/nico/notebook/ui/Sidebar/Headings $:/themes/nico/notebook/ui/Sidebar/Search $:/themes/nico/notebook/Sidebar/Sections\\\",\\\"modified\\\":\\\"20201210205606504\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\"},\\\"$:/themes/nico/notebook/tags/SidebarSection\\\":{\\\"created\\\":\\\"20200429201017275\\\",\\\"list\\\":\\\"$:/themes/nico/notebook/ui/Sidebar/Open $:/themes/nico/notebook/ui/Sidebar/Recent $:/themes/nico/notebook/ui/Sidebar/Tools $:/themes/nico/notebook/ui/Sidebar/More\\\",\\\"modified\\\":\\\"20201210215658901\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\"},\\\"$:/themes/nico/notebook/ui/Bottombar\\\":{\\\"created\\\":\\\"20200429113453340\\\",\\\"modified\\\":\\\"20201210210230886\\\",\\\"tags\\\":\\\"$:/tags/PageTemplate\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\u003C$reveal state=\\\\\\\"$:/state/notebook-bottombar\\\\\\\"type=match text=yes default=yes retain=yes animate=yes>\\\\n  \u003Cdiv class=\\\\\\\"nc-bar nc-bottombar\\\\\\\">\\\\n    \u003C$list filter=\\\\\\\"[[$:/tags/NotebookTopbar]tagging[]!is[draft]]\\\\\\\"variable=listItem>\\\\n      \u003C$reveal type=nomatch state=\u003C\u003Cconfig-title>>text=hide tag=div>\\\\n        \u003C$transclude tiddler=\u003C\u003ClistItem>>mode=block/>\\\\n      \u003C/$reveal>\\\\n    \u003C/$list>\\\\n    \u003Cdiv class=left>\\\\n      {{$:/themes/nico/notebook/ui/Buttons/menu}}\\\\n    \u003C/div>\\\\n    \u003Cdiv class=right>\\\\n      {{$:/core/ui/SideBarSegments/page-controls}}\\\\n    \u003C/div>\\\\n  \u003C/div>\\\\n\\\"},\\\"$:/themes/nico/notebook/ui/Buttons/SwitchPalette\\\":{\\\"created\\\":\\\"20201210171047824\\\",\\\"description\\\":\\\"Toggle between grey/beige colour palette\\\",\\\"modified\\\":\\\"20210118213335643\\\",\\\"tags\\\":\\\"$:/tags/PageControls\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\u003Cspan class=desktop-only>\\\\n  \u003C$let popupTiddler=\u003C\u003Cqualify [[$:/state/notebook/palette-dropdown]]>>palettes=\\\\\\\"[all[tiddlers+shadows]tag[$:/tags/notebook/Palette]]\\\\\\\">\\\\n    \u003C$button popup=\u003C\u003CpopupTiddler>>tooltip=\\\\\\\"Switch colours\\\\\\\"aria-label=\\\\\\\"Switch colours\\\\\\\"class=\u003C\u003Ctv-config-toolbar-class>>>\\\\n      \u003C$list filter=\\\\\\\"[\u003Ctv-config-toolbar-icons>match[yes]]\\\\\\\">\\\\n\\\\t{{$:/themes/nico/notebook/images/color-switch}}\\\\n      \u003C/$list>\\\\n\\\\n      \u003C$list filter=\\\\\\\"[\u003Ctv-config-toolbar-text>match[yes]]\\\\\\\">\\\\n\\\\t\u003Cspan class=tc-btn-text>Switch colours\u003C/span>\\\\n      \u003C/$list>\\\\n\\\\n      \u003C$reveal state=\u003C\u003CpopupTiddler>>type=popup position=belowleft class=tc-drop-down>\\\\n\\\\t\u003C$list filter=\u003C\u003Cpalettes>>>\\\\n\\\\t  \u003C$button class=tc-btn-invisible>\\\\n\\\\t    {{!!name}}\\\\n\\\\t    \u003C$action-setfield $tiddler=\\\\\\\"$:/palette\\\\\\\"text={{!!title}}/>\\\\n\\\\t  \u003C/$button>\\\\n\\\\t\u003C/$list>\\\\n      \u003C/$reveal>\\\\n\\\\n    \u003C/$button>\\\\n  \u003C/$let>\\\\n\u003C/span>\\\\n\\\"},\\\"$:/themes/nico/notebook/ui/Buttons/menu\\\":{\\\"created\\\":\\\"20200429115248943\\\",\\\"modified\\\":\\\"20210124211756417\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\u003C$reveal state=\\\\\\\"$:/state/notebook-sidebar\\\\\\\"type=match text=yes default=no retain=yes animate=no>\\\\n  \u003C$button set=\\\\\\\"$:/state/notebook-sidebar\\\\\\\"tooltip=\\\\\\\"Toggle menu\\\\\\\"class=\\\\\\\"tc-btn-invisible sidebar-toggle open\\\\\\\"setTo=no>\\\\n    {{$:/themes/nico/notebook/images/bars}}\\\\n  \u003C/$button>\\\\n\u003C/$reveal>\\\\n\\\\n\u003C$reveal type=nomatch state=\\\\\\\"$:/state/notebook-sidebar\\\\\\\"text=yes>\\\\n  \u003C$button set=\\\\\\\"$:/state/notebook-sidebar\\\\\\\"tooltip=\\\\\\\"Toggle menu\\\\\\\"class=\\\\\\\"tc-btn-invisible sidebar-toggle\\\\\\\"setTo=yes>\\\\n    {{$:/themes/nico/notebook/images/bars}}\\\\n  \u003C/$button>\\\\n\u003C/$reveal>\\\\n\\\"},\\\"$:/themes/nico/notebook/ui/Search\\\":{\\\"created\\\":\\\"20200429191943257\\\",\\\"modified\\\":\\\"20210126170723413\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\\\\\\\\define advanced-search-actions()\\\\n\u003C$action-setfield $tiddler=\\\\\\\"$:/temp/advancedsearch/input\\\\\\\"text={{$:/temp/notebook-search}}/>\\\\n\u003C$action-setfield $tiddler=\\\\\\\"$:/temp/advancedsearch/refresh\\\\\\\"text=yes/>\\\\n\u003C$action-navigate $to=\\\\\\\"$:/AdvancedSearch\\\\\\\"/>\\\\n\\\\\\\\end\\\\n\\\\\\\\define input-accept-actions()\\\\n\u003C$list filter=\\\\\\\"[\u003C__tiddler__>get[text]!is[missing]]~[\u003C__tiddler__>get[text]is[shadow]]\\\\\\\">\\\\n  \u003C$action-navigate $to={{{[\u003C__tiddler__>get[text]]}}}/>\\\\n  \u003C$action-deletetiddler $filter=\\\\\\\"[[$:/temp/search]] [\u003CsearchTiddler>] [\u003CsearchListState>]\\\\\\\"/>\\\\n\\\\n\\\\\\\\end\\\\n\\\\\\\\define cancel-search-actions()\\\\n\u003C$list filter=\\\\\\\"[\u003CsearchTiddler>get[text]!match{$:/temp/search}]\\\\\\\"emptyMessage=\\\\\\\"\\\\\\\"\\\\\\\"\u003C$action-deletetiddler $filter=\\\\\\\"[[$:/temp/search]] [\u003CsearchTiddler>] [\u003CsearchListState>]\\\\\\\"/>\\\\\\\"\\\\\\\"\\\\\\\">\\\\n  \u003C$action-setfield $tiddler=\\\\\\\"$:/temp/search\\\\\\\"text={{{[\u003CsearchTiddler>get[text]]}}}/>\\\\n  \u003C$action-setfield $tiddler=\\\\\\\"$:/temp/search/refresh\\\\\\\"text=yes/>\\\\n\\\\\\\\end\\\\n\u003C$let searchListState=\u003C\u003Cqualify [[$:/state/search-list/selected-item]]>>editTiddler=\\\\\\\"$:/temp/search\\\\\\\"searchTiddler=\\\\\\\"$:/temp/search/input\\\\\\\">\\\\n  \u003C$macrocall $name=keyboard-driven-input tiddler=\u003C\u003CeditTiddler>>storeTitle=\u003C\u003CsearchTiddler>>selectionStateTitle=\u003C\u003CsearchListState>>refreshTitle=\\\\\\\"$:/temp/search/refresh\\\\\\\"type=search tag=input focus={{$:/config/Search/AutoFocus}}focusPopup=\\\\\\\"$:/state/popup/notebook-search\\\\\\\"class=tc-popup-handle filterMinLength={{$:/config/Search/MinLength}}placeholder=Search... inputAcceptActions=\u003C\u003Cinput-accept-actions>>inputCancelActions=\u003C\u003Ccancel-search-actions>>configTiddlerFilter=\\\\\\\"[[$:/state/search/currentTab]!is[missing]get[text]] ~[{$:/config/SearchResults/Default}]\\\\\\\"cancelPopups=yes/>\\\\n  \u003C$button tooltip={{$:/language/Buttons/AdvancedSearch/Hint}}aria-label={{$:/language/Buttons/AdvancedSearch/Caption}}class=\\\\\\\"tc-btn-invisible tc-page-controls\\\\\\\">\\\\n    {{$:/core/images/advanced-search-button}}\\\\n    \u003C\u003Cadvanced-search-actions>>\\\\n  \u003C/$button>\\\\n  \u003C$reveal tag=div class=tc-block-dropdown-wrapper state=\\\\\\\"$:/state/popup/notebook-search\\\\\\\"text=\\\\\\\"\\\\\\\"default=\\\\\\\"\\\\\\\"type=nomatch>\\\\n    \u003C$list filter=\\\\\\\"[\u003CsearchTiddler>get[text]minlength{$:/config/Search/MinLength}nth[]]\\\\\\\"emptyMessage=\\\\\\\"\\\\\\\"variable=listItem>\\\\n      \u003Cdiv class=\\\\\\\"tc-block-dropdown tc-search-drop-down\\\\\\\">\\\\n        \u003C$tiddler tiddler=\u003C\u003CconfigTiddler>>>\\\\n          {{$:/themes/nico/notebook/ui/Sidebar/SearchResults}}\\\\n        \u003C/$tiddler>\\\\n      \u003C/div>\\\\n    \u003C/$list>\\\\n  \u003C/$reveal>\\\\n\u003C/$let>\\\\n\\\"},\\\"$:/themes/nico/notebook/ui/Sidebar/Headings\\\":{\\\"created\\\":\\\"20200429160014174\\\",\\\"modified\\\":\\\"20201210210231267\\\",\\\"tags\\\":\\\"$:/themes/nico/notebook/tags/Sidebar\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\u003Cdiv class=segment>\\\\n  \u003Cdiv class=content>\\\\n    \u003Ch1 class=tc-site-title>\\\\n      {{$:/SiteTitle}}\\\\n    \u003C/h1>\\\\n    \u003Cdiv class=tc-site-subtitle>\\\\n      {{$:/SiteSubtitle}}\\\\n    \u003C/div>\\\\n  \u003C/div>\\\\n\u003C/div>\\\\n\\\"},\\\"$:/themes/nico/notebook/ui/Sidebar/Search\\\":{\\\"created\\\":\\\"20200429191943257\\\",\\\"modified\\\":\\\"20210124220152702\\\",\\\"tags\\\":\\\"$:/themes/nico/notebook/tags/Sidebar\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\u003Cdiv class=mobile-only>\\\\n  \u003Cdiv class=segment>\\\\n    \u003Cdiv class=\\\\\\\"content search\\\\\\\">\\\\n      {{$:/themes/nico/notebook/ui/Search}}\\\\n    \u003C/div>\\\\n  \u003C/div>\\\\n\u003C/div>\\\\n\\\"},\\\"$:/themes/nico/notebook/ui/Sidebar/SearchResults\\\":{\\\"created\\\":\\\"20200429191943257\\\",\\\"modified\\\":\\\"20210126164631418\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\\\\\\\\define searchResultList()\\\\n  \u003Csmall>{{$:/language/Search/Matches/Title}}\u003C/small>\\\\n\\\\n\u003C$list filter=\\\\\\\"[!is[system]search:title{$(searchTiddler)$}sort[title]limit[250]]\\\\\\\">\\\\n    \u003Cspan class={{{[{!!title}addsuffix[-primaryList]]-[\u003CsearchListState>get[text]]+[then[]else[tc-list-item-selected]]}}}>\\\\n      {{||$:/core/ui/ListItemTemplate}}\\\\n    \u003C/span>\\\\n  \u003C/$list>\\\\n\\\\n\u003Csmall>{{$:/language/Search/Matches/All}}\u003C/small>\\\\n\\\\n\u003C$list filter=\\\\\\\"[!is[system]search{$(searchTiddler)$}sort[title]limit[250]]\\\\\\\">\\\\n    \u003Cspan class={{{[{!!title}addsuffix[-secondaryList]]-[\u003CsearchListState>get[text]]+[then[]else[tc-list-item-selected]]}}}>\\\\n      {{||$:/core/ui/ListItemTemplate}}\\\\n    \u003C/span>\\\\n  \\\\n\\\\\\\\end\\\\n\u003Cdiv class=tc-search-results>\\\\n  \u003C\u003CsearchResultList>>\\\\n\u003C/div>\\\\n\\\"},\\\"$:/themes/nico/notebook/ui/Sidebar/SectionTemplate\\\":{\\\"created\\\":\\\"20200429161226897\\\",\\\"modified\\\":\\\"20210202213859460\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\\\\\\\\define sidebarHeading()\\\\n\u003C$let tv-wikilinks=no>\\\\n  \u003C$transclude field=caption>\\\\n    \u003C$view field=title/>\\\\n  \u003C/$transclude>\\\\n\\\\n\\\\\\\\end\\\\n\u003C$reveal state=\\\\\\\"$:/state/notebook-sidebar-section\\\\\\\"type=match text={{!!title}}default=no animate=no>\\\\n  \u003Cdiv class=\\\\\\\"segment section open\\\\\\\">\\\\n    \u003C$button set=\\\\\\\"$:/state/notebook-sidebar-section\\\\\\\"setTo=\\\\\\\"\\\\\\\"class=\\\\\\\"tc-btn-invisible label\\\\\\\">\\\\n      \u003C\u003CsidebarHeading>>\\\\n      \u003Cspan class=caret>{{$:/themes/nico/notebook/images/caret-down}}\u003C/span>\\\\n    \u003C/$button>\\\\n    \u003Cdiv class=content>\\\\n      \u003C$transclude $tiddler={{!!title}}mode=block/>\\\\n    \u003C/div>\\\\n  \u003C/div>\\\\n\u003C/$reveal>\\\\n\u003C$reveal state=\\\\\\\"$:/state/notebook-sidebar-section\\\\\\\"type=nomatch text={{!!title}}default=yes animate=no>\\\\n  \u003Cdiv class=\\\\\\\"segment section\\\\\\\">\\\\n    \u003C$button set=\\\\\\\"$:/state/notebook-sidebar-section\\\\\\\"setTo={{!!title}}class=\\\\\\\"tc-btn-invisible label\\\\\\\">\\\\n      \u003C\u003CsidebarHeading>>\\\\n      \u003Cspan class=caret>{{$:/themes/nico/notebook/images/caret-right}}\u003C/span>\\\\n    \u003C/$button>\\\\n  \u003C/div>\\\\n\u003C/$reveal>\\\\n\\\"},\\\"$:/themes/nico/notebook/ui/Sidebar/Sections\\\":{\\\"created\\\":\\\"20200429163239707\\\",\\\"modified\\\":\\\"20210112213620486\\\",\\\"tags\\\":\\\"$:/themes/nico/notebook/tags/Sidebar\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\u003C$list filter=\\\\\\\"[all[shadows+tiddlers]!is[draft]tag[$:/tags/SideBar]]\\\\\\\">\\\\n  {{||$:/themes/nico/notebook/ui/Sidebar/SectionTemplate}}\\\\n\u003C/$list>\\\\n\\\"},\\\"$:/themes/nico/notebook/ui/Sidebar\\\":{\\\"created\\\":\\\"20200428201218885\\\",\\\"modified\\\":\\\"20210112213605486\\\",\\\"tags\\\":\\\"$:/tags/PageTemplate\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\\\\\\\\define config-title()$:/config/SideBarSegments/Visibility/$(listItem)$\\\\n\u003C$reveal state=\\\\\\\"$:/state/notebook-sidebar\\\\\\\"type=match text=yes default=no retain=yes animate=no>\u003C$scrollable fallthrough=no>\u003Cdiv class=nc-sidebar>\u003C$list filter=\\\\\\\"[[$:/themes/nico/notebook/tags/Sidebar]tagging[]!is[draft]]\\\\\\\"variable=listItem>\u003C$reveal type=nomatch state=\u003C\u003Cconfig-title>>text=hide tag=div>\u003C$transclude tiddler=\u003C\u003ClistItem>>mode=inline/>\\\"},\\\"$:/themes/nico/notebook/ui/Topbar\\\":{\\\"created\\\":\\\"20200428203101797\\\",\\\"modified\\\":\\\"20210124213834458\\\",\\\"tags\\\":\\\"$:/tags/PageTemplate\\\",\\\"type\\\":\\\"text/vnd.tiddlywiki\\\",\\\"text\\\":\\\"\u003C$reveal state=\\\\\\\"$:/state/notebook-topbar\\\\\\\"type=match text=yes default=yes retain=yes animate=yes>\\\\n  \u003Cdiv class=nc-topbar-wrapper>\\\\n    \u003Cdiv class=\\\\\\\"nc-bar nc-topbar tc-adjust-top-of-scroll\\\\\\\">\\\\n      \u003C$list filter=\\\\\\\"[[$:/tags/NotebookTopbar]tagging[]!is[draft]]\\\\\\\"variable=listItem>\\\\n        \u003C$reveal type=nomatch state=\u003C\u003Cconfig-title>>text=hide tag=div>\\\\n          \u003C$transclude tiddler=\u003C\u003ClistItem>>mode=block/>\\\\n        \u003C/$reveal>\\\\n      \u003C/$list>\\\\n      \u003Cdiv class=left>\\\\n\\\\t{{$:/themes/nico/notebook/ui/Buttons/menu}}\\\\n        {{$:/themes/nico/notebook/ui/Search}}\\\\n      \u003C/div>\\\\n      \u003Cdiv class=right>\\\\n        {{$:/core/ui/SideBarSegments/page-controls}}\\\\n      \u003C/div>\\\\n    \u003C/div>\\\\n  \u003C/div>\\\\n\\\"}},\\\"ugly\\\":true}\",\n    \"author\": \"NicolasPetton\",\n    \"bag\": \"default\",\n    \"core-version\": \">=5.1.22\",\n    \"created\": \"20210503195701895\",\n    \"dependents\": \"$:/themes/tiddlywiki/vanilla $:/plugins/nico/notebook-mobile\",\n    \"description\": \"A clean, uncluttered TiddlyWiki theme\",\n    \"list\": \"LICENSE changelog\",\n    \"modified\": \"20210503195701895\",\n    \"name\": \"Notebook theme\",\n    \"plugin-priority\": \"1\",\n    \"plugin-type\": \"theme\",\n    \"revision\": \"0\",\n    \"source\": \"https://github.com/NicolasPetton/Notebook\",\n    \"version\": \"1.4.1\"\n}\n,\n\"$:/themes/nico/notebook/metrics/story-width\": {\n    \"title\": \"$:/themes/nico/notebook/metrics/story-width\",\n    \"type\": \"text/vnd.tiddlywiki\",\n    \"text\": \"88%\\n\",\n    \"created\": \"20251201215655029\",\n    \"modified\": \"20251201215730325\",\n    \"tags\": \"\"\n}\n,\n\"$:/themes/nico/notebook/options/reveal-tiddler-controls-on-hover\": {\n    \"title\": \"$:/themes/nico/notebook/options/reveal-tiddler-controls-on-hover\",\n    \"text\": \"yes\",\n    \"created\": \"20251127143301586\",\n    \"modified\": \"20251127143301586\"\n}\n,\n\"$:/themes/nico/notebook/options/stickytitles\": {\n    \"title\": \"$:/themes/nico/notebook/options/stickytitles\",\n    \"text\": \"yes\",\n    \"created\": \"20251127143251461\",\n    \"modified\": \"20251127143251461\"\n}\n,\n\"$:/themes/nico/notebook/settings/fontfamily\": {\n    \"title\": \"$:/themes/nico/notebook/settings/fontfamily\",\n    \"type\": \"text/vnd.tiddlywiki\",\n    \"text\": \"\\\"Vollkorn\\\", \\\"Segoe UI\\\",Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\",\\\"Segoe UI Symbol\\\"\",\n    \"created\": \"20210101213404232\",\n    \"modified\": \"20251129174723735\",\n    \"tags\": \"\"\n}\n,\n\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\": {\n    \"title\": \"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\",\n    \"text\": \"fluid-fixed\"\n}\n,\n\"$:/wilk/buttons/copy-code\": {\n    \"created\": \"20240306203048995\",\n    \"creator\": \"wilk\",\n    \"text\": \"\\\\widget $codeblock(code, language)\\n\u003Cdiv class=\\\"wilk-copy-code-button\\\">\\n\\t\u003C% if [\u003CcurrentTiddler>!code-body[yes]] %>\\n\\t\\t\u003C$button\\n\\t\\tmessage=\\\"tm-copy-to-clipboard\\\"\\n\\t\\tparam=\u003C\u003Ccode>>\\n\\t\\ttooltip=\\\"Copy\\\"\\n\\t\\tclass=\\\"tc-btn-invisible\\\">\\n\\t\\t\\t{{$:/core/images/copy-clipboard}}\\n\\t\\t\u003C/$button>\\n\\t\u003C% endif %>\\n\\t\u003C$genesis $type=\\\"$codeblock\\\" $remappable=\\\"no\\\" code=\u003C\u003Ccode>> language=\u003C\u003Clanguage>>/>\\n\u003C/div>\\n\\\\end\",\n    \"tags\": \"$:/tags/Global $:/wilk/tweaks/CopyCodeButton\",\n    \"title\": \"$:/wilk/buttons/copy-code\",\n    \"modified\": \"20241122140838405\",\n    \"modifier\": \"wilk\"\n}\n,\n\"$:/wilk/css/CopyCodeButton\": {\n    \"created\": \"20240306203326726\",\n    \"creator\": \"wilk\",\n    \"text\": \"div.wilk-copy-code-button {\\n\\tposition: relative;\\n}\\ndiv.wilk-copy-code-button > button.tc-btn-invisible {\\n\\tposition: absolute;\\n\\tright: 0;\\n\\tpadding: 0.1em 0.2em;\\n\\tfill: \u003C\u003Ccolour tiddler-controls-foreground>>;\\n}\\ndiv.wilk-copy-code-button > button.tc-btn-invisible:hover {\\n\\tfill: \u003C\u003Ccolour tiddler-controls-foreground-hover>>;\\n}\",\n    \"tags\": \"$:/tags/Stylesheet $:/wilk/tweaks/CopyCodeButton\",\n    \"title\": \"$:/wilk/css/CopyCodeButton\",\n    \"modified\": \"20240307123354169\",\n    \"modifier\": \"wilk\"\n}\n}\n}","title":"$:/plugins/xyvir/Lithic","stability":"STABILITY_1_EXPERIMENTAL","type":"application/json","modified":"20251210231248759","plugin-priority":"99999999","author":"Xyvir","name":"Lithic Plugin","description":"A rollup of all the Lithic-Specific Tweaks","version":"0.0.1","source":"https://lithic.uk","dependents":"$:/plugins/phiv/streams-fusion $:/plugins/linonetwo/tw-react $:/plugins/linonetwo/tw-whiteboard  $:/plugins/snowgoon88/edit-comptext  $:/plugins/tiddlywiki/markdown  $:/plugins/flibbles/relink  $:/plugins/flibbles/relink-titles","plugin-type":"plugin","packaged-by":"Gatha on 10th December 2025, 17:40:57"}

