created: 20251128173532931
modified: 20251211185904959
stream-list: $:/JournalArchiveFeed/53855 $:/JournalArchiveFeed/06772
stream-type: default
tags: 
title: $:/JournalArchiveFeed

\define default-archive-limit() 7

<$list filter="[[$:/state/JournalArchiveFeed/Limit]!is[tiddler]]">
  <$action-setfield $tiddler="$:/state/JournalArchiveFeed/Limit" text=<<default-archive-limit>>/>
</$list>

<$list filter="[tag[Journal]!days:created[-7]limit[1]]" emptyMessage="<div style='margin-top:2em; color:#777; font-style:italic;'>Journals older than 7 days will appear here.</div>">
  <h2 style="border-bottom: 1px solid #ccc; margin-top: 2em;">Older Journals</h2>
</$list>

<$list filter="[tag[Journal]!days:created[-7]!sort[created]limit{$:/state/JournalArchiveFeed/Limit}]">
  {{||$:/core/ui/ViewTemplate}}
  <hr class="tc-separator"/>
</$list>

<$list filter="[tag[Journal]!days:created[-7]count[]] -[tag[Journal]!days:created[-7]limit{$:/state/JournalArchiveFeed/Limit}count[]]" variable="ignore">
  <div style="text-align: center; margin-top: 2em; margin-bottom: 2em;">
    <$button class="tc-btn-big-green">
      Load Previous 7 Days
      <$action-setfield $tiddler="$:/state/JournalArchiveFeed/Limit" text={{{ [{$:/state/JournalArchiveFeed/Limit}add[7]] }}} />
    </$button>
  </div>
</$list>